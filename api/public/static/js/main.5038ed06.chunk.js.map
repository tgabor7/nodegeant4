{"version":3,"sources":["images/editicon.png","logo.svg","rendering/shader.js","utils/maths.js","shaders/gridshader.js","rendering/grid.js","shaders/mainshader.js","rendering/model.js","entities/cube.js","rendering/renderSystem.js","detector/Detektor.js","gun/ParticleGun.js","gun/gun.js","source/ParticleSource.js","shaders/instanceshader.js","rendering/InstanceRenderer.js","entities/cylinder.js","entities/sphere.js","graphics/Canvas.js","detector/MaterialList.js","detector/DetectorEditDialog.js","detector/DetectorButton.js","detector/DetectorDialog.js","gun/GunEditDialog.js","gun/GunButton.js","gun/GunDialog.js","source/SourceEditDialog.js","source/SourceButton.js","source/SourceDialog.js","graphics/RunDialog.js","graphics/SpectrumDialog.js","graphics/NavigationBar.js","entities/Particle.js","graphics/spectrum.js","utils/STLParser.js","utils/Parser.js","graphics/CodeEditor.js","App.js","serviceWorker.js","index.js"],"names":["module","exports","Shader","attribs","path","gl","this","vertexShaderText","vertexShader","fragmentShaderText","fragmentShader","createShader","VERTEX_SHADER","FRAGMENT_SHADER","shaderSource","compileShader","getShaderParameter","COMPILE_STATUS","program","createProgram","attachShader","i","length","bindAttribLocation","linkProgram","getProgramParameter","LINK_STATUS","validateProgram","VALIDATE_STATUS","console","error","getProgramInfoLog","getShaderInfoLog","useProgram","name","value","location","getUniformLocation","uniform1f","uniform1i","x","y","z","uniform3f","uniformMatrix4fv","Matrix","Float64Array","Vector3","Camera","d","p","a","Maths","mat","v","res","result","l","Math","sqrt","r","eye","center","up","forward","upt","normalize","side","cross","m","invert","inv","det","angle","c","cos","s","sin","axis","temp","R","n","j","k","rx","ry","rz","sx","sy","sz","translate","rotate","scale","camera","view","lookAt","FOV","NEAR_PLANE","FAR_PLANE","width","height","aspectRatio","y_scale","tan","x_scale","frustum_length","projectionMatrix","left","right","bottom","top","zNear","zFar","u","GridShader","GridRenderer","shader","vertices","vertical","horizontal","vao","createVertexArray","bindVertexArray","enableVertexAttribArray","vbo","createBuffer","bindBuffer","ARRAY_BUFFER","bufferData","Float32Array","STATIC_DRAW","vertexAttribPointer","FLOAT","FALSE","disableVertexAttribArray","projection","f","bind","enable","DEPTH_TEST","disable","CULL_FACE","createViewMatrix","transformation","createTransformationMatrix","setUniform4fv","setUniform","drawArrays","LINES","unBind","MainShader","Model","normals","color","drawLines","outline","position","rotation","nvbo","LINE_STRIP","TRIANGLES","Cube","RenderSystem","models","sources","detectors","guns","particles","addModel","drawTracks","drawParticles","detector","splice","gun","source","model","push","particle","id","acitve_id","setUniform3f","setUniform1i","draw","log","Detector","material","active","deposit","hits","numberOfHits","list","sort","b","hit","no","abs","ParticleGun","direction","energy","GunMesh","ParticleSource","InstancedShader","InstanceRenderer","index","createVBO","color_vbo","InstanceShader","storeData","addIntanceAttrib","vboData","colorData","colorIndex","storeMatrixData","storeVectorData","updateVBO","drawArraysInstanced","STREAM_DRAW","attribnumber","coordinateSize","data","attribute","datasize","datalength","offset","vertexAttribDivisor","bufferSubData","Cylinder","Sphere","Canvas","props","canvas","createRef","oldX","oldY","move","keyDown","down","renderer","instanceRenderer","clearTracks","current","getContext","requestAnimationFrame","clearColor","clear","COLOR_BUFFER_BIT","createProjectionMatrix","offsetWidth","offsetHeight","getMouseYd","PI","getMouseXd","render","addSource","addDetector","type","dx","dy","dz","addGun","removeSource","removeDetector","removeGun","ref","onMouseMove","e","pageX","pageY","tabIndex","style","onKeyDown","keyCode","onKeyUp","onMouseDown","onMouseUp","onWheel","delta","deltaY","Component","MaterialList","materials","DetectorEditDialog","showDialog","hideDialog","state","show","detname","detposx","detposy","detposz","detrotx","detroty","detrotz","detscalex","detscaley","detscalez","detmat","showError","hex","substr","bigint","parseInt","setState","Modal","onHide","Header","closeButton","Title","Body","Form","Container","Row","Col","Control","className","required","maxLength","onChange","event","target","Group","controlId","Label","onInput","evt","hexToRgb","Footer","Button","variant","onClick","removebutton","button","backgroundColor","check","updatedetails","DetectorButton","editdialog","React","updateDetails","details","buttons","Card","Accordion","Toggle","as","eventKey","Collapse","DetectorDialog","geomrty","display","filelabel","modeldata","ann","detectorName","File","label","data-browse","custom","alert","files","FileReader","onload","readAsBinaryString","split","createbutton","GunEditDialog","detdirx","detdiry","detdirz","GunButton","GunDialog","SourceEditDialog","SourceButton","SourceDialog","RunDialog","numberOfParticles","loading","setLoading","margin","Spinner","animation","role","runsim","SpectrumDialog","numberofparticles","now","binsize","options","NavigationBar","dialog","gundialog","sourcedialog","rundialog","spectrumdialog","showTracks","showParticles","creategunbutton","createsourcebutton","run","runspectroscopy","Navbar","bg","Brand","clearrun","clearSetup","Nav","Dropdown","border","Menu","OverlayTrigger","overlay","Tooltip","Item","Check","checked","setshowtracks","setshowparticles","inline","FormControl","placeholder","Particle","track_id","parent_id","totalEnergy","energyDeposit","definition","Spectrum","energies","numberofenergies","chart","Chart","labels","datasets","borderColor","responsive","plugins","zoom","pan","enabled","mode","isNaN","contains","getIndex","addData","destroy","ctx","forEach","dataset","update","STLParrser","readFloat","chars","Uint8Array","charCodeAt","buffer","size","Int32Array","readInt","ModelData","Parser","text","createDetector","createSource","createGun","blocks","words","replace","lines","trim","params","parseFloat","CodeEditor","editor","parse","App","spectrum","gunbuttons","sourcebuttons","page","runSim","runSpectroscopy","setShowParticles","setShowTracks","clearRun","accordion","tracks","number_of_particles","message_data","number_of_detectors","number_of_sources","number_of_guns","sendGamma","hidedialog","send","message","fetch","headers","method","body","JSON","stringify","then","response","processGammaSpectrum","processResponse","add","floor","floats","track_data","numberOfSteps","t_norm","tm","tmp_particles","ceil","slice","max","get_average","addParticle","bs","key","px","py","pz","modelData","STLParser","parseData","addSTLDetector","items","map","item","gunButtons","sourceButtons","Tab","defaultActiveKey","activeKey","sm","Link","disabled","Content","Pane","overflow","Boolean","window","hostname","match","ReactDOM","StrictMode","document","getElementById","navigator","serviceWorker","ready","registration","unregister","catch"],"mappings":"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AqB,EAAE,kBAAmB,oBAAqB,EAAE,kBAAmB,mBAAoB,EAAE,EAAE,qBAAqB,EAAE,kBAAmB,oBAAqB,EAAE,EAAE,qBAAqB,EAAE,EAAE,sBAAsB,EAAE,EAAE,sBAAsB,EAAE,EAAE,qBAAqB,EAAE,mBAAoB,mBAAoB,EAAE,EAAE,sBAAsB,EAAE,mBAAoB,mBAAoB,EAAE,mBAAoB,oBAAqB,EAAE,mBAAoB,oBAAqB,EAAE,mBAAoB,mBAAoB,EAAE,mBAAoB,mBAAoB,EAAE,mBAAoB,oBAAqB,EAAE,mBAAoB,mBAAoB,EAAE,mBAAoB,oBAAqB,EAAE,mBAAoB,oBAAqB,EAAE,mBAAoB,mBAAoB,EAAE,mBAAoB,kBAAmB,EAAE,mBAAoB,oBAAqB,EAAE,mBAAoB,kBAAmB,EAAE,mBAAoB,mBAAoB,EAAE,mBAAoB,mBAAoB,EAAE,mBAAoB,kBAAmB,EAAE,mBAAoB,kBAAmB,EAAE,mBAAoB,mBAAoB,EAAE,mBAAoB,kBAAmB,EAAE,mBAAoB,mBAAoB,EAAE,mBAAoB,mBAAoB,EAAE,mBAAoB,kBAAmB,EAAE,mBAAoB,kBAAmB,EAAE,mBAAoB,mBAAoB,EAAE,mBAAoB,kBAAmB,EAAE,mBAAoB,mBAAoB,EAAE,mBAAoB,mBAAoB,EAAE,mBAAoB,kBAAmB,EAAE,oBAAqB,kBAAmB,EAAE,mBAAoB,mBAAoB,EAAE,oBAAqB,kBAAmB,EAAE,oBAAqB,mBAAoB,EAAE,oBAAqB,mBAAoB,EAAE,oBAAqB,kBAAmB,EAAE,oBAAqB,kBAAmB,EAAE,oBAAqB,mBAAoB,EAAE,oBAAqB,kBAAmB,EAAE,oBAAqB,mBAAoB,EAAE,oBAAqB,mBAAoB,EAAE,oBAAqB,kBAAmB,GAAG,uBAAuB,EAAE,EAAE,oBAAqB,mBAAoB,GAAG,uBAAuB,EAAE,GAAG,uBAAuB,GAAG,GAAG,uBAAuB,GAAG,GAAG,uBAAuB,EAAE,GAAG,oBAAqB,kBAAmB,GAAG,uBAAuB,GAAG,GAAG,oBAAqB,kBAAmB,GAAG,oBAAqB,mBAAoB,GAAG,oBAAqB,mBAAoB,GAAG,oBAAqB,kBAAmB,GAAG,mBAAoB,kBAAmB,GAAG,oBAAqB,mBAAoB,GAAG,mBAAoB,kBAAmB,GAAG,mBAAoB,mBAAoB,GAAG,mBAAoB,mBAAoB,GAAG,mBAAoB,kBAAmB,GAAG,mBAAoB,kBAAmB,GAAG,mBAAoB,mBAAoB,GAAG,mBAAoB,kBAAmB,GAAG,mBAAoB,mBAAoB,GAAG,mBAAoB,mBAAoB,GAAG,mBAAoB,kBAAmB,GAAG,mBAAoB,iBAAkB,GAAG,mBAAoB,mBAAoB,GAAG,mBAAoB,iBAAkB,GAAG,mBAAoB,kBAAmB,GAAG,mBAAoB,kBAAmB,GAAG,mBAAoB,iBAAkB,GAAG,mBAAoB,kBAAmB,GAAG,mBAAoB,kBAAmB,GAAG,mBAAoB,kBAAmB,GAAG,mBAAoB,mBAAoB,GAAG,mBAAoB,mBAAoB,GAAG,mBAAoB,kBAAmB,GAAG,kBAAmB,kBAAmB,GAAG,mBAAoB,mBAAoB,GAAG,kBAAmB,kBAAmB,GAAG,kBAAmB,mBAAoB,GAAG,kBAAmB,mBAAoB,GAAG,kBAAmB,kBAAmB,GAAG,mBAAoB,kBAAmB,GAAG,kBAAmB,mBAAoB,GAAG,mBAAoB,kBAAmB,GAAG,mBAAoB,mBAAoB,GAAG,mBAAoB,mBAAoB,GAAG,mBAAoB,kBAAmB,GAAG,EAAE,qBAAqB,GAAG,mBAAoB,mBAAoB,GAAG,EAAE,qBAAqB,GAAG,EAAE,sBAAsB,GAAG,EAAE,sBAAsB,GAAG,EAAE,qBAAqB,GAAG,iBAAkB,kBAAmB,GAAG,EAAE,sBAAsB,GAAG,iBAAkB,kBAAmB,GAAG,iBAAkB,mBAAoB,GAAG,iBAAkB,mBAAoB,GAAG,iBAAkB,kBAAmB,GAAG,iBAAkB,mBAAoB,GAAG,iBAAkB,mBAAoB,GAAG,iBAAkB,mBAAoB,GAAG,iBAAkB,oBAAqB,GAAG,iBAAkB,oBAAqB,GAAG,iBAAkB,mBAAoB,GAAG,iBAAkB,kBAAmB,GAAG,iBAAkB,oBAAqB,GAAG,iBAAkB,kBAAmB,GAAG,iBAAkB,mBAAoB,GAAG,iBAAkB,mBAAoB,GAAG,iBAAkB,kBAAmB,GAAG,kBAAmB,iBAAkB,GAAG,iBAAkB,mBAAoB,GAAG,kBAAmB,iBAAkB,GAAG,kBAAmB,kBAAmB,GAAG,kBAAmB,kBAAmB,GAAG,kBAAmB,iBAAkB,GAAG,kBAAmB,kBAAmB,GAAG,kBAAmB,kBAAmB,GAAG,kBAAmB,kBAAmB,GAAG,kBAAmB,mBAAoB,GAAG,kBAAmB,mBAAoB,GAAG,kBAAmB,kBAAmB,GAAG,mBAAoB,kBAAmB,GAAG,kBAAmB,mBAAoB,GAAG,mBAAoB,kBAAmB,GAAG,mBAAoB,mBAAoB,EAAE,kBAAmB,kBAAmB,EAAE,mBAAoB,kBAAmB,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,GAAG,mBAAoB,kBAAmB,GAAG,mBAAoB,kBAAmB,GAAG,mBAAoB,kBAAmB,GAAG,kBAAmB,kBAAmB,GAAG,kBAAmB,iBAAkB,GAAG,kBAAmB,iBAAkB,GAAG,iBAAkB,kBAAmB,GAAG,iBAAkB,mBAAoB,GAAG,iBAAkB,mBAAoB,GAAG,iBAAkB,kBAAmB,GAAG,EAAE,qBAAqB,GAAG,EAAE,qBAAqB,GAAG,mBAAoB,kBAAmB,GAAG,kBAAmB,kBAAmB,GAAG,kBAAmB,kBAAmB,GAAG,mBAAoB,kBAAmB,GAAG,mBAAoB,iBAAkB,GAAG,mBAAoB,iBAAkB,GAAG,mBAAoB,kBAAmB,GAAG,mBAAoB,kBAAmB,GAAG,mBAAoB,kBAAmB,GAAG,oBAAqB,kBAAmB,GAAG,uBAAuB,EAAE,GAAG,uBAAuB,EAAE,EAAE,oBAAqB,kBAAmB,EAAE,oBAAqB,kBAAmB,EAAE,oBAAqB,kBAAmB,EAAE,mBAAoB,kBAAmB,EAAE,mBAAoB,kBAAmB,EAAE,mBAAoB,kBAAmB,EAAE,mBAAoB,kBAAmB,EAAE,mBAAoB,mBAAoB,EAAE,mBAAoB,mBAAoB,EAAE,mBAAoB,mBAAoB,EAAE,EAAE,qBAAqB,EAAE,EAAE,qBAAqB,EAAE,kBAAmB,mBAAoB,EAAE,kBAAmB,kBAAmB,EAAE,kBAAmB,kBAAmB,EAAE,kBAAmB,kBAAmB,EAAE,kBAAmB,kBAAmB,EAAE,kBAAmB,kBAAmB,EAAE,kBAAmB,kBAAmB,EAAE,kBAAmB,kBAAmB,EAAE,kBAAmB,kBAAmB,EAAE,EAAE,EAAE,GAAG,mBAAoB,kBAAmB,GAAG,mBAAoB,kBAAmB,GAAG,kBAAmB,iBAAkB,GAAG,iBAAkB,mBAAoB,GAAG,iBAAkB,mBAAoB,GAAG,EAAE,qBAAqB,GAAG,kBAAmB,kBAAmB,GAAG,kBAAmB,kBAAmB,GAAG,mBAAoB,iBAAkB,GAAG,mBAAoB,kBAAmB,GAAG,mBAAoB,kBAAmB,GAAG,uBAAuB,EAAE,EAAE,oBAAqB,kBAAmB,EAAE,oBAAqB,kBAAmB,EAAE,mBAAoB,kBAAmB,EAAE,mBAAoB,mBAAoB,EAAE,mBAAoB,mBAAoB,EAAE,EAAE,qBAAqB,EAAE,kBAAmB,kBAAmB,EAAE,kBAAmB,kBAAmB,EAAE,kBAAmB,kBAAmB,EAAE,kBAAmB,kBAAmB,EAAE,kBAAmB,kBAAmB,GAAG,mBAAoB,kBAAmB,GAAG,iBAAkB,mBAAoB,GAAG,iBAAkB,mBAAoB,GADhyT6G,EAIK1E,QAAU,CAAC,EAAE,GAAG,EAAE,EAAE,EAAE,EAAE,mBAAoB,kBAAmB,EAAE,EAAE,GAAG,EAAE,mBAAoB,kBAAmB,EAAE,mBAAoB,mBAAoB,EAAE,mBAAoB,mBAAoB,EAAE,mBAAoB,kBAAmB,EAAE,kBAAmB,kBAAmB,EAAE,mBAAoB,mBAAoB,EAAE,kBAAmB,kBAAmB,EAAE,kBAAmB,mBAAoB,EAAE,kBAAmB,mBAAoB,EAAE,kBAAmB,kBAAmB,EAAE,kBAAmB,kBAAmB,EAAE,kBAAmB,mBAAoB,EAAE,kBAAmB,kBAAmB,EAAE,kBAAmB,mBAAoB,EAAE,kBAAmB,mBAAoB,EAAE,kBAAmB,kBAAmB,EAAE,kBAAmB,kBAAmB,EAAE,kBAAmB,mBAAoB,EAAE,kBAAmB,kBAAmB,EAAE,kBAAmB,mBAAoB,EAAE,kBAAmB,mBAAoB,EAAE,kBAAmB,kBAAmB,EAAE,kBAAmB,kBAAmB,EAAE,kBAAmB,mBAAoB,EAAE,kBAAmB,kBAAmB,EAAE,kBAAmB,mBAAoB,EAAE,kBAAmB,mBAAoB,EAAE,kBAAmB,kBAAmB,EAAE,kBAAmB,kBAAmB,EAAE,kBAAmB,mBAAoB,EAAE,kBAAmB,kBAAmB,EAAE,kBAAmB,mBAAoB,EAAE,kBAAmB,mBAAoB,EAAE,kBAAmB,kBAAmB,EAAE,kBAAmB,mBAAoB,EAAE,kBAAmB,mBAAoB,EAAE,kBAAmB,mBAAoB,EAAE,kBAAmB,oBAAqB,EAAE,kBAAmB,oBAAqB,EAAE,kBAAmB,mBAAoB,EAAE,EAAE,qBAAqB,EAAE,kBAAmB,oBAAqB,EAAE,EAAE,qBAAqB,EAAE,EAAE,sBAAsB,EAAE,EAAE,sBAAsB,EAAE,EAAE,qBAAqB,EAAE,mBAAoB,mBAAoB,EAAE,EAAE,sBAAsB,EAAE,mBAAoB,mBAAoB,EAAE,mBAAoB,oBAAqB,EAAE,mBAAoB,oBAAqB,EAAE,mBAAoB,mBAAoB,EAAE,mBAAoB,mBAAoB,EAAE,mBAAoB,oBAAqB,EAAE,mBAAoB,mBAAoB,EAAE,mBAAoB,oBAAqB,EAAE,mBAAoB,oBAAqB,EAAE,mBAAoB,mBAAoB,EAAE,mBAAoB,kBAAmB,EAAE,mBAAoB,oBAAqB,EAAE,mBAAoB,kBAAmB,EAAE,mBAAoB,mBAAoB,EAAE,mBAAoB,mBAAoB,EAAE,mBAAoB,kBAAmB,EAAE,mBAAoB,kBAAmB,EAAE,mBAAoB,mBAAoB,EAAE,mBAAoB,kBAAmB,EAAE,mBAAoB,mBAAoB,EAAE,mBAAoB,mBAAoB,EAAE,mBAAoB,kBAAmB,EAAE,mBAAoB,kBAAmB,EAAE,mBAAoB,mBAAoB,EAAE,mBAAoB,kBAAmB,EAAE,mBAAoB,mBAAoB,EAAE,mBAAoB,mBAAoB,EAAE,mBAAoB,kBAAmB,EAAE,oBAAqB,kBAAmB,EAAE,mBAAoB,mBAAoB,EAAE,oBAAqB,kBAAmB,EAAE,oBAAqB,mBAAoB,EAAE,oBAAqB,mBAAoB,EAAE,oBAAqB,kBAAmB,EAAE,oBAAqB,kBAAmB,EAAE,oBAAqB,mBAAoB,EAAE,oBAAqB,kBAAmB,EAAE,oBAAqB,mBAAoB,EAAE,oBAAqB,mBAAoB,EAAE,oBAAqB,kBAAmB,GAAG,uBAAuB,EAAE,EAAE,oBAAqB,mBAAoB,GAAG,uBAAuB,EAAE,GAAG,uBAAuB,GAAG,GAAG,uBAAuB,GAAG,GAAG,uBAAuB,EAAE,GAAG,oBAAqB,kBAAmB,GAAG,uBAAuB,GAAG,GAAG,oBAAqB,kBAAmB,GAAG,oBAAqB,mBAAoB,GAAG,oBAAqB,mBAAoB,GAAG,oBAAqB,kBAAmB,GAAG,mBAAoB,kBAAmB,GAAG,oBAAqB,mBAAoB,GAAG,mBAAoB,kBAAmB,GAAG,mBAAoB,mBAAoB,GAAG,mBAAoB,mBAAoB,GAAG,mBAAoB,kBAAmB,GAAG,mBAAoB,kBAAmB,GAAG,mBAAoB,mBAAoB,GAAG,mBAAoB,kBAAmB,GAAG,mBAAoB,mBAAoB,GAAG,mBAAoB,mBAAoB,GAAG,mBAAoB,kBAAmB,GAAG,mBAAoB,iBAAkB,GAAG,mBAAoB,mBAAoB,GAAG,mBAAoB,iBAAkB,GAAG,mBAAoB,kBAAmB,GAAG,mBAAoB,kBAAmB,GAAG,mBAAoB,iBAAkB,GAAG,mBAAoB,kBAAmB,GAAG,mBAAoB,kBAAmB,GAAG,mBAAoB,kBAAmB,GAAG,mBAAoB,mBAAoB,GAAG,mBAAoB,mBAAoB,GAAG,mBAAoB,kBAAmB,GAAG,kBAAmB,kBAAmB,GAAG,mBAAoB,mBAAoB,GAAG,kBAAmB,kBAAmB,GAAG,kBAAmB,mBAAoB,GAAG,kBAAmB,mBAAoB,GAAG,kBAAmB,kBAAmB,GAAG,mBAAoB,kBAAmB,GAAG,kBAAmB,mBAAoB,GAAG,mBAAoB,kBAAmB,GAAG,mBAAoB,mBAAoB,GAAG,mBAAoB,mBAAoB,GAAG,mBAAoB,kBAAmB,GAAG,EAAE,qBAAqB,GAAG,mBAAoB,mBAAoB,GAAG,EAAE,qBAAqB,GAAG,EAAE,sBAAsB,GAAG,EAAE,sBAAsB,GAAG,EAAE,qBAAqB,GAAG,iBAAkB,kBAAmB,GAAG,EAAE,sBAAsB,GAAG,iBAAkB,kBAAmB,GAAG,iBAAkB,mBAAoB,GAAG,iBAAkB,mBAAoB,GAAG,iBAAkB,kBAAmB,GAAG,iBAAkB,mBAAoB,GAAG,iBAAkB,mBAAoB,GAAG,iBAAkB,mBAAoB,GAAG,iBAAkB,oBAAqB,GAAG,iBAAkB,oBAAqB,GAAG,iBAAkB,mBAAoB,GAAG,iBAAkB,kBAAmB,GAAG,iBAAkB,oBAAqB,GAAG,iBAAkB,kBAAmB,GAAG,iBAAkB,mBAAoB,GAAG,iBAAkB,mBAAoB,GAAG,iBAAkB,kBAAmB,GAAG,kBAAmB,iBAAkB,GAAG,iBAAkB,mBAAoB,GAAG,kBAAmB,iBAAkB,GAAG,kBAAmB,kBAAmB,GAAG,kBAAmB,kBAAmB,GAAG,kBAAmB,iBAAkB,GAAG,kBAAmB,kBAAmB,GAAG,kBAAmB,kBAAmB,GAAG,kBAAmB,kBAAmB,GAAG,kBAAmB,mBAAoB,GAAG,kBAAmB,mBAAoB,GAAG,kBAAmB,kBAAmB,GAAG,mBAAoB,kBAAmB,GAAG,kBAAmB,mBAAoB,GAAG,mBAAoB,kBAAmB,GAAG,mBAAoB,mBAAoB,EAAE,kBAAmB,kBAAmB,EAAE,mBAAoB,kBAAmB,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,GAAG,mBAAoB,kBAAmB,GAAG,mBAAoB,kBAAmB,GAAG,mBAAoB,kBAAmB,GAAG,kBAAmB,kBAAmB,GAAG,kBAAmB,iBAAkB,GAAG,kBAAmB,iBAAkB,GAAG,iBAAkB,kBAAmB,GAAG,iBAAkB,mBAAoB,GAAG,iBAAkB,mBAAoB,GAAG,iBAAkB,kBAAmB,GAAG,EAAE,qBAAqB,GAAG,EAAE,qBAAqB,GAAG,mBAAoB,kBAAmB,GAAG,kBAAmB,kBAAmB,GAAG,kBAAmB,kBAAmB,GAAG,mBAAoB,kBAAmB,GAAG,mBAAoB,iBAAkB,GAAG,mBAAoB,iBAAkB,GAAG,mBAAoB,kBAAmB,GAAG,mBAAoB,kBAAmB,GAAG,mBAAoB,kBAAmB,GAAG,oBAAqB,kBAAmB,GAAG,uBAAuB,EAAE,GAAG,uBAAuB,EAAE,EAAE,oBAAqB,kBAAmB,EAAE,oBAAqB,kBAAmB,EAAE,oBAAqB,kBAAmB,EAAE,mBAAoB,kBAAmB,EAAE,mBAAoB,kBAAmB,EAAE,mBAAoB,kBAAmB,EAAE,mBAAoB,kBAAmB,EAAE,mBAAoB,mBAAoB,EAAE,mBAAoB,mBAAoB,EAAE,mBAAoB,mBAAoB,EAAE,EAAE,qBAAqB,EAAE,EAAE,qBAAqB,EAAE,kBAAmB,mBAAoB,EAAE,kBAAmB,kBAAmB,EAAE,kBAAmB,kBAAmB,EAAE,kBAAmB,kBAAmB,EAAE,kBAAmB,kBAAmB,EAAE,kBAAmB,kBAAmB,EAAE,kBAAmB,kBAAmB,EAAE,kBAAmB,kBAAmB,EAAE,kBAAmB,kBAAmB,EAAE,EAAE,EAAE,GAAG,mBAAoB,kBAAmB,GAAG,mBAAoB,kBAAmB,GAAG,kBAAmB,iBAAkB,GAAG,iBAAkB,mBAAoB,GAAG,iBAAkB,mBAAoB,GAAG,EAAE,qBAAqB,GAAG,kBAAmB,kBAAmB,GAAG,kBAAmB,kBAAmB,GAAG,mBAAoB,iBAAkB,GAAG,mBAAoB,kBAAmB,GAAG,mBAAoB,kBAAmB,GAAG,uBAAuB,EAAE,EAAE,oBAAqB,kBAAmB,EAAE,oBAAqB,kBAAmB,EAAE,mBAAoB,kBAAmB,EAAE,mBAAoB,mBAAoB,EAAE,mBAAoB,mBAAoB,EAAE,EAAE,qBAAqB,EAAE,kBAAmB,kBAAmB,EAAE,kBAAmB,kBAAmB,EAAE,kBAAmB,kBAAmB,EAAE,kBAAmB,kBAAmB,EAAE,kBAAmB,kBAAmB,GAAG,mBAAoB,kBAAmB,GAAG,iBAAkB,mBAAoB,GAAG,iBAAkB,mBAAoB,GAGtxT0E,QCPTC,E,kCAAAA,EACK9G,SAAW,CAAC,qBAAqB,mBAAoB,mBAAoB,EAAE,mBAAoB,mBAAoB,mBAAoB,mBAAoB,mBAAoB,qBAAqB,mBAAoB,mBAAoB,mBAAoB,mBAAoB,mBAAoB,mBAAoB,mBAAoB,mBAAoB,EAAE,kBAAmB,kBAAmB,EAAE,kBAAmB,kBAAmB,mBAAoB,kBAAmB,kBAAmB,EAAE,kBAAmB,kBAAmB,mBAAoB,kBAAmB,kBAAmB,mBAAoB,kBAAmB,kBAAmB,sBAAsB,mBAAoB,kBAAmB,qBAAqB,mBAAoB,mBAAoB,mBAAoB,mBAAoB,mBAAoB,sBAAsB,mBAAoB,kBAAmB,mBAAoB,mBAAoB,mBAAoB,mBAAoB,mBAAoB,kBAAmB,EAAE,kBAAmB,kBAAmB,EAAE,kBAAmB,kBAAmB,mBAAoB,kBAAmB,kBAAmB,EAAE,kBAAmB,kBAAmB,mBAAoB,kBAAmB,kBAAmB,mBAAoB,kBAAmB,kBAAmB,qBAAqB,kBAAmB,kBAAmB,sBAAsB,mBAAoB,kBAAmB,mBAAoB,mBAAoB,kBAAmB,qBAAqB,kBAAmB,kBAAmB,mBAAoB,mBAAoB,kBAAmB,mBAAoB,mBAAoB,kBAAmB,EAAE,kBAAmB,kBAAmB,EAAE,kBAAmB,kBAAmB,mBAAoB,kBAAmB,kBAAmB,EAAE,kBAAmB,kBAAmB,mBAAoB,kBAAmB,kBAAmB,mBAAoB,kBAAmB,kBAAmB,EAAE,mBAAoB,kBAAmB,qBAAqB,kBAAmB,kBAAmB,mBAAoB,mBAAoB,kBAAmB,EAAE,mBAAoB,kBAAmB,mBAAoB,mBAAoB,kBAAmB,mBAAoB,mBAAoB,kBAAmB,EAAE,kBAAmB,kBAAmB,EAAE,kBAAmB,kBAAmB,mBAAoB,kBAAmB,kBAAmB,EAAE,kBAAmB,kBAAmB,mBAAoB,kBAAmB,kBAAmB,mBAAoB,iBAAkB,kBAAmB,qBAAqB,mBAAoB,kBAAmB,EAAE,mBAAoB,kBAAmB,mBAAoB,mBAAoB,kBAAmB,qBAAqB,mBAAoB,kBAAmB,mBAAoB,mBAAoB,kBAAmB,kBAAmB,mBAAoB,kBAAmB,EAAE,kBAAmB,mBAAoB,EAAE,kBAAmB,kBAAmB,mBAAoB,iBAAkB,kBAAmB,EAAE,kBAAmB,mBAAoB,mBAAoB,iBAAkB,kBAAmB,mBAAoB,kBAAmB,mBAAoB,qBAAqB,mBAAoB,kBAAmB,qBAAqB,mBAAoB,kBAAmB,kBAAmB,mBAAoB,kBAAmB,qBAAqB,mBAAoB,kBAAmB,kBAAmB,mBAAoB,kBAAmB,oBAAqB,oBAAqB,kBAAmB,EAAE,EAAE,qBAAqB,EAAE,kBAAmB,mBAAoB,mBAAoB,kBAAmB,mBAAoB,EAAE,EAAE,qBAAqB,mBAAoB,kBAAmB,mBAAoB,kBAAmB,kBAAmB,qBAAqB,EAAE,mBAAoB,mBAAoB,sBAAsB,qBAAqB,EAAE,mBAAoB,mBAAoB,kBAAmB,GAAG,uBAAuB,EAAE,qBAAqB,mBAAoB,kBAAmB,oBAAqB,oBAAqB,kBAAmB,EAAE,mBAAoB,mBAAoB,EAAE,EAAE,qBAAqB,kBAAmB,kBAAmB,qBAAqB,EAAE,mBAAoB,mBAAoB,kBAAmB,kBAAmB,qBAAqB,mBAAoB,mBAAoB,mBAAoB,EAAE,kBAAmB,kBAAmB,EAAE,mBAAoB,kBAAmB,mBAAoB,mBAAoB,kBAAmB,EAAE,kBAAmB,kBAAmB,mBAAoB,mBAAoB,kBAAmB,mBAAoB,kBAAmB,kBAAmB,GAAG,uBAAuB,EAAE,oBAAqB,oBAAqB,kBAAmB,kBAAmB,mBAAoB,kBAAmB,mBAAoB,mBAAoB,mBAAoB,kBAAmB,kBAAmB,qBAAqB,mBAAoB,kBAAmB,qBAAqB,mBAAoB,mBAAoB,mBAAoB,mBAAoB,kBAAmB,qBAAqB,gBAAiB,mBAAoB,mBAAoB,mBAAoB,kBAAmB,kBAAmB,mBAAoB,mBAAoB,kBAAmB,mBAAoB,kBAAmB,kBAAmB,mBAAoB,kBAAmB,kBAAmB,mBAAoB,kBAAmB,kBAAmB,mBAAoB,kBAAmB,kBAAmB,mBAAoB,mBAAoB,mBAAoB,mBAAoB,mBAAoB,mBAAoB,gBAAiB,mBAAoB,mBAAoB,mBAAoB,mBAAoB,mBAAoB,gBAAiB,mBAAoB,mBAAoB,mBAAoB,mBAAoB,mBAAoB,mBAAoB,kBAAmB,kBAAmB,mBAAoB,kBAAmB,kBAAmB,mBAAoB,kBAAmB,kBAAmB,mBAAoB,kBAAmB,kBAAmB,mBAAoB,kBAAmB,kBAAmB,mBAAoB,iBAAkB,kBAAmB,mBAAoB,mBAAoB,kBAAmB,mBAAoB,mBAAoB,mBAAoB,mBAAoB,mBAAoB,mBAAoB,mBAAoB,mBAAoB,kBAAmB,mBAAoB,mBAAoB,mBAAoB,kBAAmB,mBAAoB,kBAAmB,mBAAoB,kBAAmB,kBAAmB,mBAAoB,kBAAmB,kBAAmB,mBAAoB,iBAAkB,kBAAmB,mBAAoB,kBAAmB,kBAAmB,mBAAoB,iBAAkB,kBAAmB,kBAAmB,kBAAmB,kBAAmB,mBAAoB,mBAAoB,kBAAmB,mBAAoB,mBAAoB,kBAAmB,kBAAmB,mBAAoB,kBAAmB,mBAAoB,mBAAoB,kBAAmB,kBAAmB,mBAAoB,kBAAmB,kBAAmB,mBAAoB,kBAAmB,mBAAoB,kBAAmB,kBAAmB,mBAAoB,kBAAmB,kBAAmB,kBAAmB,kBAAmB,kBAAmB,mBAAoB,kBAAmB,kBAAmB,kBAAmB,kBAAmB,kBAAmB,kBAAmB,kBAAmB,kBAAmB,mBAAoB,mBAAoB,kBAAmB,mBAAoB,mBAAoB,kBAAmB,kBAAmB,mBAAoB,kBAAmB,mBAAoB,mBAAoB,kBAAmB,kBAAmB,mBAAoB,kBAAmB,mBAAoB,mBAAoB,kBAAmB,mBAAoB,iBAAkB,kBAAmB,mBAAoB,kBAAmB,kBAAmB,kBAAmB,kBAAmB,kBAAmB,mBAAoB,iBAAkB,kBAAmB,kBAAmB,kBAAmB,kBAAmB,kBAAmB,iBAAkB,kBAAmB,kBAAmB,mBAAoB,kBAAmB,mBAAoB,mBAAoB,kBAAmB,mBAAoB,mBAAoB,kBAAmB,kBAAmB,mBAAoB,kBAAmB,mBAAoB,mBAAoB,kBAAmB,mBAAoB,oBAAqB,kBAAmB,mBAAoB,kBAAmB,mBAAoB,mBAAoB,iBAAkB,kBAAmB,kBAAmB,iBAAkB,kBAAmB,mBAAoB,kBAAmB,mBAAoB,kBAAmB,iBAAkB,kBAAmB,gBAAiB,kBAAmB,mBAAoB,oBAAqB,oBAAqB,kBAAmB,kBAAmB,mBAAoB,kBAAmB,mBAAoB,oBAAqB,kBAAmB,oBAAqB,oBAAqB,kBAAmB,mBAAoB,oBAAqB,kBAAmB,kBAAmB,mBAAoB,kBAAmB,kBAAmB,kBAAmB,qBAAqB,mBAAoB,kBAAmB,mBAAoB,gBAAiB,kBAAmB,mBAAoB,kBAAmB,kBAAmB,qBAAqB,gBAAiB,kBAAmB,mBAAoB,mBAAoB,kBAAmB,qBAAqB,mBAAoB,mBAAoB,mBAAoB,sBAAsB,qBAAqB,EAAE,mBAAoB,kBAAmB,kBAAmB,mBAAoB,mBAAoB,kBAAmB,kBAAmB,mBAAoB,GADhyT8G,EAGK3E,QAAU,CAAC,mBAAoB,mBAAoB,kBAAmB,mBAAoB,mBAAoB,kBAAmB,mBAAoB,mBAAoB,kBAAmB,mBAAoB,mBAAoB,mBAAoB,mBAAoB,mBAAoB,mBAAoB,mBAAoB,mBAAoB,mBAAoB,oBAAqB,kBAAmB,kBAAmB,oBAAqB,kBAAmB,kBAAmB,oBAAqB,kBAAmB,kBAAmB,mBAAoB,kBAAmB,kBAAmB,mBAAoB,kBAAmB,kBAAmB,mBAAoB,kBAAmB,kBAAmB,mBAAoB,mBAAoB,kBAAmB,mBAAoB,mBAAoB,kBAAmB,mBAAoB,mBAAoB,kBAAmB,mBAAoB,mBAAoB,kBAAmB,mBAAoB,mBAAoB,kBAAmB,mBAAoB,mBAAoB,kBAAmB,oBAAqB,kBAAmB,kBAAmB,oBAAqB,kBAAmB,kBAAmB,oBAAqB,kBAAmB,kBAAmB,oBAAqB,kBAAmB,kBAAmB,oBAAqB,kBAAmB,kBAAmB,oBAAqB,kBAAmB,kBAAmB,mBAAoB,mBAAoB,kBAAmB,mBAAoB,mBAAoB,kBAAmB,mBAAoB,mBAAoB,kBAAmB,mBAAoB,mBAAoB,kBAAmB,mBAAoB,mBAAoB,kBAAmB,mBAAoB,mBAAoB,kBAAmB,gBAAiB,kBAAmB,kBAAmB,gBAAiB,kBAAmB,kBAAmB,gBAAiB,kBAAmB,kBAAmB,mBAAoB,kBAAmB,iBAAkB,mBAAoB,kBAAmB,iBAAkB,mBAAoB,kBAAmB,iBAAkB,oBAAqB,kBAAmB,kBAAmB,oBAAqB,kBAAmB,kBAAmB,oBAAqB,kBAAmB,kBAAmB,mBAAoB,mBAAoB,kBAAmB,mBAAoB,mBAAoB,kBAAmB,mBAAoB,mBAAoB,kBAAmB,mBAAoB,kBAAmB,kBAAmB,mBAAoB,kBAAmB,kBAAmB,mBAAoB,kBAAmB,kBAAmB,mBAAoB,kBAAmB,mBAAoB,mBAAoB,kBAAmB,mBAAoB,mBAAoB,kBAAmB,mBAAoB,mBAAoB,oBAAqB,kBAAmB,mBAAoB,oBAAqB,kBAAmB,mBAAoB,oBAAqB,kBAAmB,mBAAoB,mBAAoB,iBAAkB,mBAAoB,mBAAoB,iBAAkB,mBAAoB,mBAAoB,iBAAkB,mBAAoB,kBAAmB,kBAAmB,mBAAoB,kBAAmB,kBAAmB,mBAAoB,kBAAmB,kBAAmB,mBAAoB,kBAAmB,mBAAoB,mBAAoB,kBAAmB,mBAAoB,mBAAoB,kBAAmB,mBAAoB,mBAAoB,mBAAoB,kBAAmB,mBAAoB,mBAAoB,kBAAmB,mBAAoB,mBAAoB,kBAAmB,oBAAqB,mBAAoB,kBAAmB,oBAAqB,mBAAoB,kBAAmB,oBAAqB,mBAAoB,kBAAmB,mBAAoB,kBAAmB,mBAAoB,mBAAoB,kBAAmB,mBAAoB,mBAAoB,kBAAmB,mBAAoB,mBAAoB,kBAAmB,mBAAoB,mBAAoB,kBAAmB,mBAAoB,mBAAoB,kBAAmB,mBAAoB,oBAAqB,mBAAoB,kBAAmB,oBAAqB,mBAAoB,kBAAmB,oBAAqB,mBAAoB,kBAAmB,oBAAqB,oBAAqB,kBAAmB,oBAAqB,oBAAqB,kBAAmB,oBAAqB,oBAAqB,kBAAmB,mBAAoB,mBAAoB,mBAAoB,mBAAoB,mBAAoB,mBAAoB,mBAAoB,mBAAoB,mBAAoB,mBAAoB,mBAAoB,mBAAoB,mBAAoB,mBAAoB,mBAAoB,mBAAoB,mBAAoB,mBAAoB,kBAAmB,mBAAoB,kBAAmB,kBAAmB,mBAAoB,kBAAmB,kBAAmB,mBAAoB,kBAAmB,mBAAoB,kBAAmB,kBAAmB,mBAAoB,kBAAmB,kBAAmB,mBAAoB,kBAAmB,kBAAmB,oBAAqB,mBAAoB,kBAAmB,oBAAqB,mBAAoB,kBAAmB,oBAAqB,mBAAoB,kBAAmB,kBAAmB,mBAAoB,mBAAoB,kBAAmB,mBAAoB,mBAAoB,kBAAmB,mBAAoB,mBAAoB,mBAAoB,mBAAoB,mBAAoB,mBAAoB,mBAAoB,mBAAoB,mBAAoB,mBAAoB,mBAAoB,mBAAoB,mBAAoB,kBAAmB,mBAAoB,mBAAoB,kBAAmB,mBAAoB,mBAAoB,kBAAmB,mBAAoB,kBAAmB,kBAAmB,mBAAoB,kBAAmB,kBAAmB,mBAAoB,kBAAmB,kBAAmB,kBAAmB,mBAAoB,kBAAmB,kBAAmB,mBAAoB,kBAAmB,kBAAmB,mBAAoB,kBAAmB,kBAAmB,mBAAoB,mBAAoB,kBAAmB,mBAAoB,mBAAoB,kBAAmB,mBAAoB,mBAAoB,mBAAoB,mBAAoB,kBAAmB,mBAAoB,mBAAoB,kBAAmB,mBAAoB,mBAAoB,kBAAmB,mBAAoB,kBAAmB,kBAAmB,mBAAoB,kBAAmB,kBAAmB,mBAAoB,kBAAmB,kBAAmB,mBAAoB,mBAAoB,mBAAoB,mBAAoB,mBAAoB,mBAAoB,mBAAoB,mBAAoB,mBAAoB,kBAAmB,mBAAoB,mBAAoB,kBAAmB,mBAAoB,mBAAoB,kBAAmB,mBAAoB,mBAAoB,mBAAoB,kBAAmB,kBAAmB,mBAAoB,kBAAmB,kBAAmB,mBAAoB,kBAAmB,kBAAmB,mBAAoB,kBAAmB,kBAAmB,mBAAoB,kBAAmB,kBAAmB,mBAAoB,kBAAmB,kBAAmB,mBAAoB,mBAAoB,kBAAmB,mBAAoB,mBAAoB,kBAAmB,mBAAoB,mBAAoB,kBAAmB,mBAAoB,mBAAoB,kBAAmB,mBAAoB,mBAAoB,kBAAmB,mBAAoB,mBAAoB,kBAAmB,kBAAmB,kBAAmB,iBAAkB,kBAAmB,kBAAmB,iBAAkB,kBAAmB,kBAAmB,iBAAkB,mBAAoB,kBAAmB,kBAAmB,mBAAoB,kBAAmB,kBAAmB,mBAAoB,kBAAmB,kBAAmB,kBAAmB,mBAAoB,kBAAmB,kBAAmB,mBAAoB,kBAAmB,kBAAmB,mBAAoB,kBAAmB,mBAAoB,mBAAoB,iBAAkB,mBAAoB,mBAAoB,iBAAkB,mBAAoB,mBAAoB,iBAAkB,mBAAoB,kBAAmB,kBAAmB,mBAAoB,kBAAmB,kBAAmB,mBAAoB,kBAAmB,kBAAmB,kBAAmB,kBAAmB,kBAAmB,kBAAmB,kBAAmB,kBAAmB,kBAAmB,kBAAmB,kBAAmB,mBAAoB,mBAAoB,iBAAkB,mBAAoB,mBAAoB,iBAAkB,mBAAoB,mBAAoB,iBAAkB,kBAAmB,mBAAoB,kBAAmB,kBAAmB,mBAAoB,kBAAmB,kBAAmB,mBAAoB,kBAAmB,mBAAoB,kBAAmB,kBAAmB,mBAAoB,kBAAmB,kBAAmB,mBAAoB,kBAAmB,kBAAmB,mBAAoB,kBAAmB,kBAAmB,mBAAoB,kBAAmB,kBAAmB,mBAAoB,kBAAmB,kBAAmB,mBAAoB,mBAAoB,kBAAmB,mBAAoB,mBAAoB,kBAAmB,mBAAoB,mBAAoB,kBAAmB,kBAAmB,oBAAqB,kBAAmB,kBAAmB,oBAAqB,kBAAmB,kBAAmB,SAG/wT2E,QCkOAC,E,kDAvNb,WAAYC,GAAO,IAAD,8BAChB,cAAMA,IACDC,OAASC,sBACd,EAAK1I,OAAS,IAAI7C,EAAO,EAAG,EAAG,IAAK,IAAID,EAAQ,EAAG,EAAG,GAAI,IAAIA,EAAQ,EAAG,EAAG,IAC5E,EAAKyL,KAAO,EACZ,EAAKC,KAAO,EACZ,EAAKC,MAAO,EACZ,EAAKlM,EAAI,EACT,EAAKC,EAAI,EACT,EAAKkM,QAAL,WAAmB,GACnB,EAAKC,MAAO,EACZ,EAAKC,SAAW,KAChB,EAAKC,iBAAmB,KACxB,EAAKvE,UAAY,GACjB,EAAKE,YAAa,EAClB,EAAKC,eAAgB,EACrB,EAAKrK,GAAK,KAhBM,E,0DAkBJ2L,GACZ1L,KAAKuO,SAASpE,WAAauB,I,mCAG3B,OAAO1L,KAAKkO,KAAOlO,KAAKkC,I,mCAGxB,OAAOlC,KAAKmO,KAAOnO,KAAKmC,I,iCAGxBnC,KAAKiK,UAAY,GACjBjK,KAAKuO,SAASE,gB,0CAEK,IAAD,OAmBlBzO,KAAKD,GAAKC,KAAKgO,OAAOU,QAAQC,WAAW,UAEtB,IAAI9H,EAAa7G,KAAKD,IACzCC,KAAKuO,SAAW,IAAI3E,EAAa5J,KAAKD,IACtCC,KAAKwO,iBAAmB,IAAIpC,EAAiBzC,EAAK5C,SAAU/G,KAAKD,IAqCjE6O,uBApCW,SAAP5D,IACO,KACT,EAAKjL,GAAG8O,WAAW,GAAG,GAAG,GAAG,GAC5B,EAAK9O,GAAG+O,MAAM,EAAK/O,GAAGgP,kBAGtB,IA7BoBxJ,EA6BhB0C,EAAanF,EAAMkM,uBAAuB,GAAG,GAAK,EAAKzJ,OAAO5C,EAAE,IAAO,EAAK4C,OAAO5C,EAAG,EAAKqL,OAAOU,QAAQO,YAAY,EAAKjB,OAAOU,QAAQQ,cAC3I,EAAKZ,MAAQ,EAAKF,OACE,KAAjB,EAAKC,SACP,EAAK9I,OAAO1C,EAAEV,GAAgC,IAApB,EAAKgN,aAAqB,EAAK5J,OAAO5C,IAAM,GAAOS,KAAKyI,IAAI,EAAKtG,OAAOpD,IAAM,IAArF,IAEnB,EAAKoD,OAAO1C,EAAEX,GAAYkB,KAAKiB,IAAI,EAAKkB,OAAOrD,GAAK,IAAMkB,KAAKgM,KAAO,EAAKC,aAAe,IAAM,EAAK9J,OAAO5C,IAAM,GAAOS,KAAKyI,IAAI,EAAKtG,OAAOpD,IAAM,IAAjI,IACnB,EAAKoD,OAAO1C,EAAET,GAAYgB,KAAKmB,IAAI,EAAKgB,OAAOrD,GAAK,IAAMkB,KAAKgM,KAAO,EAAKC,aAAe,IAAM,EAAK9J,OAAO5C,IAAM,GAAOS,KAAKyI,IAAI,EAAKtG,OAAOpD,IAAM,IAAjI,IAEnB,EAAKoD,OAAO1C,EAAEX,GAAK,KAAOkB,KAAKiB,IAAI,EAAKkB,OAAOrD,GAAK,IAAMkB,KAAKgM,KAAO,EAAKC,aAAe,IAAM,EAAK9J,OAAO5C,EACxGS,KAAKmB,IAAI,EAAKgB,OAAOrD,GAAK,IAAMkB,KAAKgM,KAAO,EAAKD,aAAe,IAAM,EAAK5J,OAAO5C,GAElF,EAAK4C,OAAO1C,EAAET,GAAK,KAAOgB,KAAKiB,IAAI,EAAKkB,OAAOrD,GAAK,IAAMkB,KAAKgM,KAAO,EAAKD,aAAe,IAAM,EAAK5J,OAAO5C,EAC5GS,KAAKmB,IAAI,EAAKgB,OAAOrD,GAAK,IAAMkB,KAAKgM,MAAQ,EAAKC,aAAe,IAAM,EAAK9J,OAAO5C,KAKzF,EAAK4C,OAAOrD,GAAK,EAAKmN,aAAe,EACrC,EAAK9J,OAAOpD,GAAK,EAAKgN,aAAe,IAKvC,EAAKZ,SAASvD,KAAK/C,EAAY,EAAK1C,QACjC,EAAK6E,eAAe,EAAKoE,iBAAiBc,OAAO,EAAKrF,UAAWnH,EAAM0F,iBAAiB,EAAKjD,QAAQ0C,EAAY,EAAK1C,OAAO5C,EAAG,EAAK5C,KArDpHwF,EAsDP,EAAKA,QArDPpD,EAAI,KACXoD,EAAOpD,EAAI,IAEXoD,EAAOpD,GAAK,KACZoD,EAAOpD,GAAK,IAGhBoD,EAAO3C,EAAEV,EAAKqD,EAAO5C,GAAKS,KAAKmB,IAAIgB,EAAOrD,EAAIkB,KAAKgM,GAAK,KAClDhM,KAAKiB,IAAIkB,EAAOpD,EAAIiB,KAAKgM,GAAK,KAAS7J,EAAO1C,EAAEX,EACtDqD,EAAO3C,EAAET,EAAKoD,EAAO5C,GAAKS,KAAKmB,IAAIgB,EAAOpD,EAAIiB,KAAKgM,GAAK,KAClD7J,EAAO1C,EAAEV,EACfoD,EAAO3C,EAAER,GAAMmD,EAAO5C,EAAIS,KAAKiB,IAAIkB,EAAOrD,EAAIkB,KAAKgM,GAAK,KAClDhM,KAAKiB,IAAIkB,EAAOpD,EAAIiB,KAAKgM,GAAK,KAAS7J,EAAO1C,EAAET,EA0CtD,EAAKgM,MAAO,EACZQ,sBAAsB5D,Q,gCAKhB9I,EAAEC,EAAEC,EAAEW,GACd,IAAIyH,EAAS,IAAI0B,EAAe,IAAIjD,EAAMU,EAAK5C,SAAU4C,EAAKT,QAAQlJ,KAAKD,IAAI,IAAI0C,EAAQP,EAAEC,EAAEC,GAAGW,GAKlG,OAJAyH,EAAOC,MAAMrB,WAAY,EACzBoB,EAAOC,MAAMnB,SAAW,IAAI7G,EAAQP,EAAEC,EAAEC,GACxCpC,KAAKuO,SAASgB,UAAU/E,GAEjBA,I,kCAEGG,GACV3K,KAAKiK,UAAUS,KAAKC,K,qCAEPzI,EAAEC,EAAEC,EAAE0C,EAAGC,EAAGC,EAAGC,EAAGC,EAAGC,EAAGpC,EAAIsK,GACzC,IAAIhD,EAAW,IAAIa,EAAS,IAAIjC,EAAMoE,EAAKtG,SAAUsG,EAAKnE,QAASlJ,KAAKD,KAmBxE,OAlBAsK,EAASI,MAAMrB,WAAY,EAC3BiB,EAASI,MAAMtB,MAAQ,IAAI1G,EAAQ,EAAE,EAAE,GACvC4H,EAASI,MAAMnB,SAASpH,EAAIA,EAC5BmI,EAASI,MAAMnB,SAASnH,EAAIA,EAC5BkI,EAASI,MAAMnB,SAASlH,EAAIA,EAE5BiI,EAASI,MAAMlB,SAASrH,EAAI4C,EAC5BuF,EAASI,MAAMlB,SAASpH,EAAI4C,EAC5BsF,EAASI,MAAMlB,SAASnH,EAAI4C,EAE5BqF,EAASI,MAAMnF,MAAMpD,EAAI+C,EACzBoF,EAASI,MAAMnF,MAAMnD,EAAI+C,EACzBmF,EAASI,MAAMnF,MAAMlD,EAAI+C,EAEzBkF,EAASc,SAAWpI,EAEpB/C,KAAKuO,SAASiB,YAAYnF,GAEnBA,I,kCAEGnI,EAAEC,EAAEC,EAAE0C,EAAGC,EAAGC,EAAGC,EAAGC,EAAGC,EAAIpC,EAAK0M,GACxC,IAAIpF,EAAW,KACf,OAAOoF,GACL,IAAK,OACHpF,EAAW,IAAIa,EAAS,IAAIjC,EAAMU,EAAK5C,SAAU4C,EAAKT,QAASlJ,KAAKD,KACpE,MACF,IAAK,WACHsK,EAAW,IAAIa,EAAS,IAAIjC,EAAM2E,EAAS7G,SAAU6G,EAAS1E,QAASlJ,KAAKD,KAC5E,MACF,IAAK,SACHsK,EAAW,IAAIa,EAAS,IAAIjC,EAAM4E,EAAO9G,SAAU8G,EAAO3E,QAASlJ,KAAKD,KAuB5E,OAlBAsK,EAASI,MAAMrB,WAAY,EAC3BiB,EAASI,MAAMtB,MAAQ,IAAI1G,EAAQ,EAAE,EAAE,GACvC4H,EAASI,MAAMnB,SAASpH,EAAIA,EAC5BmI,EAASI,MAAMnB,SAASnH,EAAIA,EAC5BkI,EAASI,MAAMnB,SAASlH,EAAIA,EAE5BiI,EAASI,MAAMlB,SAASrH,EAAI4C,EAC5BuF,EAASI,MAAMlB,SAASpH,EAAI4C,EAC5BsF,EAASI,MAAMlB,SAASnH,EAAI4C,EAE5BqF,EAASI,MAAMnF,MAAMpD,EAAI+C,EACzBoF,EAASI,MAAMnF,MAAMnD,EAAI+C,EACzBmF,EAASI,MAAMnF,MAAMlD,EAAI+C,EAEzBkF,EAASc,SAAWpI,EAEpB/C,KAAKuO,SAASiB,YAAYnF,GAEnBA,I,+BAGAtD,EAAUmC,GACjB,IAAIuB,EAAQ,IAAIxB,EAAMlC,EAAUmC,EAASlJ,KAAKD,IAI9C,OAFAC,KAAKuO,SAASrE,SAASO,GAEhBA,I,6BAEFvI,EAAEC,EAAEC,EAAEsN,EAAGC,EAAGC,EAAG5D,GACpB,IAAIzB,EAAM,IAAIuB,EAAY,IAAI7C,EAAMgD,EAAQlF,SAAUkF,EAAQ/C,QAASlJ,KAAKD,IAAI,IAAI0C,EAAQP,EAAEC,EAAEC,GAAG,IAAIK,EAAQiN,EAAGC,EAAGC,GAAI5D,GAKzH,OAJAzB,EAAIE,MAAMnB,SAAW,IAAI7G,EAAQP,EAAEC,EAAEC,GAErCpC,KAAKuO,SAASsB,OAAOtF,GAEdA,I,mCAGIC,GACXxK,KAAKuO,SAASuB,aAAatF,K,qCAEdH,GACbrK,KAAKuO,SAASwB,eAAe1F,K,gCAErBE,GACRvK,KAAKuO,SAASyB,UAAUzF,K,+BAEjB,IAAD,OACN,OAAO,6BACP,4BAAQ0F,IAAKjQ,KAAKgO,OAAQkC,YAAa,SAACC,GACtC,EAAK/B,MAAO,EACZ,EAAKF,KAAO,EAAKhM,EACjB,EAAKiM,KAAO,EAAKhM,EACjB,EAAKD,EAAIiO,EAAEC,MACX,EAAKjO,EAAIgO,EAAEE,OAEbC,SAAS,IACTzK,MAAM,OACNC,OAAO,OACPyK,MAAO,CAACjH,SAAU,QAAShD,MAAO,EAAGD,KAAM,EAAGR,MAAO,OAAQC,OAAQ,QACrE0K,UAAW,SAACL,GAAK,EAAK9B,QAAU8B,EAAEM,SAClCC,QAAS,SAACP,GAAK,EAAK9B,QAAL,WAAmB,IAClCsC,YAAa,WAAK,EAAKrC,MAAO,GAC9BsC,UAAW,WAAK,EAAKtC,MAAO,GAC5BuC,QAAS,SAACV,GACR,IAAIW,EAAQ,EACKA,EAAdX,EAAEY,OAAS,EAAW,GACX,EACd,EAAKxL,OAAO5C,GAAM,EAAK4C,OAAO5C,GAAW,IAANmO,GAAc,W,GAjNlCE,a,2GChBfC,E,mGAwHO3M,GACT,IAAI,IAAIvD,EAAI,EAAEA,EAAEkQ,EAAaC,UAAUlQ,OAAOD,IAC1C,GAAGuD,GAAK2M,EAAaC,UAAUnQ,GAAI,OAAO,EAE9C,OAAO,M,KA5HLkQ,EACKC,UAAY,CACf,IACR,KACA,KACA,KACA,IACA,IACA,IACA,IACA,IACA,KACA,KACA,KACA,KACA,KACA,IACA,IACA,KACA,KACA,IACA,KACA,KACA,KACA,IACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,IACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,IACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,IACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,IACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,MAQeD,QCvHTE,E,kDACJ,WAAYpD,GAAO,IAAD,8BAChB,cAAMA,IACDqD,WAAa,EAAKA,WAAWjJ,KAAhB,gBAClB,EAAKkJ,WAAa,EAAKA,WAAWlJ,KAAhB,gBAClB,EAAKmJ,MAAQ,CAACC,MAAM,EAClBC,QAAS,EAAKzD,MAAM1D,SAASzI,KAC7B6P,QAAS,EAAK1D,MAAM1D,SAASI,MAAMnB,SAASpH,EAC5CwP,QAAS,EAAK3D,MAAM1D,SAASI,MAAMnB,SAASnH,EAC5CwP,QAAS,EAAK5D,MAAM1D,SAASI,MAAMnB,SAASlH,EAC5CwP,QAAS,EAAK7D,MAAM1D,SAASI,MAAMlB,SAASrH,EAC5C2P,QAAS,EAAK9D,MAAM1D,SAASI,MAAMlB,SAASpH,EAC5C2P,QAAS,EAAK/D,MAAM1D,SAASI,MAAMlB,SAASnH,EAC5C2P,UAAW,EAAKhE,MA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","file":"static/js/main.5038ed06.chunk.js","sourcesContent":["module.exports = \"data:image/png;base64,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\"","module.exports = __webpack_public_path__ + \"static/media/logo.5d5d9eef.svg\";","class Shader {\r\n    constructor(attribs,path ,gl){\r\n        this.gl = gl;\r\n        var vertexShaderText = path.vertexShader;\r\n        var fragmentShaderText = path.fragmentShader;\r\n        var vertexShader = gl.createShader(gl.VERTEX_SHADER);\r\n        var fragmentShader = gl.createShader(gl.FRAGMENT_SHADER);\r\n    \r\n        gl.shaderSource(vertexShader, vertexShaderText);\r\n        gl.shaderSource(fragmentShader, fragmentShaderText);\r\n    \r\n        gl.compileShader(vertexShader);\r\n        if (!gl.getShaderParameter(vertexShader, gl.COMPILE_STATUS)) {\r\n            console.error('ERROR compiling vertex shader!', gl.getShaderInfoLog(vertexShader));\r\n            return;\r\n        }\r\n    \r\n        gl.compileShader(fragmentShader);\r\n        if (!gl.getShaderParameter(fragmentShader, gl.COMPILE_STATUS)) {\r\n            console.error('ERROR compiling fragment shader!', gl.getShaderInfoLog(fragmentShader));\r\n            return;\r\n        }\r\n    \r\n        this.program = gl.createProgram();\r\n        gl.attachShader(this.program, vertexShader);\r\n        gl.attachShader(this.program, fragmentShader);\r\n\r\n        for(var i = 0;i<attribs.length;i++){\r\n            gl.bindAttribLocation(this.program, attribs[i][0], attribs[i][1]);\r\n        }\r\n\r\n        gl.linkProgram(this.program);\r\n        if (!gl.getProgramParameter(this.program, gl.LINK_STATUS)) {\r\n            console.error('ERROR linking program!', gl.getProgramInfoLog(this.program));\r\n            return;\r\n        }\r\n        gl.validateProgram(this.program);\r\n        if (!gl.getProgramParameter(this.program, gl.VALIDATE_STATUS)) {\r\n            console.error('ERROR validating program!', gl.getProgramInfoLog(this.program));\r\n            return;\r\n        }\r\n        /*var positionAttribLocation = gl.getAttribLocation(this.program, 'vertPosition');\r\n        var normalAttribLocation = gl.getAttribLocation(this.program, 'normal');*/\r\n        \r\n        \r\n\r\n        /*for(var i = 0;i<attribs.length;i++){\r\n            gl.vertexAttribPointer(positionAttribLocation, attribs[i], gl.FLOAT,gl.FALSE,0,0);\r\n        }*/\r\n        \r\n        /*gl.vertexAttribPointer(\r\n            normalAttribLocation, 3, gl.FLOAT, gl.FALSE,\r\n            0,\r\n            0 \r\n        );*/\r\n        \r\n    }\r\n    bind(){\r\n        this.gl.useProgram(this.program);\r\n    }\r\n    unBind(){\r\n        this.gl.useProgram(null);\r\n    }\r\n    setUniform(name,value){\r\n        var location = this.gl.getUniformLocation(this.program,name);\r\n        if(location != -1){\r\n            this.gl.uniform1f(location,value);\r\n        }\r\n    }\r\n    setUniform1i(name,value){\r\n        var location = this.gl.getUniformLocation(this.program,name);\r\n        if(location != -1){\r\n            this.gl.uniform1i(location,value);\r\n        }\r\n    }\r\n    setUniform3f(name,x,y,z){\r\n        var location = this.gl.getUniformLocation(this.program,name);\r\n        if(location != -1){\r\n            this.gl.uniform3f(location,x,y,z);\r\n        }\r\n    }\r\n    setUniform4fv(name,value){\r\n        var location = this.gl.getUniformLocation(this.program,name);\r\n        if(location != -1){\r\n            this.gl.uniformMatrix4fv(location,false,value);\r\n        }\r\n        \r\n    }\r\n}\r\nexport default Shader;","class Matrix extends Float64Array {\r\n    constructor() {\r\n        super(16);\r\n        this[0] = 1.0;\r\n        this[5] = 1.0;\r\n        this[10] = 1.0;\r\n        this[15] = 1.0;\r\n    }\r\n}\r\nclass Vector4 {\r\n    constructor(x, y, z, w) {\r\n        this.x = x;\r\n        this.y = y;\r\n        this.z = z;\r\n        this.w = w;\r\n    }\r\n}\r\nclass Vector3 {\r\n    constructor(x, y, z) {\r\n        this.x = x;\r\n        this.y = y;\r\n        this.z = z;\r\n    }\r\n\r\n}\r\nclass Camera {\r\n    constructor(x, y, d, p, a) {\r\n        this.x = x;\r\n        this.y = y;\r\n        this.d = d;\r\n        this.p = p;\r\n        this.a = a;\r\n    }\r\n\r\n}\r\nclass Maths {\r\n    static scale(mat, v) {\r\n        var res = new Matrix();\r\n        for(var i = 0;i<16;i++){\r\n            res[i] = mat[i];\r\n        }\r\n        res[0] = res[0] * v.x;\r\n        res[1] = res[1] * v.x;\r\n        res[2] = res[2] * v.x;\r\n\r\n        res[4] = res[4] * v.y;\r\n        res[5] = res[5] * v.y;\r\n        res[6] = res[6] * v.y;\r\n\r\n        res[8] = res[8] * v.z;\r\n        res[9] = res[9] * v.z;\r\n        res[10] = res[10] * v.z;\r\n\r\n        return res;\r\n\r\n    }\r\n    static translate(mat, v) {\r\n        var res = new Matrix();\r\n        for(var i = 0;i<16;i++){\r\n            res[i] = mat[i];\r\n        }\r\n        res[12] = mat[0] * v.x + mat[4] * v.y + mat[8] * v.z + mat[12];\r\n        res[13] = mat[1] * v.x + mat[5] * v.y + mat[9] * v.z + mat[13];\r\n        res[14] = mat[2] * v.x + mat[6] * v.y + mat[10] * v.z + mat[14];\r\n        res[15] = mat[3] * v.x + mat[7] * v.y + mat[11] * v.z + mat[15];\r\n\r\n        return res;\r\n    }\r\n    static normalize(v) {\r\n        var result = new Vector3();\r\n        result.x = v.x;\r\n        result.y = v.y;\r\n        result.z = v.z;\r\n        \r\n        var l = Math.sqrt(v.x * v.x + v.y * v.y + v.z * v.z);\r\n        result.x /= l;\r\n        result.y /= l;\r\n        result.z /= l;\r\n        \r\n        return result;\r\n    }\r\n    static mulVectorDouble(v, d) {\r\n        var res = new Vector3(0,0,0);\r\n        res.x = v.x;\r\n        res.y = v.y;\r\n        res.z = v.z;\r\n        \r\n        res.x *= d;\r\n        res.y *= d;\r\n        res.z *= d;\r\n\r\n        return res;\r\n    }\r\n    static cross(v, p) {\r\n        var r = new Vector3(0,0,0);\r\n\r\n        r.x = v.y * p.z - v.z * p.y;\r\n        r.y = v.z * p.x - v.x * p.z;\r\n        r.z = v.x * p.y - v.y * p.x;\r\n\r\n        return r;\r\n    }\r\n    static lookAt(eye, center, up) {\r\n        var forward = new Vector3(0,0,0);\r\n        var upt = new Vector3(0,0,0);\r\n\r\n        forward.x = center.x - eye.x;\r\n        forward.y = center.y - eye.y;\r\n        forward.z = center.z - eye.z;\r\n        \r\n        forward = this.normalize(forward);\r\n\r\n        \r\n        var side = new Vector3(0,0,0);\r\n        side = this.cross(forward, up);\r\n  \r\n        \r\n        side = this.normalize(side);\r\n       \r\n        \r\n\r\n        upt = this.cross(side, forward);\r\n        \r\n\r\n        var m = new Matrix();\r\n        m[0] = side.x;\r\n        m[1] = side.y;\r\n        m[2] = side.z;\r\n        m[4] = upt.x;\r\n        m[5] = upt.y;\r\n        m[6] = upt.z;\r\n        m[8] = -forward.x;\r\n        m[9] = -forward.y;\r\n        m[10] = -forward.z;\r\n        \r\n        m = this.invert(m);\r\n\r\n        return m;\r\n    }\r\n    static invert(m) {\r\n        var result = new Matrix();\r\n        var inv = new Matrix();\r\n        \r\n        var det = 0.0;\r\n        inv[0] = m[5] * m[10] * m[15] -\r\n            m[5] * m[11] * m[14] -\r\n            m[9] * m[6] * m[15] +\r\n            m[9] * m[7] * m[14] +\r\n            m[13] * m[6] * m[11] -\r\n            m[13] * m[7] * m[10];\r\n\r\n        inv[4] = -m[4] * m[10] * m[15] +\r\n            m[4] * m[11] * m[14] +\r\n            m[8] * m[6] * m[15] -\r\n            m[8] * m[7] * m[14] -\r\n            m[12] * m[6] * m[11] +\r\n            m[12] * m[7] * m[10];\r\n\r\n        inv[8] = m[4] * m[9] * m[15] -\r\n            m[4] * m[11] * m[13] -\r\n            m[8] * m[5] * m[15] +\r\n            m[8] * m[7] * m[13] +\r\n            m[12] * m[5] * m[11] -\r\n            m[12] * m[7] * m[9];\r\n\r\n        inv[12] = -m[4] * m[9] * m[14] +\r\n            m[4] * m[10] * m[13] +\r\n            m[8] * m[5] * m[14] -\r\n            m[8] * m[6] * m[13] -\r\n            m[12] * m[5] * m[10] +\r\n            m[12] * m[6] * m[9];\r\n\r\n        inv[1] = -m[1] * m[10] * m[15] +\r\n            m[1] * m[11] * m[14] +\r\n            m[9] * m[2] * m[15] -\r\n            m[9] * m[3] * m[14] -\r\n            m[13] * m[2] * m[11] +\r\n            m[13] * m[3] * m[10];\r\n\r\n        inv[5] = m[0] * m[10] * m[15] -\r\n            m[0] * m[11] * m[14] -\r\n            m[8] * m[2] * m[15] +\r\n            m[8] * m[3] * m[14] +\r\n            m[12] * m[2] * m[11] -\r\n            m[12] * m[3] * m[10];\r\n\r\n        inv[9] = -m[0] * m[9] * m[15] +\r\n            m[0] * m[11] * m[13] +\r\n            m[8] * m[1] * m[15] -\r\n            m[8] * m[3] * m[13] -\r\n            m[12] * m[1] * m[11] +\r\n            m[12] * m[3] * m[9];\r\n\r\n        inv[13] = m[0] * m[9] * m[14] -\r\n            m[0] * m[10] * m[13] -\r\n            m[8] * m[1] * m[14] +\r\n            m[8] * m[2] * m[13] +\r\n            m[12] * m[1] * m[10] -\r\n            m[12] * m[2] * m[9];\r\n\r\n        inv[2] = m[1] * m[6] * m[15] -\r\n            m[1] * m[7] * m[14] -\r\n            m[5] * m[2] * m[15] +\r\n            m[5] * m[3] * m[14] +\r\n            m[13] * m[2] * m[7] -\r\n            m[13] * m[3] * m[6];\r\n\r\n        inv[6] = -m[0] * m[6] * m[15] +\r\n            m[0] * m[7] * m[14] +\r\n            m[4] * m[2] * m[15] -\r\n            m[4] * m[3] * m[14] -\r\n            m[12] * m[2] * m[7] +\r\n            m[12] * m[3] * m[6];\r\n\r\n        inv[10] = m[0] * m[5] * m[15] -\r\n            m[0] * m[7] * m[13] -\r\n            m[4] * m[1] * m[15] +\r\n            m[4] * m[3] * m[13] +\r\n            m[12] * m[1] * m[7] -\r\n            m[12] * m[3] * m[5];\r\n\r\n        inv[14] = -m[0] * m[5] * m[14] +\r\n            m[0] * m[6] * m[13] +\r\n            m[4] * m[1] * m[14] -\r\n            m[4] * m[2] * m[13] -\r\n            m[12] * m[1] * m[6] +\r\n            m[12] * m[2] * m[5];\r\n\r\n        inv[3] = -m[1] * m[6] * m[11] +\r\n            m[1] * m[7] * m[10] +\r\n            m[5] * m[2] * m[11] -\r\n            m[5] * m[3] * m[10] -\r\n            m[9] * m[2] * m[7] +\r\n            m[9] * m[3] * m[6];\r\n\r\n        inv[7] = m[0] * m[6] * m[11] -\r\n            m[0] * m[7] * m[10] -\r\n            m[4] * m[2] * m[11] +\r\n            m[4] * m[3] * m[10] +\r\n            m[8] * m[2] * m[7] -\r\n            m[8] * m[3] * m[6];\r\n\r\n        inv[11] = -m[0] * m[5] * m[11] +\r\n            m[0] * m[7] * m[9] +\r\n            m[4] * m[1] * m[11] -\r\n            m[4] * m[3] * m[9] -\r\n            m[8] * m[1] * m[7] +\r\n            m[8] * m[3] * m[5];\r\n\r\n        inv[15] = m[0] * m[5] * m[10] -\r\n            m[0] * m[6] * m[9] -\r\n            m[4] * m[1] * m[10] +\r\n            m[4] * m[2] * m[9] +\r\n            m[8] * m[1] * m[6] -\r\n            m[8] * m[2] * m[5];\r\n\r\n        det = m[0] * inv[0] + m[1] * inv[4] + m[2] * inv[8] + m[3] * inv[12];\r\n        det = 1.0 / det;\r\n        \r\n        for (var i = 0; i < 16; i++)\r\n            result[i] = inv[i] * det;\r\n\r\n        return result;\r\n    }\r\n    \r\n    static rotate(mat, angle, v) {\r\n        var result = new Matrix();\r\n        var a = angle;\r\n        var c = Math.cos(a);\r\n        var s = Math.sin(a);\r\n\r\n        var axis = new Vector3(0,0,0);\r\n        axis.x = v.x;\r\n        axis.y = v.y;\r\n        axis.z = v.z;\r\n        var temp = new Vector3(axis.x * (1.0 - c),axis.y * (1.0 - c),axis.z * (1.0 - c));\r\n       \r\n        result[0] = c + temp.x * axis.x;\r\n        result[1] = temp.x * axis.y + s * axis.z;\r\n        result[2] = temp.x * axis.z - s * axis.y;\r\n\r\n        result[4] = temp.y * axis.x - s * axis.z;\r\n        result[5] = c + temp.y * axis.y;\r\n        result[6] = temp.y * axis.z + s * axis.x;\r\n\r\n        result[8] = temp.z * axis.x + s * axis.y;\r\n        result[9] = temp.z * axis.y - s * axis.x;\r\n        result[10] = c + temp.z * axis.z;\r\n\r\n        var R = new Matrix();\r\n        for(var i = 0;i<16;i++){\r\n            R[i] = mat[i];\r\n        }\r\n        R[0] = mat[0] * result[0] + mat[4] * result[1] + mat[8] * result[2];\r\n        R[1] = mat[1] * result[0] + mat[5] * result[1] + mat[9] * result[2];\r\n        R[2] = mat[2] * result[0] + mat[6] * result[1] + mat[10] * result[2];\r\n\r\n        R[4] = mat[0] * result[4] + mat[4] * result[5] + mat[8] * result[6];\r\n        R[5] = mat[1] * result[4] + mat[5] * result[5] + mat[9] * result[6];\r\n        R[6] = mat[2] * result[4] + mat[6] * result[5] + mat[10] * result[6];\r\n        \r\n        R[8] = mat[0] * result[8] + mat[4] * result[9] + mat[8] * result[10];\r\n        R[9] = mat[1] * result[8] + mat[5] * result[9] + mat[9] * result[10];\r\n        R[10] = mat[2] * result[8] + mat[6] * result[9] + mat[10] * result[10];\r\n        \r\n        R[12] = mat[12];\r\n        R[13] = mat[13];\r\n        R[14] = mat[14];\r\n        return R;\r\n    }\r\n    static mul(m,n){\r\n        var res = new Matrix();\r\n\r\n        for (var i = 0; i < 4; i++) {\r\n            for (var j = 0; j < 4; j++) {\r\n                res[i*4+j] = 0;\r\n                for (var k = 0; k < 4; k++) {\r\n                    res[i*4+j] += n[i*4+k] * m[k*4+j];\r\n                }\r\n            }\r\n        }\r\n\r\n\t    return res;\r\n    }\r\n    static createTransformationMatrix(x, y, z, rx, ry, rz, sx, sy, sz) {\r\n        var res = new Matrix();\r\n        res = Maths.translate(res, new Vector3(x, y, z));\r\n        \r\n        res = Maths.rotate(res, rx, new Vector3(1, 0, 0));\r\n        res = Maths.rotate(res, ry, new Vector3(0, 1, 0));\r\n        res = Maths.rotate(res, rz, new Vector3(0, 0, 1));\r\n\r\n        res = Maths.scale(res, new Vector3(sx, sy, sz));\r\n\r\n        return res;\r\n    }\r\n    static createViewMatrix(camera) {\r\n        var view = new Matrix();\r\n        \r\n        view = this.lookAt(camera.p, camera.a, new Vector3(0, 1 ,0));\r\n        view = this.translate(view, new Vector3(-camera.p.x, -camera.p.y, -camera.p.z));\r\n\r\n        return view;\r\n    }\r\n    static createBillBoardMatrix(camera){\r\n        var view = new Matrix();\r\n        \r\n        view = this.lookAt(camera.p, camera.a, new Vector3(0, 1 ,0));\r\n        view = this.translate(view, new Vector3(-camera.p.x, -camera.p.y, -camera.p.z));\r\n\r\n        return view;\r\n    }\r\n    static createProjectionMatrix(FOV, NEAR_PLANE, FAR_PLANE, width, height) {\r\n        var aspectRatio = width / height;\r\n        var y_scale = ((1.0 / Math.tan(((FOV / 2.0) / 360.0) * 3.14)) * aspectRatio);\r\n        var x_scale = y_scale / aspectRatio;\r\n        var frustum_length = FAR_PLANE - NEAR_PLANE;\r\n\r\n        var projectionMatrix = new Matrix();\r\n        \r\n        projectionMatrix[0] = x_scale;\r\n        projectionMatrix[5] = y_scale;\r\n        projectionMatrix[10] = -((FAR_PLANE + NEAR_PLANE) / frustum_length);\r\n        projectionMatrix[11] = -1.0;\r\n        projectionMatrix[14] = -((2.0 * NEAR_PLANE * FAR_PLANE) / frustum_length);\r\n        projectionMatrix[15] = 0.0;\r\n\r\n        return projectionMatrix;\r\n    }\r\n    static ortho(left, right, bottom, top, zNear, zFar) {\r\n        var res = new Matrix();\r\n\r\n        res[0] = 2.0 / (right - left);\r\n        res[5] = 2.0 / (top - bottom);\r\n        res[10] = -2 / (zFar - zNear);\r\n        res[12] = -((right + left) / (right - left));\r\n        res[13] = -((top + bottom) / (top - bottom));\r\n        res[14] = -((zFar + zNear) / (zFar - zNear));\r\n\r\n        return res;\r\n    }\r\n    static distance(v, u){\r\n        return Math.sqrt(v.x*u.x+v.y*u.y+v.z*u.z);\r\n    }\r\n}\r\n\r\nexport default Matrix;\r\nexport { Maths, Vector3, Camera }","export class GridShader{\r\n   \r\n    static vertexShader = \"precision mediump float;\" + \r\n\r\n    \"attribute vec2 vertPosition;\"+\r\n    \r\n    \"uniform mat4 projection;\"+\r\n    \"uniform mat4 transformation;\"+\r\n    \"uniform mat4 view;\"+\r\n    \r\n    \"varying vec2 tex_coords;\"+\r\n    \r\n    \"void main()\"+\r\n    \"{\"+\r\n        \r\n     \"vec4 pos =  projection * view * transformation * vec4(vertPosition, 0.0, 1.0);\"+\r\n      \"tex_coords = vertPosition * 0.5 + 0.5;\"+\r\n      \"tex_coords.y = 1.0-tex_coords.y;\"+\r\n      \"gl_Position = pos;\"+\r\n      \r\n      \r\n    \"}\";\r\n    static fragmentShader = \"precision mediump float;\"+\r\n    \r\n    \"uniform sampler2D sampler;\"+\r\n    \r\n    \"uniform float width;\"+\r\n    \"uniform float height;\"+\r\n    \"uniform float distance;\"+\r\n    \r\n    \"varying vec2 tex_coords;\"+\r\n    \r\n    \"int mod(int a, int b)\"+\r\n    \"{\"+\r\n    \"\treturn a - b * int(a/b);\"+\r\n    \"}\"+\r\n    \r\n    \"void main()\"+\r\n    \"{\"+\r\n      \"vec4 color = vec4(1.0);\"+\r\n      \r\n      \r\n      \"gl_FragColor = color;\"+\r\n    \"}\";\r\n}\r\n\r\n","import Shader from \"./shader.js\";\r\nimport Matrix, {Maths, Vector3} from \"../utils/maths.js\";\r\nimport { Texture } from \"./texture.js\";\r\nimport { GridShader } from \"../shaders/gridshader.js\";\r\n\r\nexport class GridRenderer {\r\n    constructor(gl){\r\n        this.gl = gl;\r\n        this.shader = new Shader([0, 'vertPosition'],GridShader, gl);\r\n        this.vertices = [ -1, 1, 1, 1, -1, -1,\r\n             1, -1, 1, 1, -1, -1];\r\n\r\n\r\n        this.vertical = [1,0,-1,0];\r\n        this.horizontal = [0,1,0,0,-1,0];\r\n            \r\n        this.vao = this.gl.createVertexArray();\r\n        this.gl.bindVertexArray(this.vao);\r\n        this.gl.enableVertexAttribArray(0);\r\n\r\n        this.vbo = gl.createBuffer();\r\n        this.gl.bindBuffer(gl.ARRAY_BUFFER, this.vbo);\r\n        this.gl.bufferData(gl.ARRAY_BUFFER, new Float32Array(this.vertical), gl.STATIC_DRAW, 0);\r\n        this.gl.vertexAttribPointer(0, 2, gl.FLOAT, gl.FALSE, 0, 0);\r\n\r\n\r\n        this.gl.bindVertexArray(null);\r\n        this.gl.disableVertexAttribArray(0);\r\n    }\r\n    draw(projection, camera, width, height, d){\r\n        var f = 1;\r\n        if(d > 100){\r\n            f = 100;\r\n        }\r\n        for(var i = -100;i<100;i++){\r\n        //remove clear\r\n        this.shader.bind();\r\n        this.gl.enable(this.gl.DEPTH_TEST);\r\n        this.gl.disable(this.gl.CULL_FACE);\r\n\r\n        //this.shader.setUniform(\"sampler\", 0);\r\n\r\n        var view = Maths.createViewMatrix(camera);\r\n\r\n        var transformation = Maths.createTransformationMatrix(0,0,i*f+0.5,0,0,0,100*f,1,1);\r\n        this.shader.setUniform4fv(\"transformation\", transformation);\r\n        this.shader.setUniform4fv(\"view\", view);\r\n        this.shader.setUniform4fv(\"projection\", projection);\r\n\r\n        this.shader.setUniform(\"width\", width);\r\n        this.shader.setUniform(\"height\", height);\r\n        this.shader.setUniform(\"distance\", d);\r\n\r\n\r\n        this.gl.enableVertexAttribArray(0);\r\n        this.gl.bindVertexArray(this.vao);\r\n\r\n        this.gl.drawArrays(this.gl.LINES, 0, this.vertical.length);\r\n\r\n        this.gl.bindVertexArray(null);\r\n        this.gl.disableVertexAttribArray(0);\r\n\r\n        this.shader.unBind();\r\n        }\r\n\r\n        for(var i = -100;i<100;i++){\r\n            //remove clear\r\n            this.shader.bind();\r\n            \r\n            //this.shader.setUniform(\"sampler\", 0);\r\n    \r\n            var view = Maths.createViewMatrix(camera);\r\n    \r\n            var transformation = Maths.createTransformationMatrix(i*f+0.5,0,0,0,1.57,0,100*f,1,1);\r\n            this.shader.setUniform4fv(\"transformation\", transformation);\r\n            this.shader.setUniform4fv(\"view\", view);\r\n            this.shader.setUniform4fv(\"projection\", projection);\r\n    \r\n            this.shader.setUniform(\"width\", width);\r\n            this.shader.setUniform(\"height\", height);\r\n            this.shader.setUniform(\"distance\", d);\r\n    \r\n    \r\n            this.gl.enableVertexAttribArray(0);\r\n            this.gl.bindVertexArray(this.vao);\r\n    \r\n            this.gl.drawArrays(this.gl.LINES, 0, this.vertical.length);\r\n    \r\n            this.gl.bindVertexArray(null);\r\n            this.gl.disableVertexAttribArray(0);\r\n    \r\n            this.shader.unBind();\r\n            }\r\n    }\r\n} ","export class MainShader{\r\n   \r\n    static vertexShader = \"precision mediump float;\"+\r\n\r\n    \"attribute vec3 vertPosition;\"+\r\n    \"attribute vec3 normal;\"+\r\n    \r\n    \"varying vec2 tex_coords;\"+\r\n    \"varying vec3 Normal;\"+\r\n    \"varying vec3 fragPos;\"+\r\n    \r\n    \"uniform mat4 projection;\"+\r\n    \"uniform mat4 transformation;\"+\r\n    \"uniform mat4 view;\"+\r\n    \r\n    \"void main()\"+\r\n    \"{\"+\r\n      \"gl_Position = projection * view * transformation * vec4(vertPosition, 1.0);\"+\r\n      \"fragPos = vec3(transformation * vec4(vertPosition, 1.0));\"+\r\n      \"Normal = normal;\"+\r\n    \"}\";\r\n    static fragmentShader = \"precision mediump float;\"+\r\n\r\n    \"varying vec2 tex_coords;\"+\r\n    \"varying vec3 Normal;\"+\r\n    \"varying vec3 fragPos;\"+\r\n    \r\n    \"uniform vec3 color;\"+\r\n    \"uniform sampler2D sampler;\"+\r\n    \r\n    \"void main()\"+\r\n    \"{\"+\r\n      \"vec3 norm = normalize(Normal);\"+\r\n      \"vec3 lightDir = normalize(vec3(100) - fragPos);\"+ \r\n      \"float diff = max(dot(norm, lightDir), 0.0); \"+\r\n      \"vec3 diffuse = diff * vec3(1); \"+\r\n      \"gl_FragColor = vec4((vec3(.1)+diffuse)*color,1.0);\"+\r\n     \"}\";\r\n}\r\n\r\n","import { Vector3 } from '../utils/maths.js';\r\n\r\nclass Model {\r\n\r\n    constructor(vertices,normals, gl) {\r\n\r\n        this.vertices = vertices;\r\n        this.normals = normals;\r\n        this.gl = gl;\r\n        this.color = new Vector3(.1,.1,.1);\r\n        this.drawLines = true;\r\n        \r\n        this.outline = true;\r\n\r\n        this.position = new Vector3(0,0,0);\r\n        this.rotation = new Vector3(0,0,0);\r\n        this.scale = new Vector3(1,1,1);\r\n        this.vao = gl.createVertexArray();\r\n        gl.bindVertexArray(this.vao);\r\n\r\n        this.vbo = gl.createBuffer();\r\n        gl.bindBuffer(gl.ARRAY_BUFFER, this.vbo);\r\n        gl.bufferData(gl.ARRAY_BUFFER, new Float32Array(vertices), gl.STATIC_DRAW, 0);\r\n        gl.vertexAttribPointer(0, 3, gl.FLOAT, gl.FALSE, 0, 0);\r\n\r\n        this.nvbo = gl.createBuffer();\r\n        gl.bindBuffer(gl.ARRAY_BUFFER, this.nvbo);\r\n        gl.bufferData(gl.ARRAY_BUFFER, new Float32Array(this.normals), gl.STATIC_DRAW, 0);\r\n        gl.vertexAttribPointer(1, 3, gl.FLOAT, gl.FALSE, 0, 0);\r\n\r\n        gl.bindVertexArray(null);\r\n    }\r\n    draw() {\r\n        if(this.drawLines) this.gl.drawArrays(this.gl.LINE_STRIP, 0, this.vertices.length / 3);\r\n        else this.gl.drawArrays(this.gl.TRIANGLES, 0, this.vertices.length / 3);\r\n    }\r\n};\r\n\r\nexport default Model;","export class Cube {\r\n    static vertices = [0.5,0.5,0.5,-0.5,0.5,0.5,-0.5,-0.5,0.5,0.5,0.5,0.5,-0.5,-0.5,0.5,0.5,-0.5,0.5,0.5,-0.5,-0.5,\r\n        0.5,-0.5,0.5,-0.5,-0.5,0.5,0.5,-0.5,-0.5,-0.5,-0.5,0.5,-0.5,-0.5,-0.5,-0.5,-0.5,-0.5,-0.5,-0.5,0.5,-0.5,0.5,0.5,-0.5,-0.5,-0.5,-0.5,\r\n        0.5,0.5,-0.5,0.5,-0.5,-0.5,0.5,-0.5,0.5,0.5,-0.5,0.5,-0.5,-0.5,-0.5,0.5,-0.5,0.5,-0.5,-0.5,-0.5,-0.5,-0.5,0.5,0.5,\r\n        -0.5,0.5,0.5,0.5,0.5,-0.5,0.5,0.5,0.5,-0.5,0.5,-0.5,0.5,0.5,-0.5,-0.5,-0.5,0.5,-0.5,-0.5,0.5,0.5,0.5,0.5,0.5,-0.5,0.5,-0.5,0.5,0.5,0.5,0.5,0.5,-0.5];\r\n    static normals = \r\n         [0,0,1,0,0,1,0,0,1,0,0,1,0,0,1,0,0,1,0,-1,0,0,-1,0,0,-1,0,0,-1,0,0,-1,0,0,-1,0,-1,0,0,-1,0,0,\r\n            -1,0,0,-1,0,0,-1,0,0,-1,0,0,0,0,-1,0,0,-1,0,0,-1,0,0,-1,0,0,-1,0,0,-1,1,0,0,1,0,0,1,0,0,1,\r\n            0,0,1,0,0,1,0,0,0,1,0,0,1,0,0,1,0,0,1,0,0,1,0,0,1,0];\r\n}","import Shader from './shader.js'\r\nimport {MainShader} from '../shaders/mainshader.js';\r\nimport {Maths, Vector3} from '../utils/maths.js';\r\nimport Model from './model';\r\nimport {Cube} from '../entities/cube';\r\n\r\nclass RenderSystem {\r\n    constructor(gl){\r\n        this.shader = new Shader([[0,'vertPosition'],[1, 'normal']],MainShader,gl);\r\n        this.models = [];\r\n        this.sources = [];\r\n        this.detectors = [];\r\n        this.guns = [];\r\n        this.particles = [];\r\n        this.gl = gl;\r\n\r\n        this.addModel(new Model([1, 0, 0, -1, 0, 0], [1, 1, 1, 1, 1, 1], gl));\r\n        this.addModel(new Model([0, 1, 0, 0, -1, 0], [1, 1, 1, 1, 1, 1], gl));\r\n        this.addModel(new Model([0, 0, 1, 0, 0, -1], [1, 1, 1, 1, 1, 1], gl));\r\n        this.addModel(new Model([0, 0, 1, 0, 0, -1], [1, 1, 1, 1, 1, 1], gl));\r\n\r\n        this.models[0].color = new Vector3(1,0,0);\r\n        this.models[1].color = new Vector3(0,1,0);\r\n        this.models[2].color = new Vector3(0,0,1);\r\n        this.models[3].color = new Vector3(0,0,1);\r\n        \r\n        \r\n        this.drawTracks = true;\r\n        this.drawParticles = true;\r\n    }\r\n      static acitve_id = 0;\r\n\r\n    removeDetector(detector){\r\n        for(let i = 0;i<this.detectors.length;i++){\r\n            if(this.detectors[i] == detector){\r\n                this.detectors.splice(i, 1);\r\n            }\r\n        }\r\n    }\r\n    removeGun(gun){\r\n        for(let i = 0;i<this.guns.length;i++){\r\n            if(this.guns[i] == gun){\r\n                this.guns.splice(i, 1);\r\n            }\r\n        }\r\n    }\r\n    removeSource(source){\r\n        for(let i = 0;i<this.sources.length;i++){\r\n            if(this.sources[i] == source){\r\n                this.sources.splice(i, 1);\r\n            }\r\n        }\r\n    }\r\n    addModel(model){\r\n        this.models.push(model);\r\n    }\r\n    addParticles(particle){\r\n        this.particles.push(particle);\r\n    }\r\n    addGun(gun){\r\n        this.guns.push(gun);\r\n    }\r\n    addSource(source){\r\n        this.sources.push(source);\r\n    }\r\n    addDetector(detector){\r\n        this.detectors.push(detector);\r\n    }\r\n    clearTracks(){\r\n        this.models = [];\r\n        this.addModel(new Model([1, 0, 0, -1, 0, 0], [1, 1, 1, 1, 1, 1], this.gl));\r\n        this.addModel(new Model([0, 1, 0, 0, -1, 0], [1, 1, 1, 1, 1, 1], this.gl));\r\n        this.addModel(new Model([0, 0, 1, 0, 0, -1], [1, 1, 1, 1, 1, 1], this.gl));\r\n        this.addModel(new Model([0, 0, 1, 0, 0, -1], [1, 1, 1, 1, 1, 1], this.gl));\r\n\r\n        this.models[0].color = new Vector3(1,0,0);\r\n        this.models[1].color = new Vector3(0,1,0);\r\n        this.models[2].color = new Vector3(0,0,1);\r\n        this.models[3].color = new Vector3(0,0,1);\r\n        //this is whack\r\n    }\r\n    draw(projection, camera){\r\n        this.gl.disable(this.gl.DEPTH_TEST);\r\n        this.shader.bind();\r\n        for(let i = 0;i<this.detectors.length;i++){\r\n            if(this.detectors[i].id != RenderSystem.acitve_id-1) continue;\r\n            if(this.detectors[i].id == RenderSystem.acitve_id-1){\r\n                this.gl.enableVertexAttribArray(0);\r\n                this.gl.enableVertexAttribArray(1);\r\n                this.gl.bindVertexArray(this.detectors[i].model.vao);\r\n                let mat = Maths.createTransformationMatrix(this.detectors[i].model.position.x, this.detectors[i].model.position.y, this.detectors[i].model.position.z,\r\n                    this.detectors[i].model.rotation.x, this.detectors[i].model.rotation.y, this.detectors[i].model.rotation.z,\r\n                     this.detectors[i].model.scale.x * (1.01),\r\n                     this.detectors[i].model.scale.y * (1.01),\r\n                    this.detectors[i].model.scale.z * (1.01));\r\n                this.shader.setUniform3f(\"color\", 1, .4, 0);\r\n                this.shader.setUniform1i(\"sampler\", 0);\r\n                this.shader.setUniform4fv(\"view\", Maths.createViewMatrix(camera));\r\n                this.shader.setUniform4fv(\"projection\", projection);\r\n                this.shader.setUniform4fv(\"transformation\", mat);\r\n                this.detectors[i].model.draw();\r\n                this.gl.disableVertexAttribArray(0);\r\n                this.gl.disableVertexAttribArray(1);\r\n            }\r\n            \r\n        }\r\n        for(let i = 0;i<this.detectors.length;i++){\r\n            this.gl.enable(this.gl.DEPTH_TEST);\r\n            this.gl.enableVertexAttribArray(0);\r\n            this.gl.enableVertexAttribArray(1);\r\n            this.gl.bindVertexArray(this.detectors[i].model.vao);\r\n            let mat = Maths.createTransformationMatrix(this.detectors[i].model.position.x, this.detectors[i].model.position.y, this.detectors[i].model.position.z,\r\n                this.detectors[i].model.rotation.x, this.detectors[i].model.rotation.y, this.detectors[i].model.rotation.z, this.detectors[i].model.scale.x,\r\n                 this.detectors[i].model.scale.y,\r\n                this.detectors[i].model.scale.z);\r\n            this.shader.setUniform3f(\"color\", this.detectors[i].model.color.x, this.detectors[i].model.color.y, this.detectors[i].model.color.z);\r\n            this.shader.setUniform1i(\"sampler\", 0);\r\n            this.shader.setUniform4fv(\"view\", Maths.createViewMatrix(camera));\r\n            this.shader.setUniform4fv(\"projection\", projection);\r\n            this.shader.setUniform4fv(\"transformation\", mat);\r\n            this.detectors[i].model.draw();\r\n            this.gl.disableVertexAttribArray(0);\r\n            this.gl.disableVertexAttribArray(1);\r\n        }\r\n        \r\n        for (var i = 0; i < this.guns.length; i++) {\r\n            this.gl.enableVertexAttribArray(0);\r\n            this.gl.enableVertexAttribArray(1);\r\n            this.gl.bindVertexArray(this.guns[i].model.vao);\r\n            let mat = Maths.createTransformationMatrix(this.guns[i].model.position.x, this.guns[i].model.position.y, this.guns[i].model.position.z,\r\n                this.guns[i].model.rotation.x, this.guns[i].model.rotation.y, this.guns[i].model.rotation.z, camera.d*0.01,camera.d*0.01,camera.d*0.01);\r\n\r\n            this.shader.setUniform3f(\"color\", this.guns[i].model.color.x, this.guns[i].model.color.y, this.guns[i].model.color.z);\r\n            this.shader.setUniform1i(\"sampler\", 0);\r\n            this.shader.setUniform4fv(\"view\", Maths.createViewMatrix(camera));\r\n            this.shader.setUniform4fv(\"projection\", projection);\r\n            this.shader.setUniform4fv(\"transformation\", mat);\r\n            this.guns[i].model.draw();\r\n            this.gl.disableVertexAttribArray(0);\r\n            this.gl.disableVertexAttribArray(1);\r\n            console.log(this.guns[i].model.position.x);\r\n        }\r\n        this.gl.disable(this.gl.DEPTH_TEST);\r\n        for (var i = 0; i < this.sources.length; i++) {\r\n            this.gl.enableVertexAttribArray(0);\r\n            this.gl.enableVertexAttribArray(1);\r\n            this.gl.bindVertexArray(this.sources[i].model.vao);\r\n            let mat = Maths.createTransformationMatrix(this.sources[i].model.position.x, this.sources[i].model.position.y, this.sources[i].model.position.z,\r\n                this.sources[i].model.rotation.x, this.sources[i].model.rotation.y, this.sources[i].model.rotation.z, camera.d*0.004,camera.d*0.004,camera.d*0.004);\r\n\r\n            this.shader.setUniform3f(\"color\", this.sources[i].model.color.x, this.sources[i].model.color.y, this.sources[i].model.color.z);\r\n            this.shader.setUniform1i(\"sampler\", 0);\r\n            this.shader.setUniform4fv(\"view\", Maths.createViewMatrix(camera));\r\n            this.shader.setUniform4fv(\"projection\", projection);\r\n            this.shader.setUniform4fv(\"transformation\", mat);\r\n            this.sources[i].model.draw();\r\n            this.gl.disableVertexAttribArray(0);\r\n            this.gl.disableVertexAttribArray(1);\r\n        }\r\n        this.gl.enable(this.gl.DEPTH_TEST);\r\n\r\n        this.gl.disable(this.gl.DEPTH_TEST);\r\n\r\n        for(let i = 0;i<4;i++){\r\n            this.gl.enableVertexAttribArray(0);\r\n            this.gl.enableVertexAttribArray(1);\r\n            this.gl.bindVertexArray(this.models[i].vao);\r\n            let mat = Maths.createTransformationMatrix(this.models[i].position.x, this.models[i].position.y, this.models[i].position.z,\r\n                this.models[i].rotation.x, this.models[i].rotation.y, this.models[i].rotation.z,\r\n                camera.d,\r\n                 camera.d,\r\n                camera.d);\r\n            this.shader.setUniform3f(\"color\", this.models[i].color.x, this.models[i].color.y, this.models[i].color.z);\r\n            this.shader.setUniform1i(\"sampler\", 0);\r\n            this.shader.setUniform4fv(\"view\", Maths.createViewMatrix(camera));\r\n            this.shader.setUniform4fv(\"projection\", projection);\r\n            this.shader.setUniform4fv(\"transformation\", mat);\r\n            this.models[i].draw();\r\n            this.gl.disableVertexAttribArray(0);\r\n            this.gl.disableVertexAttribArray(1);\r\n        }\r\n        if(!this.drawTracks){\r\n            this.shader.unBind();\r\n            return;\r\n        } \r\n        for(let i = 3;i<this.models.length;i++){\r\n            this.gl.enableVertexAttribArray(0);\r\n            this.gl.enableVertexAttribArray(1);\r\n            this.gl.bindVertexArray(this.models[i].vao);\r\n            let mat = Maths.createTransformationMatrix(this.models[i].position.x, this.models[i].position.y, this.models[i].position.z,\r\n                this.models[i].rotation.x, this.models[i].rotation.y, this.models[i].rotation.z,\r\n                this.models[i].scale.x, this.models[i].scale.y, this.models[i].scale.z);\r\n            this.shader.setUniform3f(\"color\", this.models[i].color.x, this.models[i].color.y, this.models[i].color.z);\r\n            this.shader.setUniform1i(\"sampler\", 0);\r\n            this.shader.setUniform4fv(\"view\", Maths.createViewMatrix(camera));\r\n            this.shader.setUniform4fv(\"projection\", projection);\r\n            this.shader.setUniform4fv(\"transformation\", mat);\r\n            this.models[i].draw();\r\n            this.gl.disableVertexAttribArray(0);\r\n            this.gl.disableVertexAttribArray(1);\r\n        }\r\n        this.shader.unBind();\r\n        \r\n    }\r\n}\r\nexport default RenderSystem;","class Detector {\r\n    constructor(m) {\r\n        this.model = m;\r\n        this.material = '';\r\n        this.active = false;\r\n        this.deposit = 0;\r\n        this.name = \"\";\r\n        this.id = 0;\r\n        this.hits = [];\r\n        this.numberOfHits = [];\r\n    }\r\n    contains(f) {\r\n        for (var i = 0; i < this.hits.length; i++) {\r\n            if (f == this.hits[i]) return true;\r\n        }\r\n        return false;\r\n    }\r\n    clearDeposit(){\r\n        this.hits = [];\r\n        this.numberOfHits = [];\r\n    }\r\n    sort() {\r\n        var list = [];\r\n        for (var j = 0; j < this.hits.length; j++)\r\n            list.push({ 'hit': this.hits[j], 'no': this.numberOfHits[j] });\r\n\r\n        list.sort(function (a, b) {\r\n            return ((a.hit < b.hit) ? -1 : ((a.hit == b.hit) ? 0 : 1));\r\n        });\r\n        \r\n        for (var k = 0; k < list.length; k++) {\r\n            this.hits[k] = list[k].hit;\r\n            this.numberOfHits[k] = list[k].no;\r\n        }\r\n    }\r\n    getIndex(f) {\r\n        for (var i = 0; i < this.hits.length; i++) {\r\n            if (Math.abs(f-this.hits[i]) == 0) return i;\r\n        }\r\n        return -1;\r\n    }\r\n};\r\n\r\nexport default Detector;","export class ParticleGun {\r\n    constructor(model, position, direction, energy){\r\n        this.position = position;\r\n        this.direction = direction;\r\n        this.energy = energy;\r\n        this.model = model;\r\n        this.name = \"Particle Gun\";\r\n    }\r\n}","export class GunMesh {\r\n    constructor(){}\r\n    static vertices = [-1,-1,-1,0,0,1,0,0,1,-1,-1,-1,0,0,1,-1,1,-1,-1,1,-1,0,0,1,0,0,1,-1,1,-1,0,0,1,1,1,-1,1,1,-1,0,0,1,0,0,1,1,1,-1,0,0,1,1,-1,-1,1,-1,-1,0,0,1,0,0,1,1,-1,-1,0,0,1,-1,-1,-1,-1,1,-1,1,1,-1,1,-1,-1,-1,1,-1,1,-1,-1,-1,-1,-1,0,0,1,0,0,1,0,0,1,0,0,1,0,0,1,0,0,1];\r\n    static normals = [0,0,0,0,0,0,0,0,0,-0.8944271802902222,0,0.4472135901451111,-0.8944271802902222,0,0.4472135901451111,-0.8944271802902222,0,0.4472135901451111,0,0,0,0,0,0,0,0,0,0,0.8944271802902222,0.4472135901451111,0,0.8944271802902222,0.4472135901451111,0,0.8944271802902222,0.4472135901451111,0,0,0,0,0,0,0,0,0,0.8944271802902222,0,0.4472135901451111,0.8944271802902222,0,0.4472135901451111,0.8944271802902222,0,0.4472135901451111,0,0,0,0,0,0,0,0,0,0,-0.8944271802902222,0.4472135901451111,0,-0.8944271802902222,0.4472135901451111,0,-0.8944271802902222,0.4472135901451111,0,0,-1,0,0,-1,0,0,-1,0,0,-1,0,0,-1,0,0,-1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];\r\n}","import { Vector3 } from \"../utils/maths.js\";\r\n\r\nexport class ParticleSource {\r\n    constructor(model, position, material){\r\n        this.position = position;\r\n        this.name = \"Particle Source\";\r\n        this.scale = new Vector3(1,1,1);\r\n        this.material = material;\r\n        this.model = model;\r\n        this.model.color = new Vector3(0,1,0);\r\n        this.active = false;\r\n    }\r\n}","export class InstancedShader{\r\n   \r\n    static vertexShader = \"precision mediump float;\"+\r\n\r\n    \"attribute vec3 vertPosition;\"+\r\n    \"attribute vec3 normal;\"+\r\n    \"attribute mat4 transformation;\"+\r\n    \"attribute vec3 color;\"+\r\n    \r\n    \"varying vec2 tex_coords;\"+\r\n    \"varying vec3 Normal;\"+\r\n    \"varying vec3 fragPos;\"+\r\n    \"varying vec3 out_color;\"+\r\n    \r\n    \"uniform mat4 projection;\"+\r\n    \"uniform mat4 view;\"+\r\n    \"uniform float camera;\"+\r\n    \r\n    \"void main()\"+\r\n    \"{\"+\r\n      \"gl_Position = projection * view * transformation * vec4(vec3(vertPosition*camera*0.2), 1.0);\"+\r\n      \"out_color = color;\"+\r\n      \"fragPos = vec3(transformation * vec4(vertPosition, 1.0));\"+\r\n      \"Normal = normal;\"+\r\n    \"}\";\r\n    static fragmentShader = \"precision mediump float;\"+\r\n\r\n    \"varying vec2 tex_coords;\"+\r\n    \"varying vec3 Normal;\"+\r\n    \"varying vec3 fragPos;\"+\r\n    \r\n    \"varying vec3 out_color;\"+\r\n    \r\n    \"uniform sampler2D sampler;\"+\r\n    \r\n    \"void main()\"+\r\n    \"{\"+\r\n      \"vec3 norm = normalize(Normal);\"+\r\n      \"vec3 lightDir = normalize(vec3(100) - fragPos);\"+ \r\n      \"float diff = max(dot(norm, lightDir), 0.0); \"+\r\n      \"vec3 diffuse = diff * vec3(1); \"+\r\n      \"gl_FragColor = vec4(out_color,1.0);\"+\r\n     \"}\";\r\n}\r\n\r\n","import Matrix, { Maths } from \"../utils/maths.js\";\r\nimport {InstancedShader} from \"../shaders/instanceshader\";\r\n\r\nexport class InstanceRenderer {\r\n    constructor(vertices, gl){\r\n        this.vao = gl.createVertexArray();\r\n        gl.bindVertexArray(this.vao);\r\n        this.vertices = vertices;\r\n        this.index = 0;\r\n        this.vbo = this.createVBO(gl);\r\n        this.color_vbo = this.createVBO(gl);\r\n        this.shader = new InstanceShader(gl);\r\n        this.storeData(0, 3, vertices, gl);\r\n        gl.bindVertexArray(null);\r\n        gl.disableVertexAttribArray(0);\r\n\r\n        this.addIntanceAttrib(this.vao, this.vbo, 1, 4, 16, 0, gl);\r\n        this.addIntanceAttrib(this.vao, this.vbo, 2, 4, 16, 4, gl);\r\n        this.addIntanceAttrib(this.vao, this.vbo, 3, 4, 16, 8, gl);\r\n        this.addIntanceAttrib(this.vao, this.vbo, 4, 4, 16, 12, gl);\r\n        this.addIntanceAttrib(this.vao, this.color_vbo, 5, 3, 3, 0, gl);\r\n        \r\n    }  \r\n    render(particles,view, projection,d, gl){\r\n        let vboData = [];\r\n        let colorData = [];\r\n        this.index = 0;\r\n        this.colorIndex = 0;\r\n        this.shader.bind();\r\n        gl.bindVertexArray(this.vao);\r\n        gl.enableVertexAttribArray(0);\r\n        gl.enableVertexAttribArray(1);\r\n        gl.enableVertexAttribArray(2);\r\n        gl.enableVertexAttribArray(3);\r\n        gl.enableVertexAttribArray(4);\r\n        gl.enableVertexAttribArray(5);\r\n        \r\n        for(let i = 0;i<particles.length;i++){\r\n            this.storeMatrixData(Maths.createTransformationMatrix(particles[i].position.x,particles[i].position.y,particles[i].position.z,0,0,0,\r\n                particles[i].scale.x,particles[i].scale.y,particles[i].scale.z), vboData);\r\n            this.storeVectorData(particles[i].color, colorData);\r\n        }\r\n        this.updateVBO(this.vbo, vboData, gl);\r\n        this.updateVBO(this.color_vbo, colorData, gl);\r\n        gl.drawArraysInstanced(gl.TRIANGLES, 0, this.vertices.length / 3, particles.length);\r\n\r\n        this.shader.setUniform4fv(\"view\", view);\r\n        this.shader.setUniform4fv(\"projection\", projection);\r\n        this.shader.setUniform3f(\"color\", 1,1,1);\r\n        this.shader.setUniform(\"camera\", d);\r\n\r\n        gl.bindVertexArray(null);\r\n        gl.disableVertexAttribArray(0);\r\n        gl.disableVertexAttribArray(1);\r\n        gl.disableVertexAttribArray(2);\r\n        gl.disableVertexAttribArray(3);\r\n        gl.disableVertexAttribArray(4);\r\n        gl.disableVertexAttribArray(5);\r\n        \r\n        this.shader.unBind();\r\n    }\r\n    createVBO(gl){\r\n        let vbo = gl.createBuffer();\r\n        gl.bindBuffer(gl.ARRAY_BUFFER, vbo);\r\n        gl.bufferData(gl.ARRAY_BUFFER, new Float32Array(99999999), gl.STREAM_DRAW, 0);\r\n        gl.bindBuffer(gl.ARRAY_BUFFER, null);\r\n\r\n        return vbo;\r\n    }\r\n    storeVectorData(v, vboData){\r\n        vboData[this.colorIndex++] = v.x;\r\n        vboData[this.colorIndex++] = v.y;\r\n        vboData[this.colorIndex++] = v.z;\r\n        \r\n    }\r\n    storeMatrixData(mat, vboData){\r\n        /*for(let i = 0;i<4;i++){\r\n            vboData.push(mat[12-i*4]);\r\n            vboData.push(mat[13-i*4]);\r\n            vboData.push(mat[14-i*4]);\r\n            vboData.push(mat[15-i*4]);\r\n        }*/\r\n        for(let i = 0;i<16;i++){\r\n            vboData[this.index++] = mat[i];\r\n        }\r\n    }\r\n    storeData(attribnumber, coordinateSize, data, gl){\r\n        let vbo = gl.createBuffer();\r\n        gl.bindBuffer(gl.ARRAY_BUFFER,vbo);\r\n        gl.bufferData(gl.ARRAY_BUFFER, new Float32Array(data), gl.STATIC_DRAW, 0);\r\n        gl.vertexAttribPointer(attribnumber, coordinateSize, gl.FLOAT, gl.FALSE, 0, 0);\r\n    }\r\n    addIntanceAttrib(vao, vbo, attribute, datasize, datalength, offset, gl){\r\n        gl.bindBuffer(gl.ARRAY_BUFFER, vbo);\r\n\t    gl.bindVertexArray(vao);\r\n\t    gl.vertexAttribPointer(attribute, datasize, gl.FLOAT, false, datalength * 4, (offset * 4));\r\n\t    gl.vertexAttribDivisor(attribute, 1);\r\n\t    gl.bindBuffer(gl.ARRAY_BUFFER, null);\r\n\t    gl.bindVertexArray(null);\r\n    }\r\n    updateVBO(vbo, data, gl){\r\n        gl.bindBuffer(gl.ARRAY_BUFFER, vbo);\r\n\t    gl.bufferData(gl.ARRAY_BUFFER, new Float32Array(data), gl.STREAM_DRAW);\r\n\t    gl.bufferSubData(gl.ARRAY_BUFFER, 0, new Float32Array(data));\r\n\t    gl.bindBuffer(gl.ARRAY_BUFFER, null);\r\n    }\r\n}\r\n\r\nexport class InstanceShader {\r\n    constructor(gl){\r\n        this.gl = gl;\r\n        var vertexShaderText = InstancedShader.vertexShader;\r\n        var fragmentShaderText = InstancedShader.fragmentShader;\r\n\r\n        var vertexShader = gl.createShader(gl.VERTEX_SHADER);\r\n        var fragmentShader = gl.createShader(gl.FRAGMENT_SHADER);\r\n    \r\n        gl.shaderSource(vertexShader, vertexShaderText);\r\n        gl.shaderSource(fragmentShader, fragmentShaderText);\r\n    \r\n        gl.compileShader(vertexShader);\r\n        if (!gl.getShaderParameter(vertexShader, gl.COMPILE_STATUS)) {\r\n            console.error('ERROR compiling vertex shader!', gl.getShaderInfoLog(vertexShader));\r\n            return;\r\n        }\r\n    \r\n        gl.compileShader(fragmentShader);\r\n        if (!gl.getShaderParameter(fragmentShader, gl.COMPILE_STATUS)) {\r\n            console.error('ERROR compiling fragment shader!', gl.getShaderInfoLog(fragmentShader));\r\n            return;\r\n        }\r\n    \r\n        this.program = gl.createProgram();\r\n        gl.attachShader(this.program, vertexShader);\r\n        gl.attachShader(this.program, fragmentShader);\r\n\r\n\r\n        gl.bindAttribLocation(this.program, 0, \"vertPosition\");\r\n        gl.bindAttribLocation(this.program, 1, \"transformation\");\r\n        gl.bindAttribLocation(this.program, 5, \"color\");\r\n        \r\n\r\n        gl.linkProgram(this.program);\r\n        if (!gl.getProgramParameter(this.program, gl.LINK_STATUS)) {\r\n            console.error('ERROR linking program!', gl.getProgramInfoLog(this.program));\r\n            return;\r\n        }\r\n        gl.validateProgram(this.program);\r\n        if (!gl.getProgramParameter(this.program, gl.VALIDATE_STATUS)) {\r\n            console.error('ERROR validating program!', gl.getProgramInfoLog(this.program));\r\n            return;\r\n        }\r\n        \r\n    }\r\n    bind(){\r\n        this.gl.useProgram(this.program);\r\n    }\r\n    unBind(){\r\n        this.gl.useProgram(null);\r\n    }\r\n    setUniform(name,value){\r\n        var location = this.gl.getUniformLocation(this.program,name);\r\n        if(location != -1){\r\n            this.gl.uniform1f(location,value);\r\n        }\r\n    }\r\n    setUniform1i(name,value){\r\n        var location = this.gl.getUniformLocation(this.program,name);\r\n        if(location != -1){\r\n            this.gl.uniform1i(location,value);\r\n        }\r\n    }\r\n    setUniform3f(name,x,y,z){\r\n        var location = this.gl.getUniformLocation(this.program,name);\r\n        if(location != -1){\r\n            this.gl.uniform3f(location,x,y,z);\r\n        }\r\n    }\r\n    setUniform4fv(name,value){\r\n        var location = this.gl.getUniformLocation(this.program,name);\r\n        if(location != -1){\r\n            this.gl.uniformMatrix4fv(location,false,value);\r\n        }\r\n        \r\n    }\r\n}","class Cylinder {\r\n    static vertices = [0,1,-1,0,1,1,0.19509032368659973,0.9807852506637573,1,0,1,-1,0.19509032368659973,0.9807852506637573,1,0.19509032368659973,0.9807852506637573,-1,0.19509032368659973,0.9807852506637573,-1,0.19509032368659973,0.9807852506637573,1,0.3826834559440613,0.9238795042037964,1,0.19509032368659973,0.9807852506637573,-1,0.3826834559440613,0.9238795042037964,1,0.3826834559440613,0.9238795042037964,-1,0.3826834559440613,0.9238795042037964,-1,0.3826834559440613,0.9238795042037964,1,0.5555702447891235,0.8314695954322815,1,0.3826834559440613,0.9238795042037964,-1,0.5555702447891235,0.8314695954322815,1,0.5555702447891235,0.8314695954322815,-1,0.5555702447891235,0.8314695954322815,-1,0.5555702447891235,0.8314695954322815,1,0.7071067690849304,0.7071067690849304,1,0.5555702447891235,0.8314695954322815,-1,0.7071067690849304,0.7071067690849304,1,0.7071067690849304,0.7071067690849304,-1,0.7071067690849304,0.7071067690849304,-1,0.7071067690849304,0.7071067690849304,1,0.8314696550369263,0.5555701851844788,1,0.7071067690849304,0.7071067690849304,-1,0.8314696550369263,0.5555701851844788,1,0.8314696550369263,0.5555701851844788,-1,0.8314696550369263,0.5555701851844788,-1,0.8314696550369263,0.5555701851844788,1,0.9238795042037964,0.3826834261417389,1,0.8314696550369263,0.5555701851844788,-1,0.9238795042037964,0.3826834261417389,1,0.9238795042037964,0.3826834261417389,-1,0.9238795042037964,0.3826834261417389,-1,0.9238795042037964,0.3826834261417389,1,0.9807852506637573,0.19509035348892212,1,0.9238795042037964,0.3826834261417389,-1,0.9807852506637573,0.19509035348892212,1,0.9807852506637573,0.19509035348892212,-1,0.9807852506637573,0.19509035348892212,-1,0.9807852506637573,0.19509035348892212,1,1,7.549790126404332e-8,1,0.9807852506637573,0.19509035348892212,-1,1,7.549790126404332e-8,1,1,7.549790126404332e-8,-1,1,7.549790126404332e-8,-1,1,7.549790126404332e-8,1,0.9807853102684021,-0.19509020447731018,1,1,7.549790126404332e-8,-1,0.9807853102684021,-0.19509020447731018,1,0.9807853102684021,-0.19509020447731018,-1,0.9807853102684021,-0.19509020447731018,-1,0.9807853102684021,-0.19509020447731018,1,0.9238795638084412,-0.38268327713012695,1,0.9807853102684021,-0.19509020447731018,-1,0.9238795638084412,-0.38268327713012695,1,0.9238795638084412,-0.38268327713012695,-1,0.9238795638084412,-0.38268327713012695,-1,0.9238795638084412,-0.38268327713012695,1,0.8314696550369263,-0.5555701851844788,1,0.9238795638084412,-0.38268327713012695,-1,0.8314696550369263,-0.5555701851844788,1,0.8314696550369263,-0.5555701851844788,-1,0.8314696550369263,-0.5555701851844788,-1,0.8314696550369263,-0.5555701851844788,1,0.7071067690849304,-0.7071067690849304,1,0.8314696550369263,-0.5555701851844788,-1,0.7071067690849304,-0.7071067690849304,1,0.7071067690849304,-0.7071067690849304,-1,0.7071067690849304,-0.7071067690849304,-1,0.7071067690849304,-0.7071067690849304,1,0.5555701851844788,-0.8314696550369263,1,0.7071067690849304,-0.7071067690849304,-1,0.5555701851844788,-0.8314696550369263,1,0.5555701851844788,-0.8314696550369263,-1,0.5555701851844788,-0.8314696550369263,-1,0.5555701851844788,-0.8314696550369263,1,0.38268327713012695,-0.9238796234130859,1,0.5555701851844788,-0.8314696550369263,-1,0.38268327713012695,-0.9238796234130859,1,0.38268327713012695,-0.9238796234130859,-1,0.38268327713012695,-0.9238796234130859,-1,0.38268327713012695,-0.9238796234130859,1,0.19509008526802063,-0.9807853102684021,1,0.38268327713012695,-0.9238796234130859,-1,0.19509008526802063,-0.9807853102684021,1,0.19509008526802063,-0.9807853102684021,-1,0.19509008526802063,-0.9807853102684021,-1,0.19509008526802063,-0.9807853102684021,1,-3.2584136988589307e-7,-1,1,0.19509008526802063,-0.9807853102684021,-1,-3.2584136988589307e-7,-1,1,-3.2584136988589307e-7,-1,-1,-3.2584136988589307e-7,-1,-1,-3.2584136988589307e-7,-1,1,-0.19509072601795197,-0.9807851910591125,1,-3.2584136988589307e-7,-1,-1,-0.19509072601795197,-0.9807851910591125,1,-0.19509072601795197,-0.9807851910591125,-1,-0.19509072601795197,-0.9807851910591125,-1,-0.19509072601795197,-0.9807851910591125,1,-0.3826838731765747,-0.9238793253898621,1,-0.19509072601795197,-0.9807851910591125,-1,-0.3826838731765747,-0.9238793253898621,1,-0.3826838731765747,-0.9238793253898621,-1,-0.3826838731765747,-0.9238793253898621,-1,-0.3826838731765747,-0.9238793253898621,1,-0.5555707216262817,-0.8314692974090576,1,-0.3826838731765747,-0.9238793253898621,-1,-0.5555707216262817,-0.8314692974090576,1,-0.5555707216262817,-0.8314692974090576,-1,-0.5555707216262817,-0.8314692974090576,-1,-0.5555707216262817,-0.8314692974090576,1,-0.7071072459220886,-0.707106351852417,1,-0.5555707216262817,-0.8314692974090576,-1,-0.7071072459220886,-0.707106351852417,1,-0.7071072459220886,-0.707106351852417,-1,-0.7071072459220886,-0.707106351852417,-1,-0.7071072459220886,-0.707106351852417,1,-0.8314700126647949,-0.5555696487426758,1,-0.7071072459220886,-0.707106351852417,-1,-0.8314700126647949,-0.5555696487426758,1,-0.8314700126647949,-0.5555696487426758,-1,-0.8314700126647949,-0.5555696487426758,-1,-0.8314700126647949,-0.5555696487426758,1,-0.923879861831665,-0.3826826810836792,1,-0.8314700126647949,-0.5555696487426758,-1,-0.923879861831665,-0.3826826810836792,1,-0.923879861831665,-0.3826826810836792,-1,-0.923879861831665,-0.3826826810836792,-1,-0.923879861831665,-0.3826826810836792,1,-0.9807854294776917,-0.1950894594192505,1,-0.923879861831665,-0.3826826810836792,-1,-0.9807854294776917,-0.1950894594192505,1,-0.9807854294776917,-0.1950894594192505,-1,-0.9807854294776917,-0.1950894594192505,-1,-0.9807854294776917,-0.1950894594192505,1,-1,9.655991561885457e-7,1,-0.9807854294776917,-0.1950894594192505,-1,-1,9.655991561885457e-7,1,-1,9.655991561885457e-7,-1,-1,9.655991561885457e-7,-1,-1,9.655991561885457e-7,1,-0.980785071849823,0.1950913518667221,1,-1,9.655991561885457e-7,-1,-0.980785071849823,0.1950913518667221,1,-0.980785071849823,0.1950913518667221,-1,-0.980785071849823,0.1950913518667221,-1,-0.980785071849823,0.1950913518667221,1,-0.923879086971283,0.38268446922302246,1,-0.980785071849823,0.1950913518667221,-1,-0.923879086971283,0.38268446922302246,1,-0.923879086971283,0.38268446922302246,-1,-0.923879086971283,0.38268446922302246,-1,-0.923879086971283,0.38268446922302246,1,-0.831468939781189,0.5555712580680847,1,-0.923879086971283,0.38268446922302246,-1,-0.831468939781189,0.5555712580680847,1,-0.831468939781189,0.5555712580680847,-1,-0.831468939781189,0.5555712580680847,-1,-0.831468939781189,0.5555712580680847,1,-0.7071058750152588,0.707107663154602,1,-0.831468939781189,0.5555712580680847,-1,-0.7071058750152588,0.707107663154602,1,-0.7071058750152588,0.707107663154602,-1,-0.7071058750152588,0.707107663154602,-1,-0.7071058750152588,0.707107663154602,1,-0.5555691123008728,0.8314703702926636,1,-0.7071058750152588,0.707107663154602,-1,-0.5555691123008728,0.8314703702926636,1,-0.5555691123008728,0.8314703702926636,-1,-0.5555691123008728,0.8314703702926636,-1,-0.5555691123008728,0.8314703702926636,1,-0.38268208503723145,0.9238801002502441,1,-0.5555691123008728,0.8314703702926636,-1,-0.38268208503723145,0.9238801002502441,1,-0.38268208503723145,0.9238801002502441,-1,0.3826834559440613,0.9238795042037964,1,0.19509032368659973,0.9807852506637573,1,0,1,1,0,1,1,-0.19508881866931915,0.9807855486869812,1,-0.38268208503723145,0.9238801002502441,1,-0.38268208503723145,0.9238801002502441,1,-0.5555691123008728,0.8314703702926636,1,-0.7071058750152588,0.707107663154602,1,-0.7071058750152588,0.707107663154602,1,-0.831468939781189,0.5555712580680847,1,-0.923879086971283,0.38268446922302246,1,-0.923879086971283,0.38268446922302246,1,-0.980785071849823,0.1950913518667221,1,-1,9.655991561885457e-7,1,-1,9.655991561885457e-7,1,-0.9807854294776917,-0.1950894594192505,1,-0.923879861831665,-0.3826826810836792,1,-0.923879861831665,-0.3826826810836792,1,-0.8314700126647949,-0.5555696487426758,1,-0.7071072459220886,-0.707106351852417,1,-0.7071072459220886,-0.707106351852417,1,-0.5555707216262817,-0.8314692974090576,1,-0.3826838731765747,-0.9238793253898621,1,-0.3826838731765747,-0.9238793253898621,1,-0.19509072601795197,-0.9807851910591125,1,-3.2584136988589307e-7,-1,1,-3.2584136988589307e-7,-1,1,0.19509008526802063,-0.9807853102684021,1,0.38268327713012695,-0.9238796234130859,1,0.38268327713012695,-0.9238796234130859,1,0.5555701851844788,-0.8314696550369263,1,0.7071067690849304,-0.7071067690849304,1,0.7071067690849304,-0.7071067690849304,1,0.8314696550369263,-0.5555701851844788,1,0.9238795638084412,-0.38268327713012695,1,0.9238795638084412,-0.38268327713012695,1,0.9807853102684021,-0.19509020447731018,1,1,7.549790126404332e-8,1,1,7.549790126404332e-8,1,0.9807852506637573,0.19509035348892212,1,0.9238795042037964,0.3826834261417389,1,0.9238795042037964,0.3826834261417389,1,0.8314696550369263,0.5555701851844788,1,0.7071067690849304,0.7071067690849304,1,0.7071067690849304,0.7071067690849304,1,0.5555702447891235,0.8314695954322815,1,0.3826834559440613,0.9238795042037964,1,0.3826834559440613,0.9238795042037964,1,0,1,1,-0.38268208503723145,0.9238801002502441,1,-0.38268208503723145,0.9238801002502441,1,-0.7071058750152588,0.707107663154602,1,-0.923879086971283,0.38268446922302246,1,-0.923879086971283,0.38268446922302246,1,-1,9.655991561885457e-7,1,-0.923879861831665,-0.3826826810836792,1,-0.923879861831665,-0.3826826810836792,1,-0.7071072459220886,-0.707106351852417,1,-0.3826838731765747,-0.9238793253898621,1,-0.3826838731765747,-0.9238793253898621,1,-3.2584136988589307e-7,-1,1,0.38268327713012695,-0.9238796234130859,1,0.38268327713012695,-0.9238796234130859,1,0.7071067690849304,-0.7071067690849304,1,0.9238795638084412,-0.38268327713012695,1,0.9238795638084412,-0.38268327713012695,1,1,7.549790126404332e-8,1,0.9238795042037964,0.3826834261417389,1,0.9238795042037964,0.3826834261417389,1,0.7071067690849304,0.7071067690849304,1,0.3826834559440613,0.9238795042037964,1,0.3826834559440613,0.9238795042037964,1,-0.38268208503723145,0.9238801002502441,1,-0.923879086971283,0.38268446922302246,1,-0.923879086971283,0.38268446922302246,1];\r\n    \r\n    \r\n    static normals = [0,1,-1,0,1,1,0.19509032368659973,0.9807852506637573,1,0,1,-1,0.19509032368659973,0.9807852506637573,1,0.19509032368659973,0.9807852506637573,-1,0.19509032368659973,0.9807852506637573,-1,0.19509032368659973,0.9807852506637573,1,0.3826834559440613,0.9238795042037964,1,0.19509032368659973,0.9807852506637573,-1,0.3826834559440613,0.9238795042037964,1,0.3826834559440613,0.9238795042037964,-1,0.3826834559440613,0.9238795042037964,-1,0.3826834559440613,0.9238795042037964,1,0.5555702447891235,0.8314695954322815,1,0.3826834559440613,0.9238795042037964,-1,0.5555702447891235,0.8314695954322815,1,0.5555702447891235,0.8314695954322815,-1,0.5555702447891235,0.8314695954322815,-1,0.5555702447891235,0.8314695954322815,1,0.7071067690849304,0.7071067690849304,1,0.5555702447891235,0.8314695954322815,-1,0.7071067690849304,0.7071067690849304,1,0.7071067690849304,0.7071067690849304,-1,0.7071067690849304,0.7071067690849304,-1,0.7071067690849304,0.7071067690849304,1,0.8314696550369263,0.5555701851844788,1,0.7071067690849304,0.7071067690849304,-1,0.8314696550369263,0.5555701851844788,1,0.8314696550369263,0.5555701851844788,-1,0.8314696550369263,0.5555701851844788,-1,0.8314696550369263,0.5555701851844788,1,0.9238795042037964,0.3826834261417389,1,0.8314696550369263,0.5555701851844788,-1,0.9238795042037964,0.3826834261417389,1,0.9238795042037964,0.3826834261417389,-1,0.9238795042037964,0.3826834261417389,-1,0.9238795042037964,0.3826834261417389,1,0.9807852506637573,0.19509035348892212,1,0.9238795042037964,0.3826834261417389,-1,0.9807852506637573,0.19509035348892212,1,0.9807852506637573,0.19509035348892212,-1,0.9807852506637573,0.19509035348892212,-1,0.9807852506637573,0.19509035348892212,1,1,7.549790126404332e-8,1,0.9807852506637573,0.19509035348892212,-1,1,7.549790126404332e-8,1,1,7.549790126404332e-8,-1,1,7.549790126404332e-8,-1,1,7.549790126404332e-8,1,0.9807853102684021,-0.19509020447731018,1,1,7.549790126404332e-8,-1,0.9807853102684021,-0.19509020447731018,1,0.9807853102684021,-0.19509020447731018,-1,0.9807853102684021,-0.19509020447731018,-1,0.9807853102684021,-0.19509020447731018,1,0.9238795638084412,-0.38268327713012695,1,0.9807853102684021,-0.19509020447731018,-1,0.9238795638084412,-0.38268327713012695,1,0.9238795638084412,-0.38268327713012695,-1,0.9238795638084412,-0.38268327713012695,-1,0.9238795638084412,-0.38268327713012695,1,0.8314696550369263,-0.5555701851844788,1,0.9238795638084412,-0.38268327713012695,-1,0.8314696550369263,-0.5555701851844788,1,0.8314696550369263,-0.5555701851844788,-1,0.8314696550369263,-0.5555701851844788,-1,0.8314696550369263,-0.5555701851844788,1,0.7071067690849304,-0.7071067690849304,1,0.8314696550369263,-0.5555701851844788,-1,0.7071067690849304,-0.7071067690849304,1,0.7071067690849304,-0.7071067690849304,-1,0.7071067690849304,-0.7071067690849304,-1,0.7071067690849304,-0.7071067690849304,1,0.5555701851844788,-0.8314696550369263,1,0.7071067690849304,-0.7071067690849304,-1,0.5555701851844788,-0.8314696550369263,1,0.5555701851844788,-0.8314696550369263,-1,0.5555701851844788,-0.8314696550369263,-1,0.5555701851844788,-0.8314696550369263,1,0.38268327713012695,-0.9238796234130859,1,0.5555701851844788,-0.8314696550369263,-1,0.38268327713012695,-0.9238796234130859,1,0.38268327713012695,-0.9238796234130859,-1,0.38268327713012695,-0.9238796234130859,-1,0.38268327713012695,-0.9238796234130859,1,0.19509008526802063,-0.9807853102684021,1,0.38268327713012695,-0.9238796234130859,-1,0.19509008526802063,-0.9807853102684021,1,0.19509008526802063,-0.9807853102684021,-1,0.19509008526802063,-0.9807853102684021,-1,0.19509008526802063,-0.9807853102684021,1,-3.2584136988589307e-7,-1,1,0.19509008526802063,-0.9807853102684021,-1,-3.2584136988589307e-7,-1,1,-3.2584136988589307e-7,-1,-1,-3.2584136988589307e-7,-1,-1,-3.2584136988589307e-7,-1,1,-0.19509072601795197,-0.9807851910591125,1,-3.2584136988589307e-7,-1,-1,-0.19509072601795197,-0.9807851910591125,1,-0.19509072601795197,-0.9807851910591125,-1,-0.19509072601795197,-0.9807851910591125,-1,-0.19509072601795197,-0.9807851910591125,1,-0.3826838731765747,-0.9238793253898621,1,-0.19509072601795197,-0.9807851910591125,-1,-0.3826838731765747,-0.9238793253898621,1,-0.3826838731765747,-0.9238793253898621,-1,-0.3826838731765747,-0.9238793253898621,-1,-0.3826838731765747,-0.9238793253898621,1,-0.5555707216262817,-0.8314692974090576,1,-0.3826838731765747,-0.9238793253898621,-1,-0.5555707216262817,-0.8314692974090576,1,-0.5555707216262817,-0.8314692974090576,-1,-0.5555707216262817,-0.8314692974090576,-1,-0.5555707216262817,-0.8314692974090576,1,-0.7071072459220886,-0.707106351852417,1,-0.5555707216262817,-0.8314692974090576,-1,-0.7071072459220886,-0.707106351852417,1,-0.7071072459220886,-0.707106351852417,-1,-0.7071072459220886,-0.707106351852417,-1,-0.7071072459220886,-0.707106351852417,1,-0.8314700126647949,-0.5555696487426758,1,-0.7071072459220886,-0.707106351852417,-1,-0.8314700126647949,-0.5555696487426758,1,-0.8314700126647949,-0.5555696487426758,-1,-0.8314700126647949,-0.5555696487426758,-1,-0.8314700126647949,-0.5555696487426758,1,-0.923879861831665,-0.3826826810836792,1,-0.8314700126647949,-0.5555696487426758,-1,-0.923879861831665,-0.3826826810836792,1,-0.923879861831665,-0.3826826810836792,-1,-0.923879861831665,-0.3826826810836792,-1,-0.923879861831665,-0.3826826810836792,1,-0.9807854294776917,-0.1950894594192505,1,-0.923879861831665,-0.3826826810836792,-1,-0.9807854294776917,-0.1950894594192505,1,-0.9807854294776917,-0.1950894594192505,-1,-0.9807854294776917,-0.1950894594192505,-1,-0.9807854294776917,-0.1950894594192505,1,-1,9.655991561885457e-7,1,-0.9807854294776917,-0.1950894594192505,-1,-1,9.655991561885457e-7,1,-1,9.655991561885457e-7,-1,-1,9.655991561885457e-7,-1,-1,9.655991561885457e-7,1,-0.980785071849823,0.1950913518667221,1,-1,9.655991561885457e-7,-1,-0.980785071849823,0.1950913518667221,1,-0.980785071849823,0.1950913518667221,-1,-0.980785071849823,0.1950913518667221,-1,-0.980785071849823,0.1950913518667221,1,-0.923879086971283,0.38268446922302246,1,-0.980785071849823,0.1950913518667221,-1,-0.923879086971283,0.38268446922302246,1,-0.923879086971283,0.38268446922302246,-1,-0.923879086971283,0.38268446922302246,-1,-0.923879086971283,0.38268446922302246,1,-0.831468939781189,0.5555712580680847,1,-0.923879086971283,0.38268446922302246,-1,-0.831468939781189,0.5555712580680847,1,-0.831468939781189,0.5555712580680847,-1,-0.831468939781189,0.5555712580680847,-1,-0.831468939781189,0.5555712580680847,1,-0.7071058750152588,0.707107663154602,1,-0.831468939781189,0.5555712580680847,-1,-0.7071058750152588,0.707107663154602,1,-0.7071058750152588,0.707107663154602,-1,-0.7071058750152588,0.707107663154602,-1,-0.7071058750152588,0.707107663154602,1,-0.5555691123008728,0.8314703702926636,1,-0.7071058750152588,0.707107663154602,-1,-0.5555691123008728,0.8314703702926636,1,-0.5555691123008728,0.8314703702926636,-1,-0.5555691123008728,0.8314703702926636,-1,-0.5555691123008728,0.8314703702926636,1,-0.38268208503723145,0.9238801002502441,1,-0.5555691123008728,0.8314703702926636,-1,-0.38268208503723145,0.9238801002502441,1,-0.38268208503723145,0.9238801002502441,-1,0.3826834559440613,0.9238795042037964,1,0.19509032368659973,0.9807852506637573,1,0,1,1,0,1,1,-0.19508881866931915,0.9807855486869812,1,-0.38268208503723145,0.9238801002502441,1,-0.38268208503723145,0.9238801002502441,1,-0.5555691123008728,0.8314703702926636,1,-0.7071058750152588,0.707107663154602,1,-0.7071058750152588,0.707107663154602,1,-0.831468939781189,0.5555712580680847,1,-0.923879086971283,0.38268446922302246,1,-0.923879086971283,0.38268446922302246,1,-0.980785071849823,0.1950913518667221,1,-1,9.655991561885457e-7,1,-1,9.655991561885457e-7,1,-0.9807854294776917,-0.1950894594192505,1,-0.923879861831665,-0.3826826810836792,1,-0.923879861831665,-0.3826826810836792,1,-0.8314700126647949,-0.5555696487426758,1,-0.7071072459220886,-0.707106351852417,1,-0.7071072459220886,-0.707106351852417,1,-0.5555707216262817,-0.8314692974090576,1,-0.3826838731765747,-0.9238793253898621,1,-0.3826838731765747,-0.9238793253898621,1,-0.19509072601795197,-0.9807851910591125,1,-3.2584136988589307e-7,-1,1,-3.2584136988589307e-7,-1,1,0.19509008526802063,-0.9807853102684021,1,0.38268327713012695,-0.9238796234130859,1,0.38268327713012695,-0.9238796234130859,1,0.5555701851844788,-0.8314696550369263,1,0.7071067690849304,-0.7071067690849304,1,0.7071067690849304,-0.7071067690849304,1,0.8314696550369263,-0.5555701851844788,1,0.9238795638084412,-0.38268327713012695,1,0.9238795638084412,-0.38268327713012695,1,0.9807853102684021,-0.19509020447731018,1,1,7.549790126404332e-8,1,1,7.549790126404332e-8,1,0.9807852506637573,0.19509035348892212,1,0.9238795042037964,0.3826834261417389,1,0.9238795042037964,0.3826834261417389,1,0.8314696550369263,0.5555701851844788,1,0.7071067690849304,0.7071067690849304,1,0.7071067690849304,0.7071067690849304,1,0.5555702447891235,0.8314695954322815,1,0.3826834559440613,0.9238795042037964,1,0.3826834559440613,0.9238795042037964,1,0,1,1,-0.38268208503723145,0.9238801002502441,1,-0.38268208503723145,0.9238801002502441,1,-0.7071058750152588,0.707107663154602,1,-0.923879086971283,0.38268446922302246,1,-0.923879086971283,0.38268446922302246,1,-1,9.655991561885457e-7,1,-0.923879861831665,-0.3826826810836792,1,-0.923879861831665,-0.3826826810836792,1,-0.7071072459220886,-0.707106351852417,1,-0.3826838731765747,-0.9238793253898621,1,-0.3826838731765747,-0.9238793253898621,1,-3.2584136988589307e-7,-1,1,0.38268327713012695,-0.9238796234130859,1,0.38268327713012695,-0.9238796234130859,1,0.7071067690849304,-0.7071067690849304,1,0.9238795638084412,-0.38268327713012695,1,0.9238795638084412,-0.38268327713012695,1,1,7.549790126404332e-8,1,0.9238795042037964,0.3826834261417389,1,0.9238795042037964,0.3826834261417389,1,0.7071067690849304,0.7071067690849304,1,0.3826834559440613,0.9238795042037964,1,0.3826834559440613,0.9238795042037964,1,-0.38268208503723145,0.9238801002502441,1,-0.923879086971283,0.38268446922302246,1,-0.923879086971283,0.38268446922302246,1];\r\n}\r\n\r\nexport default Cylinder;","class Sphere {\r\n    static vertices = [6.356849979738399e-8,0.9238790273666382,-0.38268327713012695,0,0.9807853102684021,-0.19509020447731018,0.19134178757667542,0.9619397521018982,-0.19509020447731018,6.356849979738399e-8,0.9238790273666382,-0.38268327713012695,0.19134178757667542,0.9619397521018982,-0.19509020447731018,0.18024002015590668,0.9061274528503418,-0.38268327713012695,0,0.5555702447891235,0.8314695954322815,0,0.3826834559440613,0.9238795042037964,0.07465790957212448,0.3753302991390228,0.9238795042037964,0,0.5555702447891235,0.8314695954322815,0.07465790957212448,0.3753302991390228,0.9238795042037964,0.10838644951581955,0.5448951125144958,0.8314695954322815,2.7218476361667854e-7,0.8314687609672546,-0.5555701851844788,6.356849979738399e-8,0.9238790273666382,-0.38268327713012695,0.18024002015590668,0.9061274528503418,-0.38268327713012695,2.7218476361667854e-7,0.8314687609672546,-0.5555701851844788,0.18024002015590668,0.9061274528503418,-0.38268327713012695,0.16221174597740173,0.8154931664466858,-0.5555701851844788,0,0.7071067690849304,0.7071067690849304,0,0.5555702447891235,0.8314695954322815,0.10838644951581955,0.5448951125144958,0.8314695954322815,0,0.7071067690849304,0.7071067690849304,0.10838644951581955,0.5448951125144958,0.8314695954322815,0.13794974982738495,0.6935198903083801,0.7071067690849304,1.529754740658973e-7,0.707106351852417,-0.7071067690849304,2.7218476361667854e-7,0.8314687609672546,-0.5555701851844788,0.16221174597740173,0.8154931664466858,-0.5555701851844788,1.529754740658973e-7,0.707106351852417,-0.7071067690849304,0.16221174597740173,0.8154931664466858,-0.5555701851844788,0.13794974982738495,0.6935198903083801,-0.7071067690849304,0,0.8314696550369263,0.5555701851844788,0,0.7071067690849304,0.7071067690849304,0.13794974982738495,0.6935198903083801,0.7071067690849304,0,0.8314696550369263,0.5555701851844788,0.13794974982738495,0.6935198903083801,0.7071067690849304,0.16221174597740173,0.8154931664466858,0.5555701851844788,0,0.5555701851844788,-0.8314696550369263,1.529754740658973e-7,0.707106351852417,-0.7071067690849304,0.13794974982738495,0.6935198903083801,-0.7071067690849304,0,0.5555701851844788,-0.8314696550369263,0.13794974982738495,0.6935198903083801,-0.7071067690849304,0.10838643461465836,0.5448950529098511,-0.8314696550369263,0,0.9238795042037964,0.3826834261417389,0,0.8314696550369263,0.5555701851844788,0.16221174597740173,0.8154931664466858,0.5555701851844788,0,0.9238795042037964,0.3826834261417389,0.16221174597740173,0.8154931664466858,0.5555701851844788,0.18024000525474548,0.906127393245697,0.3826834261417389,7.846966099123165e-8,0.3826829195022583,-0.9238796234130859,0,0.5555701851844788,-0.8314696550369263,0.10838643461465836,0.5448950529098511,-0.8314696550369263,7.846966099123165e-8,0.3826829195022583,-0.9238796234130859,0.10838643461465836,0.5448950529098511,-0.8314696550369263,0.0746578723192215,0.3753301203250885,-0.9238796234130859,0,0.9807852506637573,0.19509035348892212,0,0.9238795042037964,0.3826834261417389,0.18024000525474548,0.906127393245697,0.3826834261417389,0,0.9807852506637573,0.19509035348892212,0.18024000525474548,0.906127393245697,0.3826834261417389,0.19134177267551422,0.9619396924972534,0.19509035348892212,1.513972591737911e-8,0.1950899213552475,-0.9807853102684021,7.846966099123165e-8,0.3826829195022583,-0.9238796234130859,0.0746578723192215,0.3753301203250885,-0.9238796234130859,1.513972591737911e-8,0.1950899213552475,-0.9807853102684021,0.0746578723192215,0.3753301203250885,-0.9238796234130859,0.038060251623392105,0.19134147465229034,-0.9807853102684021,0,1,7.549790126404332e-8,0,0.9807852506637573,0.19509035348892212,0.19134177267551422,0.9619396924972534,0.19509035348892212,0,1,7.549790126404332e-8,0.19134177267551422,0.9619396924972534,0.19509035348892212,0.1950903832912445,0.9807852506637573,7.549790126404332e-8,0,0.19509032368659973,0.9807852506637573,-2.304045381151809e-7,-5.562458795793646e-7,1,0.03806029632687569,0.19134171307086945,0.9807852506637573,0,-3.2584136988589307e-7,-1,1.513972591737911e-8,0.1950899213552475,-0.9807853102684021,0.038060251623392105,0.19134147465229034,-0.9807853102684021,0,0.9807853102684021,-0.19509020447731018,0,1,7.549790126404332e-8,0.1950903832912445,0.9807852506637573,7.549790126404332e-8,0,0.9807853102684021,-0.19509020447731018,0.1950903832912445,0.9807852506637573,7.549790126404332e-8,0.19134178757667542,0.9619397521018982,-0.19509020447731018,0,0.3826834559440613,0.9238795042037964,0,0.19509032368659973,0.9807852506637573,0.03806029632687569,0.19134171307086945,0.9807852506637573,0,0.3826834559440613,0.9238795042037964,0.03806029632687569,0.19134171307086945,0.9807852506637573,0.07465790957212448,0.3753302991390228,0.9238795042037964,0,-3.2584136988589307e-7,-1,0.038060251623392105,0.19134147465229034,-0.9807853102684021,0.0746578648686409,0.1802397072315216,-0.9807853102684021,0.19134178757667542,0.9619397521018982,-0.19509020447731018,0.1950903832912445,0.9807852506637573,7.549790126404332e-8,0.38268354535102844,0.9238794445991516,7.549790126404332e-8,0.19134178757667542,0.9619397521018982,-0.19509020447731018,0.38268354535102844,0.9238794445991516,7.549790126404332e-8,0.37533038854599,0.9061273336410522,-0.19509020447731018,0.07465790957212448,0.3753302991390228,0.9238795042037964,0.03806029632687569,0.19134171307086945,0.9807852506637573,0.07465796172618866,0.1802399456501007,0.9807852506637573,0.07465790957212448,0.3753302991390228,0.9238795042037964,0.07465796172618866,0.1802399456501007,0.9807852506637573,0.14644673466682434,0.3535534143447876,0.9238795042037964,0.18024002015590668,0.9061274528503418,-0.38268327713012695,0.19134178757667542,0.9619397521018982,-0.19509020447731018,0.37533038854599,0.9061273336410522,-0.19509020447731018,0.18024002015590668,0.9061274528503418,-0.38268327713012695,0.37533038854599,0.9061273336410522,-0.19509020447731018,0.35355350375175476,0.8535533547401428,-0.38268327713012695,0.10838644951581955,0.5448951125144958,0.8314695954322815,0.07465790957212448,0.3753302991390228,0.9238795042037964,0.14644673466682434,0.3535534143447876,0.9238795042037964,0.10838644951581955,0.5448951125144958,0.8314695954322815,0.14644673466682434,0.3535534143447876,0.9238795042037964,0.21260765194892883,0.513279914855957,0.8314695954322815,0.16221174597740173,0.8154931664466858,-0.5555701851844788,0.18024002015590668,0.9061274528503418,-0.38268327713012695,0.35355350375175476,0.8535533547401428,-0.38268327713012695,0.16221174597740173,0.8154931664466858,-0.5555701851844788,0.35355350375175476,0.8535533547401428,-0.38268327713012695,0.3181897699832916,0.7681776881217957,-0.5555701851844788,0.13794974982738495,0.6935198903083801,0.7071067690849304,0.10838644951581955,0.5448951125144958,0.8314695954322815,0.21260765194892883,0.513279914855957,0.8314695954322815,0.13794974982738495,0.6935198903083801,0.7071067690849304,0.21260765194892883,0.513279914855957,0.8314695954322815,0.2705981731414795,0.6532813906669617,0.7071067690849304,0.13794974982738495,0.6935198903083801,-0.7071067690849304,0.16221174597740173,0.8154931664466858,-0.5555701851844788,0.3181897699832916,0.7681776881217957,-0.5555701851844788,0.13794974982738495,0.6935198903083801,-0.7071067690849304,0.3181897699832916,0.7681776881217957,-0.5555701851844788,0.2705981731414795,0.6532813906669617,-0.7071067690849304,0.16221174597740173,0.8154931664466858,0.5555701851844788,0.13794974982738495,0.6935198903083801,0.7071067690849304,0.2705981731414795,0.6532813906669617,0.7071067690849304,0.16221174597740173,0.8154931664466858,0.5555701851844788,0.2705981731414795,0.6532813906669617,0.7071067690849304,0.3181897699832916,0.7681776881217957,0.5555701851844788,0.10838643461465836,0.5448950529098511,-0.8314696550369263,0.13794974982738495,0.6935198903083801,-0.7071067690849304,0.2705981731414795,0.6532813906669617,-0.7071067690849304,0.10838643461465836,0.5448950529098511,-0.8314696550369263,0.2705981731414795,0.6532813906669617,-0.7071067690849304,0.21260762214660645,0.5132798552513123,-0.8314696550369263,0.18024000525474548,0.906127393245697,0.3826834261417389,0.16221174597740173,0.8154931664466858,0.5555701851844788,0.3181897699832916,0.7681776881217957,0.5555701851844788,0.18024000525474548,0.906127393245697,0.3826834261417389,0.3181897699832916,0.7681776881217957,0.5555701851844788,0.3535534739494324,0.853553295135498,0.3826834261417389,0.0746578723192215,0.3753301203250885,-0.9238796234130859,0.10838643461465836,0.5448950529098511,-0.8314696550369263,0.21260762214660645,0.5132798552513123,-0.8314696550369263,0.0746578723192215,0.3753301203250885,-0.9238796234130859,0.21260762214660645,0.5132798552513123,-0.8314696550369263,0.14644667506217957,0.35355323553085327,-0.9238796234130859,0.19134177267551422,0.9619396924972534,0.19509035348892212,0.18024000525474548,0.906127393245697,0.3826834261417389,0.3535534739494324,0.853553295135498,0.3826834261417389,0.19134177267551422,0.9619396924972534,0.19509035348892212,0.3535534739494324,0.853553295135498,0.3826834261417389,0.37533038854599,0.9061273336410522,0.19509035348892212,0.038060251623392105,0.19134147465229034,-0.9807853102684021,0.0746578723192215,0.3753301203250885,-0.9238796234130859,0.14644667506217957,0.35355323553085327,-0.9238796234130859,0.038060251623392105,0.19134147465229034,-0.9807853102684021,0.14644667506217957,0.35355323553085327,-0.9238796234130859,0.0746578648686409,0.1802397072315216,-0.9807853102684021,0.1950903832912445,0.9807852506637573,7.549790126404332e-8,0.19134177267551422,0.9619396924972534,0.19509035348892212,0.37533038854599,0.9061273336410522,0.19509035348892212,0.1950903832912445,0.9807852506637573,7.549790126404332e-8,0.37533038854599,0.9061273336410522,0.19509035348892212,0.38268354535102844,0.9238794445991516,7.549790126404332e-8,0.03806029632687569,0.19134171307086945,0.9807852506637573,-2.304045381151809e-7,-5.562458795793646e-7,1,0.07465796172618866,0.1802399456501007,0.9807852506637573,0.21260762214660645,0.5132798552513123,-0.8314696550369263,0.2705981731414795,0.6532813906669617,-0];\r\n    \r\n    static normals = [0.09383463114500046,0.9527173638343811,-0.2890063524246216,0.09383463114500046,0.9527173638343811,-0.2890063524246216,0.09383463114500046,0.9527173638343811,-0.2890063524246216,0.09383193403482437,0.9527185559272766,-0.28900352120399475,0.09383193403482437,0.9527185559272766,-0.28900352120399475,0.09383193403482437,0.9527185559272766,-0.28900352120399475,0.046378616243600845,0.4708893597126007,0.8809723854064941,0.046378616243600845,0.4708893597126007,0.8809723854064941,0.046378616243600845,0.4708893597126007,0.8809723854064941,0.04637990891933441,0.4708895981311798,0.8809720873832703,0.04637990891933441,0.4708895981311798,0.8809720873832703,0.04637990891933441,0.4708895981311798,0.8809720873832703,0.08653326332569122,0.8786126375198364,-0.4696294069290161,0.08653326332569122,0.8786126375198364,-0.4696294069290161,0.08653326332569122,0.8786126375198364,-0.4696294069290161,0.08653141558170319,0.8786132335662842,-0.4696286916732788,0.08653141558170319,0.8786132335662842,-0.4696286916732788,0.08653141558170319,0.8786132335662842,-0.4696286916732788,0.062360648065805435,0.6331585645675659,0.7715058922767639,0.062360648065805435,0.6331585645675659,0.7715058922767639,0.062360648065805435,0.6331585645675659,0.7715058922767639,0.062360722571611404,0.6331584453582764,0.7715060710906982,0.062360722571611404,0.6331584453582764,0.7715060710906982,0.062360722571611404,0.6331584453582764,0.7715060710906982,0.07591132819652557,0.7707810997962952,-0.6325615644454956,0.07591132819652557,0.7707810997962952,-0.6325615644454956,0.07591132819652557,0.7707810997962952,-0.6325615644454956,0.07591313868761063,0.7707799077033997,-0.6325626969337463,0.07591313868761063,0.7707799077033997,-0.6325626969337463,0.07591313868761063,0.7707799077033997,-0.6325626969337463,0.07591512799263,0.7707794308662415,0.6325629353523254,0.07591512799263,0.7707794308662415,0.6325629353523254,0.07591512799263,0.7707794308662415,0.6325629353523254,0.07591528445482254,0.7707798480987549,0.632562518119812,0.07591528445482254,0.7707798480987549,0.632562518119812,0.07591528445482254,0.7707798480987549,0.632562518119812,0.062359102070331573,0.633159875869751,-0.7715049982070923,0.062359102070331573,0.633159875869751,-0.7715049982070923,0.062359102070331573,0.633159875869751,-0.7715049982070923,0.06236065924167633,0.6331588625907898,-0.7715057134628296,0.06236065924167633,0.6331588625907898,-0.7715057134628296,0.06236065924167633,0.6331588625907898,-0.7715057134628296,0.08653586357831955,0.8786129355430603,0.4696284532546997,0.08653586357831955,0.8786129355430603,0.4696284532546997,0.08653586357831955,0.8786129355430603,0.4696284532546997,0.08653588593006134,0.8786131739616394,0.46962788701057434,0.08653588593006134,0.8786131739616394,0.46962788701057434,0.08653588593006134,0.8786131739616394,0.46962788701057434,0.04637759551405907,0.47088855504989624,-0.8809728026390076,0.04637759551405907,0.47088855504989624,-0.8809728026390076,0.04637759551405907,0.47088855504989624,-0.8809728026390076,0.04637577384710312,0.4708898663520813,-0.880972146987915,0.04637577384710312,0.4708898663520813,-0.880972146987915,0.04637577384710312,0.4708898663520813,-0.880972146987915,0.09383455663919449,0.9527182579040527,0.2890035808086395,0.09383455663919449,0.9527182579040527,0.2890035808086395,0.09383455663919449,0.9527182579040527,0.2890035808086395,0.09383483231067657,0.9527180194854736,0.28900402784347534,0.09383483231067657,0.9527180194854736,0.28900402784347534,0.09383483231067657,0.9527180194854736,0.28900402784347534,0.02857947163283825,0.2901660203933716,-0.9565494656562805,0.02857947163283825,0.2901660203933716,-0.9565494656562805,0.02857947163283825,0.2901660203933716,-0.9565494656562805,0.028571942821145058,0.2901659607887268,-0.9565497040748596,0.028571942821145058,0.2901659607887268,-0.9565497040748596,0.028571942821145058,0.2901659607887268,-0.9565497040748596,0.09754985570907593,0.9904383420944214,0.09755007177591324,0.09754985570907593,0.9904383420944214,0.09755007177591324,0.09754985570907593,0.9904383420944214,0.09755007177591324,0.09754977375268936,0.9904383420944214,0.09754953533411026,0.09754977375268936,0.9904383420944214,0.09754953533411026,0.09754977375268936,0.9904383420944214,0.09754953533411026,0.009653860703110695,0.09801242500543594,0.9951383471488953,0.009653860703110695,0.09801242500543594,0.9951383471488953,0.009653860703110695,0.09801242500543594,0.9951383471488953,0.009652036242187023,0.09801245480775833,-0.9951383471488953,0.009652036242187023,0.09801245480775833,-0.9951383471488953,0.009652036242187023,0.09801245480775833,-0.9951383471488953,0.09754979610443115,0.9904384613037109,-0.09754940122365952,0.09754979610443115,0.9904384613037109,-0.09754940122365952,0.09754979610443115,0.9904384613037109,-0.09754940122365952,0.09754984080791473,0.9904382824897766,-0.09754940122365952,0.09754984080791473,0.9904382824897766,-0.09754940122365952,0.09754984080791473,0.9904382824897766,-0.09754940122365952,0.0285808015614748,0.29016610980033875,0.9565494060516357,0.0285808015614748,0.29016610980033875,0.9565494060516357,0.0285808015614748,0.29016610980033875,0.9565494060516357,0.02858004719018936,0.2901661694049835,0.9565494656562805,0.02858004719018936,0.2901661694049835,0.9565494656562805,0.02858004719018936,0.2901661694049835,0.9565494656562805,0.028587987646460533,0.0942458063364029,-0.9951384663581848,0.028587987646460533,0.0942458063364029,-0.9951384663581848,0.028587987646460533,0.0942458063364029,-0.9951384663581848,0.2889004051685333,0.9523763060569763,-0.09754938632249832,0.2889004051685333,0.9523763060569763,-0.09754938632249832,0.2889004051685333,0.9523763060569763,-0.09754938632249832,0.28890061378479004,0.9523761868476868,-0.09755054116249084,0.28890061378479004,0.9523761868476868,-0.09755054116249084,0.28890061378479004,0.9523761868476868,-0.09755054116249084,0.08463559299707413,0.27901509404182434,0.9565496444702148,0.08463559299707413,0.27901509404182434,0.9565496444702148,0.08463559299707413,0.27901509404182434,0.9565496444702148,0.08463895320892334,0.2790151834487915,0.9565494656562805,0.08463895320892334,0.2790151834487915,0.9565494656562805,0.08463895320892334,0.2790151834487915,0.9565494656562805,0.2778979539871216,0.9161058068275452,-0.2890034317970276,0.2778979539871216,0.9161058068275452,-0.2890034317970276,0.2778979539871216,0.9161058068275452,-0.2890034317970276,0.2778979241847992,0.9161056876182556,-0.28900355100631714,0.2778979241847992,0.9161056876182556,-0.28900355100631714,0.2778979241847992,0.9161056876182556,-0.28900355100631714,0.13735318183898926,0.45279353857040405,0.8809723258018494,0.13735318183898926,0.45279353857040405,0.8809723258018494,0.13735318183898926,0.45279353857040405,0.8809723258018494,0.13735327124595642,0.4527934789657593,0.8809722065925598,0.13735327124595642,0.4527934789657593,0.8809722065925598,0.13735327124595642,0.4527934789657593,0.8809722065925598,0.25628212094306946,0.8448486924171448,-0.46962782740592957,0.25628212094306946,0.8448486924171448,-0.46962782740592957,0.25628212094306946,0.8448486924171448,-0.46962782740592957,0.2562822103500366,0.8448483943939209,-0.46962836384773254,0.2562822103500366,0.8448483943939209,-0.46962836384773254,0.2562822103500366,0.8448483943939209,-0.46962836384773254,0.18468572199344635,0.6088268160820007,0.7715058326721191,0.18468572199344635,0.6088268160820007,0.7715058326721191,0.18468572199344635,0.6088268160820007,0.7715058326721191,0.18468549847602844,0.6088265776634216,0.7715059518814087,0.18468549847602844,0.6088265776634216,0.7715059518814087,0.18468549847602844,0.6088265776634216,0.7715059518814087,0.22482840716838837,0.7411590814590454,-0.6325625777244568,0.22482840716838837,0.7411590814590454,-0.6325625777244568,0.22482840716838837,0.7411590814590454,-0.6325625777244568,0.22482872009277344,0.7411589026451111,-0.6325628161430359,0.22482872009277344,0.7411589026451111,-0.6325628161430359,0.22482872009277344,0.7411589026451111,-0.6325628161430359,0.2248285859823227,0.7411591410636902,0.632562518119812,0.2248285859823227,0.7411591410636902,0.632562518119812,0.2248285859823227,0.7411591410636902,0.632562518119812,0.22482837736606598,0.7411590814590454,0.6325625777244568,0.22482837736606598,0.7411590814590454,0.6325625777244568,0.22482837736606598,0.7411590814590454,0.6325625777244568,0.1846856325864792,0.6088269352912903,-0.7715056538581848,0.1846856325864792,0.6088269352912903,-0.7715056538581848,0.1846856325864792,0.6088269352912903,-0.7715056538581848,0.18468588590621948,0.6088262796401978,-0.771506130695343,0.18468588590621948,0.6088262796401978,-0.771506130695343,0.18468588590621948,0.6088262796401978,-0.771506130695343,0.25628215074539185,0.8448480367660522,0.4696287512779236,0.25628215074539185,0.8448480367660522,0.4696287512779236,0.25628215074539185,0.8448480367660522,0.4696287512779236,0.2562822699546814,0.8448482155799866,0.4696284234523773,0.2562822699546814,0.8448482155799866,0.4696284234523773,0.2562822699546814,0.8448482155799866,0.4696284234523773,0.13735413551330566,0.4527934193611145,-0.880972146987915,0.13735413551330566,0.4527934193611145,-0.880972146987915,0.13735413551330566,0.4527934193611145,-0.880972146987915,0.1373513638973236,0.4527936577796936,-0.8809725046157837,0.1373513638973236,0.4527936577796936,-0.8809725046157837,0.1373513638973236,0.4527936577796936,-0.8809725046157837,0.27789783477783203,0.9161056876182556,0.2890036404132843,0.27789783477783203,0.9161056876182556,0.2890036404132843,0.27789783477783203,0.9161056876182556,0.2890036404132843,0.27789777517318726,0.9161056876182556,0.2890036106109619,0.27789777517318726,0.9161056876182556,0.2890036106109619,0.27789777517318726,0.9161056876182556,0.2890036106109619,0.08463893830776215,0.2790147066116333,-0.9565495252609253,0.08463893830776215,0.2790147066116333,-0.9565495252609253,0.08463893830776215,0.2790147066116333,-0.9565495252609253,0.0846417024731636,0.27901485562324524,-0.9565492272377014,0.0846417024731636,0.27901485562324524,-0.9565492272377014,0.0846417024731636,0.279014];\r\n}\r\n\r\nexport default Sphere;","import React, { Component, createRef } from 'react';\r\nimport '../App.css';\r\nimport { GridRenderer } from '../rendering/grid.js';\r\nimport { Maths,Camera,Vector3 } from '../utils/maths.js';\r\nimport RenderSystem from '../rendering/renderSystem';\r\nimport { render } from '@testing-library/react';\r\nimport Detector from '../detector/Detektor.js';\r\nimport Model from '../rendering/model';\r\nimport {Cube} from '../entities/cube';\r\nimport {ParticleGun} from '../gun/ParticleGun';\r\nimport {GunMesh} from '../gun/gun';\r\nimport {ParticleSource} from '../source/ParticleSource';\r\nimport { InstanceRenderer } from '../rendering/InstanceRenderer';\r\nimport Cylinder from '../entities/cylinder';\r\nimport Sphere from '../entities/sphere';\r\n\r\nclass Canvas extends Component{\r\n  constructor(props){\r\n    super(props);\r\n    this.canvas = createRef();\r\n    this.camera = new Camera(0, 0, 100, new Vector3(0, 0, 0), new Vector3(0, 0, 0));\r\n    this.oldX = 0;\r\n    this.oldY = 0;\r\n    this.move = false;\r\n    this.x = 0;\r\n    this.y = 0;\r\n    this.keyDown = ` ${0}`;\r\n    this.down = false;\r\n    this.renderer = null;\r\n    this.instanceRenderer = null;\r\n    this.particles = [];\r\n    this.drawTracks = false;\r\n    this.drawParticles = true;\r\n    this.gl = null;\r\n  }\r\n  setShowTracks(b){\r\n    this.renderer.drawTracks = b;\r\n  }\r\n  getMouseXd(){\r\n    return this.oldX - this.x;\r\n  }\r\n  getMouseYd(){\r\n    return this.oldY - this.y;\r\n  }\r\n  clearRun(){\r\n    this.particles = [];\r\n    this.renderer.clearTracks();\r\n  }\r\n  componentDidMount() {\r\n    function updateCamera(camera) {\r\n      if (camera.y > 89.0) {\r\n          camera.y = 89.0;\r\n      }\r\n      if (camera.y < -89.0) {\r\n          camera.y = -89.0;\r\n      }\r\n  \r\n      camera.p.x = (camera.d * -Math.sin(camera.x * Math.PI / 180.0)\r\n          * Math.cos(camera.y * Math.PI / 180.0) + camera.a.x);\r\n      camera.p.y = (camera.d * -Math.sin(camera.y * Math.PI / 180.0)\r\n          + camera.a.y);\r\n      camera.p.z = (-camera.d * Math.cos(camera.x * Math.PI / 180.0)\r\n          * Math.cos(camera.y * Math.PI / 180.0) + camera.a.z);\r\n  \r\n\r\n      return camera;\r\n  }\r\n    this.gl = this.canvas.current.getContext(\"webgl2\");\r\n    let color = 0;  \r\n    let gridRenderer = new GridRenderer(this.gl);\r\n    this.renderer = new RenderSystem(this.gl);\r\n    this.instanceRenderer = new InstanceRenderer(Cube.vertices, this.gl);\r\n    var draw = ()=>{\r\n      color += .001;\r\n      this.gl.clearColor(.2,.2,.2,1.0);\r\n      this.gl.clear(this.gl.COLOR_BUFFER_BIT);\r\n      \r\n\r\n      let projection = Maths.createProjectionMatrix(70,.1 * this.camera.d,1000 * this.camera.d, this.canvas.current.offsetWidth,this.canvas.current.offsetHeight);\r\n      if(this.down && this.move){\r\n        if (this.keyDown === 17) {\r\n          this.camera.a.y -= .01 * (this.getMouseYd() * .01 * this.camera.d * ((89.0 - Math.abs(this.camera.y)) / 89.0));\r\n\r\n          this.camera.a.x -= .01 * (Math.cos(this.camera.x / (180 / Math.PI)) * this.getMouseXd() * .01 * this.camera.d * ((89.0 - Math.abs(this.camera.y)) / 89.0));\r\n          this.camera.a.z += .01 * (Math.sin(this.camera.x / (180 / Math.PI)) * this.getMouseXd() * .01 * this.camera.d * ((89.0 - Math.abs(this.camera.y)) / 89.0));\r\n\r\n          this.camera.a.x -= .01 * (Math.cos(this.camera.x / (180 / Math.PI)) * this.getMouseXd() * .01 * this.camera.d +\r\n              Math.sin(this.camera.x / (180 / Math.PI)) * this.getMouseYd() * .01 * this.camera.d);\r\n\r\n              this.camera.a.z -= .01 * (Math.cos(this.camera.x / (180 / Math.PI)) * this.getMouseYd() * .01 * this.camera.d +\r\n              Math.sin(this.camera.x / (180 / Math.PI)) * -this.getMouseXd() * .01 * this.camera.d);\r\n\r\n\r\n\r\n      } else {\r\n        this.camera.x += this.getMouseXd() / 2;\r\n        this.camera.y += this.getMouseYd() / 2;\r\n      }\r\n      }\r\n      \r\n      //gridRenderer.draw(projection, this.camera, this.canvas.current.offsetWidth,this.canvas.current.offsetHeight, this.camera.d);\r\n      this.renderer.draw(projection, this.camera);\r\n      if(this.drawParticles) this.instanceRenderer.render(this.particles, Maths.createViewMatrix(this.camera),projection, this.camera.d, this.gl);\r\n      updateCamera(this.camera);\r\n      this.move = false;\r\n      requestAnimationFrame(draw);\r\n      \r\n    }\r\n    requestAnimationFrame(draw);\r\n  }\r\n  addSource(x,y,z,mat){\r\n    let source = new ParticleSource(new Model(Cube.vertices, Cube.normals,this.gl),new Vector3(x,y,z),mat);\r\n    source.model.drawLines = false;\r\n    source.model.position = new Vector3(x,y,z);\r\n    this.renderer.addSource(source);\r\n\r\n    return source;\r\n  }\r\n  addParticle(particle){\r\n    this.particles.push(particle);\r\n  }\r\n  addSTLDetector(x,y,z,rx,ry,rz,sx,sy,sz,mat,data){\r\n    let detector = new Detector(new Model(data.vertices, data.normals, this.gl));\r\n    detector.model.drawLines = false;\r\n    detector.model.color = new Vector3(1,1,1);\r\n    detector.model.position.x = x;\r\n    detector.model.position.y = y;\r\n    detector.model.position.z = z;\r\n\r\n    detector.model.rotation.x = rx;\r\n    detector.model.rotation.y = ry;\r\n    detector.model.rotation.z = rz;\r\n\r\n    detector.model.scale.x = sx;\r\n    detector.model.scale.y = sy;\r\n    detector.model.scale.z = sz;\r\n    \r\n    detector.material = mat;\r\n\r\n    this.renderer.addDetector(detector);\r\n    \r\n    return detector;\r\n  }\r\n  addDetector(x,y,z,rx,ry,rz,sx,sy,sz, mat, type){\r\n    let detector = null;\r\n    switch(type){\r\n      case('cube'):\r\n        detector = new Detector(new Model(Cube.vertices, Cube.normals, this.gl));\r\n        break;\r\n      case('cylinder'):\r\n        detector = new Detector(new Model(Cylinder.vertices, Cylinder.normals, this.gl));\r\n        break;\r\n      case('sphere'):\r\n        detector = new Detector(new Model(Sphere.vertices, Sphere.normals, this.gl));\r\n        break;\r\n    }\r\n    \r\n    \r\n    detector.model.drawLines = false;\r\n    detector.model.color = new Vector3(1,1,1);\r\n    detector.model.position.x = x;\r\n    detector.model.position.y = y;\r\n    detector.model.position.z = z;\r\n\r\n    detector.model.rotation.x = rx;\r\n    detector.model.rotation.y = ry;\r\n    detector.model.rotation.z = rz;\r\n\r\n    detector.model.scale.x = sx;\r\n    detector.model.scale.y = sy;\r\n    detector.model.scale.z = sz;\r\n    \r\n    detector.material = mat;\r\n\r\n    this.renderer.addDetector(detector);\r\n    \r\n    return detector;\r\n\r\n  }\r\n  addModel(vertices, normals){\r\n    let model = new Model(vertices, normals, this.gl);\r\n\r\n    this.renderer.addModel(model);\r\n\r\n    return model;\r\n  }\r\n  addGun(x,y,z,dx,dy,dz,energy){\r\n    let gun = new ParticleGun(new Model(GunMesh.vertices, GunMesh.normals, this.gl),new Vector3(x,y,z),new Vector3(dx,dy,dz),energy);\r\n    gun.model.position = new Vector3(x,y,z);\r\n    \r\n    this.renderer.addGun(gun);\r\n\r\n    return gun;\r\n\r\n  }\r\n  removeSource(source){\r\n    this.renderer.removeSource(source);\r\n  }\r\n  removeDetector(detector){\r\n    this.renderer.removeDetector(detector);\r\n  }\r\n  removeGun(gun){\r\n    this.renderer.removeGun(gun);\r\n  }\r\n  render(){\r\n    return <div>\r\n    <canvas ref={this.canvas} onMouseMove={(e)=>{ \r\n      this.move = true;\r\n      this.oldX = this.x;\r\n      this.oldY = this.y;\r\n      this.x = e.pageX;\r\n      this.y = e.pageY;\r\n    }}\r\n    tabIndex=\"0\" \r\n    width='2000'\r\n    height='2000'\r\n    style={{position: 'fixed', right: 0, left: 0, width: '100%', height: '100%'}}\r\n    onKeyDown={(e)=>{this.keyDown = e.keyCode;}}\r\n    onKeyUp={(e)=>{this.keyDown = ` ${0}`;}}\r\n    onMouseDown={()=>{this.down = true;}} \r\n    onMouseUp={()=>{this.down = false;}}\r\n    onWheel={(e)=>{\r\n      let delta = 0;\r\n      if(e.deltaY > 0) delta = 1;\r\n      else delta = -1;\r\n      this.camera.d += (this.camera.d / (delta*100)) * 10;\r\n      }}/>\r\n  </div>\r\n    \r\n  }\r\n}\r\n\r\nexport default Canvas;\r\n","class MaterialList{\r\n    static materials = [\r\n        'H',\r\n'He',\r\n'Li',\r\n'Be',\r\n'B',\r\n'C',\r\n'N',\r\n'O',\r\n'F',\r\n'Ne',\r\n'Na',\r\n'Mg',\r\n'Al',\r\n'Si',\r\n'P',\r\n'S',\r\n'Cl',\r\n'Ar',\r\n'K',\r\n'Ca',\r\n'Sc',\r\n'Ti',\r\n'V',\r\n'Cr',\r\n'Mn',\r\n'Fe',\r\n'Co',\r\n'Ni',\r\n'Cu',\r\n'Zn',\r\n'Ga',\r\n'Ge',\r\n'As',\r\n'Se',\r\n'Br',\r\n'Kr',\r\n'Rb',\r\n'Sr',\r\n'Y',\r\n'Zr',\r\n'Nb',\r\n'Mo',\r\n'Tc',\r\n'Ru',\r\n'Rh',\r\n'Pd',\r\n'Ag',\r\n'Cd',\r\n'In',\r\n'Sn',\r\n'Sb',\r\n'Te',\r\n'I',\r\n'Xe',\r\n'Cs',\r\n'Ba',\r\n'La',\r\n'Ce',\r\n'Pr',\r\n'Nd',\r\n'Pm',\r\n'Sm',\r\n'Eu',\r\n'Gd',\r\n'Tb',\r\n'Dy',\r\n'Ho',\r\n'Er',\r\n'Tm',\r\n'Yb',\r\n'Lu',\r\n'Hf',\r\n'Ta',\r\n'W',\r\n'Re',\r\n'Os',\r\n'Ir',\r\n'Pt',\r\n'Au',\r\n'Hg',\r\n'Tl',\r\n'Pb',\r\n'Bi',\r\n'Po',\r\n'At',\r\n'Rn',\r\n'Fr',\r\n'Ra',\r\n'Ac',\r\n'Th',\r\n'Pa',\r\n'U',\r\n'Np',\r\n'Pu',\r\n'Am',\r\n'Cm',\r\n'Bk',\r\n'Cf',\r\n'Es',\r\n'Fm',\r\n'Md',\r\n'No',\r\n'Lr',\r\n'Rf',\r\n'Db',\r\n'Sg',\r\n'Bh',\r\n'Hs',\r\n'Mt',\r\n'Ds',\r\n'Rg',\r\n'Cn',\r\n'Nh',\r\n'Fl',\r\n'Mc',\r\n'Lv',\r\n'Ts',\r\n'Og'];\r\nstatic check(s){\r\n    for(let i = 0;i<MaterialList.materials.length;i++){\r\n        if(s == MaterialList.materials[i]) return true;\r\n    }\r\n    return false;\r\n    }\r\n}\r\nexport default MaterialList;","import React, { Component, createRef } from 'react';\r\nimport '../App.css';\r\n\r\nimport {Button, Nav, Navbar, FormControl, Container,Col,Row, Form, Dropdown, OverlayTrigger, Tooltip, Modal} from 'react-bootstrap';\r\nimport 'bootstrap/dist/css/bootstrap.min.css';\r\nimport {Vector3} from '../utils/maths';\r\nimport MaterialList from './MaterialList';\r\n\r\nclass DetectorEditDialog extends Component{\r\n  constructor(props){\r\n    super(props);\r\n    this.showDialog = this.showDialog.bind(this);\r\n    this.hideDialog = this.hideDialog.bind(this);\r\n    this.state = {show: false, \r\n      detname: this.props.detector.name,\r\n      detposx: this.props.detector.model.position.x,\r\n      detposy: this.props.detector.model.position.y,\r\n      detposz: this.props.detector.model.position.z,\r\n      detrotx: this.props.detector.model.rotation.x,\r\n      detroty: this.props.detector.model.rotation.y,\r\n      detrotz: this.props.detector.model.rotation.z,\r\n      detscalex: this.props.detector.model.scale.x,\r\n      detscaley: this.props.detector.model.scale.y,\r\n      detscalez: this.props.detector.model.scale.z,\r\n      detmat: this.props.detector.material,\r\n      showError: 'none',\r\n      color: this.props.detector.model.color }\r\n    this.materials = [];\r\n    \r\n  }\r\n  hexToRgb(hex) {\r\n    hex = hex.substr(1);\r\n    var bigint = parseInt(hex, 16);\r\n    var r = (bigint >> 16) & 255;\r\n    var g = (bigint >> 8) & 255;\r\n    var b = bigint & 255;\r\n\r\n    return new Vector3(r / 255, g / 255, b / 255);\r\n  }\r\n  componentDidMount(){\r\n    \r\n  }\r\n  showDialog(){\r\n      this.setState({show: true});\r\n      this.setState({showError: 'none'});\r\n  }\r\n  hideDialog(){\r\n    this.setState({show: false});\r\n  }\r\n  \r\n  static id = 0;\r\n  render(){\r\n    \r\n    return <>\r\n        <Modal show={this.state.show} onHide={()=>{this.hideDialog();}}>\r\n        <Modal.Header closeButton>\r\n          <Modal.Title>Modify Detector</Modal.Title>\r\n        </Modal.Header>\r\n        <Modal.Body>\r\n        <Form>\r\n          <Container>\r\n          <Row>\r\n            Name <Col><Form.Control\r\n            className=\"name\"\r\n            required\r\n            type=\"text\"\r\n            maxLength=\"10\"\r\n            value = {this.state.detname}\r\n            onChange={(event)=>{this.setState({detname: event.target.value});}} />\r\n            </Col>\r\n            </Row>\r\n            <hr />\r\n            <Row>Position</Row>\r\n          <Row>\r\n            x<Col><Form.Control\r\n            className=\"numspinner\"\r\n            required\r\n            value='0'\r\n            type=\"number\"\r\n            maxLength=\"10\"\r\n            value = {this.state.detposx}\r\n            onChange={(event)=>{this.setState({detposx: event.target.value});}} />\r\n            </Col>\r\n            y<Col><Form.Control\r\n            className=\"numspinner\"\r\n            required\r\n            value='0'\r\n            type=\"number\"\r\n            maxLength=\"10\"\r\n            value = {this.state.detposy}\r\n            onChange={(event)=>{this.setState({detposy: event.target.value});}} />\r\n            </Col>\r\n            z<Col><Form.Control\r\n            className=\"numspinner\"\r\n            required\r\n            value='0'\r\n            type=\"number\"\r\n            maxLength=\"10\"\r\n            value = {this.state.detposz}\r\n            onChange={(event)=>{this.setState({detposz: event.target.value});}} />\r\n            </Col>\r\n          </Row>\r\n          <br/>\r\n          <hr />\r\n          <Row>Rotation</Row>\r\n          <Row>\r\n            x<Col><Form.Control\r\n            className=\"numspinner\"\r\n            required\r\n            value='0'\r\n            type=\"number\"\r\n            maxLength=\"10\"\r\n            value = {this.state.detrotx}\r\n            onChange={(event)=>{this.setState({detrotx: event.target.value});}} />\r\n            </Col>\r\n            y<Col><Form.Control\r\n            className=\"numspinner\"\r\n            required\r\n            value='0'\r\n            type=\"number\"\r\n            maxLength=\"10\"\r\n            value = {this.state.detroty}\r\n            onChange={(event)=>{this.setState({detroty: event.target.value});}} />\r\n            </Col>\r\n            z<Col><Form.Control\r\n            className=\"numspinner\"\r\n            required\r\n            value='0'\r\n            type=\"number\"\r\n            maxLength=\"10\"\r\n            value = {this.state.detrotz}\r\n            onChange={(event)=>{this.setState({detrotz: event.target.value});}} />\r\n            </Col>\r\n          </Row>\r\n          <br/>\r\n          <hr />\r\n          <Row>Scale</Row>\r\n          <Row>\r\n            x<Col><Form.Control\r\n            className=\"numspinner\"\r\n            required\r\n            value='0'\r\n            type=\"number\"\r\n            maxLength=\"10\"\r\n            value = {this.state.detscalex}\r\n            onChange={(event)=>{this.setState({detscalex: event.target.value});}} />\r\n            </Col>\r\n            y<Col><Form.Control\r\n            className=\"numspinner\"\r\n            required\r\n            value='0'\r\n            type=\"number\"\r\n            maxLength=\"10\"\r\n            value = {this.state.detscaley}\r\n            onChange={(event)=>{this.setState({detscaley: event.target.value});}} />\r\n            </Col>\r\n            z<Col><Form.Control\r\n            className=\"numspinner\"\r\n            required\r\n            value='0'\r\n            type=\"number\"\r\n            maxLength=\"10\"\r\n            value = {this.state.detscalez}\r\n            onChange={(event)=>{this.setState({detscalez: event.target.value});}} />\r\n            </Col>\r\n          </Row>\r\n          <br/>\r\n          <hr />\r\n          <Row>\r\n          <Form.Group controlId=\"exampleForm.SelectCustom\">\r\n          <Form.Label>Material</Form.Label>\r\n            <Form.Control\r\n            className=\"material\"\r\n            required\r\n            value='0'\r\n            type=\"text\"\r\n            maxLength=\"10\"\r\n            value = {this.state.detmat}\r\n            onChange={(event)=>{this.setState({detmat: event.target.value});}} />\r\n          </Form.Group>\r\n          <span style={{'display': this.state.showError, 'color' : 'red', 'font-weight': 'bold'}}>\r\n            No such material\r\n          </span>\r\n          </Row>\r\n          <hr />\r\n          <Row>\r\n          Color: <span style={{'padding-left':'20px'}}>\r\n          <input type=\"color\"\r\n          onInput={(evt)=>{\r\n            this.setState({color: this.hexToRgb(evt.target.value)});\r\n          }}></input>\r\n            </span>\r\n        </Row>\r\n          </Container>\r\n        </Form>\r\n        </Modal.Body>\r\n        <Modal.Footer>\r\n          <Button variant=\"secondary\" onClick={()=>{\r\n            this.hideDialog();\r\n            this.props.removebutton(this.props.detector, this.props.button);\r\n          }} style={{backgroundColor: 'red', color: 'white'}}>\r\n            Delete\r\n          </Button>\r\n          <Button variant=\"primary\" onClick={()=>{\r\n            if(!MaterialList.check(this.state.detmat)){\r\n              this.setState({showError: 'block'})\r\n              return;\r\n            } \r\n            this.hideDialog();\r\n\r\n            this.props.detector.model.position.x = this.state.detposx;\r\n            this.props.detector.model.position.y = this.state.detposy;\r\n            this.props.detector.model.position.z = this.state.detposz;\r\n            \r\n            this.props.detector.model.rotation.x = this.state.detrotx;\r\n            this.props.detector.model.rotation.y = this.state.detroty;\r\n            this.props.detector.model.rotation.z = this.state.detrotz;\r\n            \r\n            this.props.detector.model.scale.x = this.state.detscalex;\r\n            this.props.detector.model.scale.y = this.state.detscaley;\r\n            this.props.detector.model.scale.z = this.state.detscalez;\r\n            \r\n            this.props.detector.material = this.state.detmat;\r\n\r\n            this.props.detector.model.color = this.state.color;\r\n\r\n            this.props.updatedetails(\r\n<>\r\n              <Row>\r\n                    <Col>Position: </Col>\r\n                    </Row>\r\n                    <Row>\r\n                      <Col>x: {this.state.detposx} cm</Col>\r\n                      <Col>y: {this.state.detposy} cm</Col>\r\n                      <Col>z: {this.state.detposz} cm</Col>\r\n                    </Row>\r\n                    <Row>\r\n                    <Col>Rotation: </Col>\r\n                    </Row>\r\n                    <Row>\r\n                      <Col>x: {this.state.detrotx} deg</Col>\r\n                      <Col>y: {this.state.detroty} deg</Col>\r\n                      <Col>z: {this.state.detrotz} deg</Col>\r\n                    </Row>\r\n                    <Row>\r\n                    <Col>Scale: </Col>\r\n                    </Row>\r\n                    <Row>\r\n                      <Col>x: {this.state.detscalex}</Col>\r\n                      <Col>y: {this.state.detscaley}</Col>\r\n                      <Col>z: {this.state.detscalez}</Col>\r\n                    </Row>\r\n                    <Row>\r\n                    <Col>Material: </Col>\r\n                    </Row>\r\n                    <Row>\r\n                      <Col>{this.state.detmat}</Col>\r\n                    </Row>\r\n</>\r\n            );            \r\n            }}>\r\n            Modify\r\n          </Button>\r\n        </Modal.Footer>\r\n      </Modal>\r\n    </> \r\n  }\r\n}\r\n\r\nexport default DetectorEditDialog;\r\n","import React, { Component, createRef } from 'react';\r\nimport '../App.css';\r\n\r\nimport {Button, Card, Accordion, Figure} from 'react-bootstrap';\r\nimport 'bootstrap/dist/css/bootstrap.min.css';\r\nimport image from '../images/editicon.png';\r\nimport DetectorEditDialog from './DetectorEditDialog';\r\nimport RenderSystem from '../rendering/renderSystem';\r\n\r\nclass DetectorButton extends Component{\r\n  constructor(props){\r\n    super(props);\r\n    this.editdialog = React.createRef();\r\n    this.updateDetails = this.updateDetails.bind(this);\r\n    this.state = {details: this.props.details};\r\n    this.id = this.props.id;\r\n  }\r\n  static id = 0;\r\n  componentDidMount(){\r\n    \r\n  }\r\n  updateDetails(d){\r\n    this.setState({details: d});\r\n  }\r\n  render(){\r\n    return <div>\r\n    <DetectorEditDialog updatedetails={this.updateDetails} button={this} removebutton={this.props.removebutton}\r\n      detector={this.props.detector} ref={this.editdialog} buttons={this.props.buttons} details={this.props.details}></DetectorEditDialog>\r\n    <Card className='button'>\r\n      <Card.Header>\r\n        <Accordion.Toggle as={Button} onClick={()=>{\r\n          if(RenderSystem.acitve_id == this.id){\r\n            RenderSystem.acitve_id = -1;\r\n            return;\r\n          }\r\n          RenderSystem.acitve_id = this.id;\r\n          }} variant=\"link\" eventKey={this.id}>\r\n          {this.props.name}\r\n        </Accordion.Toggle>\r\n        <Button onClick={()=>{this.editdialog.current.showDialog();}} className=\"editButton\">EDIT</Button>\r\n      </Card.Header>\r\n      <Accordion.Collapse eventKey={this.id}>\r\n        <Card.Body>{this.state.details}</Card.Body>\r\n      </Accordion.Collapse>\r\n    </Card>\r\n  </div>\r\n    \r\n  }\r\n}\r\n\r\nexport default DetectorButton;\r\n","import React, { Component, createRef } from 'react';\r\nimport '../App.css';\r\n\r\nimport {Button, Nav, Navbar, FormControl, Container,Col,Row, Form, Dropdown, OverlayTrigger, Tooltip, Modal} from 'react-bootstrap';\r\nimport 'bootstrap/dist/css/bootstrap.min.css';\r\nimport DetectorButton from './DetectorButton';\r\nimport MaterialList from './MaterialList';\r\nimport { Vector3 } from '../utils/maths';\r\n\r\nclass DetectorDialog extends Component{\r\n  constructor(props){\r\n    super(props);\r\n    this.showDialog = this.showDialog.bind(this);\r\n    this.hideDialog = this.hideDialog.bind(this);\r\n    this.state = {show: false, \r\n      detname: 'Detector',\r\n      detposx: 0,\r\n      detposy: 0,\r\n      detposz: 0,\r\n      detrotx: 0,\r\n      detroty: 0,\r\n      detrotz: 0,\r\n      detscalex: 10,\r\n      detscaley: 10,\r\n      detscalez: 10,\r\n      detmat: 'Pb',\r\n      geomrty: 'cube',\r\n      display: 'none',\r\n      filelabel: 'Path to STL',\r\n      modeldata: null,\r\n      showError: 'none',\r\n      color: new Vector3(.5,.5,.5) }\r\n    \r\n  }\r\n  componentDidMount(){\r\n    \r\n  }\r\n  hexToRgb(hex) {\r\n    hex = hex.substr(1);\r\n    var bigint = parseInt(hex, 16);\r\n    var r = (bigint >> 16) & 255;\r\n    var g = (bigint >> 8) & 255;\r\n    var b = bigint & 255;\r\n\r\n    return new Vector3(r / 255, g / 255, b / 255);\r\n  }\r\n  addMaterial(ann, mat){\r\n    this.materials.push(<option value={ann}>{mat}</option>)\r\n  }\r\n  showDialog(){\r\n      this.setState({show: true});\r\n      let detectorName = 'Detector' + this.props.buttons.length;\r\n      this.setState({detname: detectorName});\r\n  }\r\n  hideDialog(){\r\n    this.setState({show: false});\r\n  }\r\n  \r\n  static id = 0;\r\n  render(){\r\n    \r\n    return <>\r\n        <Modal show={this.state.show} onHide={()=>{this.hideDialog();}}>\r\n        <Modal.Header closeButton>\r\n          <Modal.Title>Create detector</Modal.Title>\r\n        </Modal.Header>\r\n        <Modal.Body>\r\n        <Form>\r\n          <Container>\r\n          <Row>\r\n            Name <Col><Form.Control\r\n            className=\"name\"\r\n            required\r\n            type=\"text\"\r\n            maxLength=\"10\"\r\n            value = {this.state.detname}\r\n            onChange={(event)=>{this.setState({detname: event.target.value});}} />\r\n            </Col>\r\n            </Row>\r\n            <hr />\r\n            <Row>\r\n              Geometry\r\n            </Row>\r\n\r\n            <Form.Control as=\"select\" value={this.state.geomrty} onChange={(evt)=>{\r\n              this.setState({geomrty: evt.target.value});\r\n              if(evt.target.value == \"stl\") this.setState({display: 'block'});\r\n              else this.setState({display: 'none'});}}>\r\n            <option value=\"cube\">Cube</option>\r\n            <option value=\"cylinder\">Cylinder</option>\r\n            <option value=\"sphere\">Sphere</option>\r\n            <option value=\"stl\">Custom (.STL)</option>\r\n            </Form.Control>\r\n\r\n            <Form.File \r\n            style={{'display':this.state.display}}\r\n            id=\"stl-file\"\r\n            label={this.state.filelabel}\r\n            data-browse=\"Open\"\r\n            custom\r\n            onChange={(evt)=>{\r\n\r\n              alert(evt.target.files[0]);\r\n\r\n              var r = new FileReader();\r\n\r\n              r.onload = ()=>{\r\n                var data = r.result;\r\n                this.setState({modeldata: data});\r\n              }\r\n              r.readAsBinaryString(evt.target.files[0]);\r\n\r\n              let path = evt.target.value;\r\n              path = path.split(\"\\\\\")[path.split(\"\\\\\").length-1];\r\n              this.setState({filelabel: path});\r\n            }}\r\n          />\r\n            <hr />\r\n            <Row>Position</Row>\r\n          <Row>\r\n            x<Col><Form.Control\r\n            className=\"numspinner\"\r\n            required\r\n            value='0'\r\n            type=\"number\"\r\n            maxLength=\"10\"\r\n            value = {this.state.detposx}\r\n            onChange={(event)=>{this.setState({detposx: event.target.value});}} />\r\n            </Col>\r\n            y<Col><Form.Control\r\n            className=\"numspinner\"\r\n            required\r\n            value='0'\r\n            type=\"number\"\r\n            maxLength=\"10\"\r\n            value = {this.state.detposy}\r\n            onChange={(event)=>{this.setState({detposy: event.target.value});}} />\r\n            </Col>\r\n            z<Col><Form.Control\r\n            className=\"numspinner\"\r\n            required\r\n            value='0'\r\n            type=\"number\"\r\n            maxLength=\"10\"\r\n            value = {this.state.detposz}\r\n            onChange={(event)=>{this.setState({detposz: event.target.value});}} />\r\n            </Col>\r\n          </Row>\r\n          <br/>\r\n          <hr />\r\n          <Row>Rotation</Row>\r\n          <Row>\r\n            x<Col><Form.Control\r\n            className=\"numspinner\"\r\n            required\r\n            value='0'\r\n            type=\"number\"\r\n            maxLength=\"10\"\r\n            value = {this.state.detrotx}\r\n            onChange={(event)=>{this.setState({detrotx: event.target.value});}} />\r\n            </Col>\r\n            y<Col><Form.Control\r\n            className=\"numspinner\"\r\n            required\r\n            value='0'\r\n            type=\"number\"\r\n            maxLength=\"10\"\r\n            value = {this.state.detroty}\r\n            onChange={(event)=>{this.setState({detroty: event.target.value});}} />\r\n            </Col>\r\n            z<Col><Form.Control\r\n            className=\"numspinner\"\r\n            required\r\n            value='0'\r\n            type=\"number\"\r\n            maxLength=\"10\"\r\n            value = {this.state.detrotz}\r\n            onChange={(event)=>{this.setState({detrotz: event.target.value});}} />\r\n            </Col>\r\n          </Row>\r\n          <br/>\r\n          <hr />\r\n          <Row>Scale</Row>\r\n          <Row>\r\n            x<Col><Form.Control\r\n            className=\"numspinner\"\r\n            required\r\n            value='0'\r\n            type=\"number\"\r\n            maxLength=\"10\"\r\n            value = {this.state.detscalex}\r\n            onChange={(event)=>{this.setState({detscalex: event.target.value});}} />\r\n            </Col>\r\n            y<Col><Form.Control\r\n            className=\"numspinner\"\r\n            required\r\n            value='0'\r\n            type=\"number\"\r\n            maxLength=\"10\"\r\n            value = {this.state.detscaley}\r\n            onChange={(event)=>{this.setState({detscaley: event.target.value});}} />\r\n            </Col>\r\n            z<Col><Form.Control\r\n            className=\"numspinner\"\r\n            required\r\n            value='0'\r\n            type=\"number\"\r\n            maxLength=\"10\"\r\n            value = {this.state.detscalez}\r\n            onChange={(event)=>{this.setState({detscalez: event.target.value});}} />\r\n            </Col>\r\n          </Row>\r\n          <br/>\r\n          <hr />\r\n          <Row>\r\n          <Form.Group controlId=\"exampleForm.SelectCustom\">\r\n            <Form.Label>Material</Form.Label>\r\n            <Form.Control\r\n            className=\"material\"\r\n            required\r\n            value='0'\r\n            type=\"text\"\r\n            maxLength=\"10\"\r\n            value = {this.state.detmat}\r\n            onChange={(event)=>{this.setState({detmat: event.target.value});}} />\r\n          </Form.Group>\r\n          <span style={{'display': this.state.showError, 'color' : 'red', 'font-weight': 'bold'}}>\r\n            No such material\r\n          </span>\r\n          </Row>\r\n          <hr />\r\n          <Row>\r\n          Color: <span style={{'padding-left':'20px'}}>\r\n          <input type=\"color\"\r\n          onInput={(evt)=>{\r\n            this.setState({color: this.hexToRgb(evt.target.value)});\r\n          }}></input>\r\n            </span>\r\n        </Row>\r\n          </Container>\r\n        </Form>\r\n      \r\n        </Modal.Body>\r\n        <Modal.Footer>\r\n          <Button variant=\"secondary\" onClick={()=>{this.hideDialog();}}>\r\n            Cancel\r\n          </Button>\r\n          <Button variant=\"primary\" onClick={()=>{\r\n          if(!MaterialList.check(this.state.detmat)){\r\n            this.setState({showError: 'block'})\r\n            return;\r\n          } \r\n          this.hideDialog();\r\n          this.props.createbutton(this.state.detname, this.state.detposx, this.state.detposy,this.state.detposz,\r\n            this.state.detrotx, this.state.detroty, this.state.detrotz, this.state.detscalex, this.state.detscaley, this.state.detscalez, this.state.detmat, this.state.geomrty,\r\n            this.state.modeldata,this.state.color);}}>\r\n            Create\r\n          </Button>\r\n        </Modal.Footer>\r\n      </Modal>\r\n    </> \r\n  }\r\n}\r\n\r\nexport default DetectorDialog;\r\n","import React, { Component, createRef } from 'react';\r\nimport '../App.css';\r\n\r\nimport {Button, Nav, Navbar, FormControl, Container,Col,Row, Form, Dropdown, OverlayTrigger, Tooltip, Modal} from 'react-bootstrap';\r\nimport 'bootstrap/dist/css/bootstrap.min.css';\r\n\r\nclass GunEditDialog extends Component{\r\n  constructor(props){\r\n    super(props);\r\n    this.showDialog = this.showDialog.bind(this);\r\n    this.hideDialog = this.hideDialog.bind(this);\r\n    this.state = {show: false, \r\n      detname: this.props.detector.name,\r\n      detposx: this.props.detector.model.position.x,\r\n      detposy: this.props.detector.model.position.y,\r\n      detposz: this.props.detector.model.position.z,\r\n      detdirx: this.props.detector.direction.x,\r\n      detdiry: this.props.detector.direction.y,\r\n      detdirz: this.props.detector.direction.z,\r\n      energy: this.props.detector.energy}\r\n    \r\n  }\r\n  componentDidMount(){\r\n    \r\n  }\r\n  showDialog(){\r\n      this.setState({show: true});\r\n  }\r\n  hideDialog(){\r\n    this.setState({show: false});\r\n  }\r\n  \r\n  static id = 0;\r\n  render(){\r\n    \r\n    return <>\r\n        <Modal show={this.state.show} onHide={()=>{this.hideDialog();}}>\r\n        <Modal.Header closeButton>\r\n          <Modal.Title>Modify Detector</Modal.Title>\r\n        </Modal.Header>\r\n        <Modal.Body>\r\n        <Form>\r\n          <Container>\r\n          <Row>\r\n            Name <Col><Form.Control\r\n            className=\"name\"\r\n            required\r\n            type=\"text\"\r\n            maxLength=\"10\"\r\n            value = {this.state.detname}\r\n            onChange={(event)=>{this.setState({detname: event.target.value});}} />\r\n            </Col>\r\n            </Row>\r\n            <Row>Position</Row>\r\n          <Row>\r\n            x<Col><Form.Control\r\n            className=\"numspinner\"\r\n            required\r\n            value='0'\r\n            type=\"number\"\r\n            maxLength=\"10\"\r\n            value = {this.state.detposx}\r\n            onChange={(event)=>{this.setState({detposx: event.target.value});}} />\r\n            </Col>\r\n            y<Col><Form.Control\r\n            className=\"numspinner\"\r\n            required\r\n            value='0'\r\n            type=\"number\"\r\n            maxLength=\"10\"\r\n            value = {this.state.detposy}\r\n            onChange={(event)=>{this.setState({detposy: event.target.value});}} />\r\n            </Col>\r\n            z<Col><Form.Control\r\n            className=\"numspinner\"\r\n            required\r\n            value='0'\r\n            type=\"number\"\r\n            maxLength=\"10\"\r\n            value = {this.state.detposz}\r\n            onChange={(event)=>{this.setState({detposz: event.target.value});}} />\r\n            </Col>\r\n          </Row>\r\n          <br/>\r\n          <Row>Direction</Row>\r\n          <Row>\r\n            x<Col><Form.Control\r\n            className=\"numspinner\"\r\n            required\r\n            value='0'\r\n            type=\"number\"\r\n            maxLength=\"10\"\r\n            value = {this.state.detdirx}\r\n            onChange={(event)=>{this.setState({detdirx: event.target.value});}} />\r\n            </Col>\r\n            y<Col><Form.Control\r\n            className=\"numspinner\"\r\n            required\r\n            value='0'\r\n            type=\"number\"\r\n            maxLength=\"10\"\r\n            value = {this.state.detdiry}\r\n            onChange={(event)=>{this.setState({detdiry: event.target.value});}} />\r\n            </Col>\r\n            z<Col><Form.Control\r\n            className=\"numspinner\"\r\n            required\r\n            value='0'\r\n            type=\"number\"\r\n            maxLength=\"10\"\r\n            value = {this.state.detdirz}\r\n            onChange={(event)=>{this.setState({detdirz: event.target.value});}} />\r\n            </Col>\r\n          </Row>\r\n          \r\n          <br/>\r\n          <Row>\r\n            Energy <Col><Form.Control\r\n            className=\"numspinner\"\r\n            required\r\n            value='0'\r\n            type=\"number\"\r\n            maxLength=\"10\"\r\n            value = {this.state.energy}\r\n            onChange={(event)=>{this.setState({energy: event.target.value});}} />\r\n            </Col> keV\r\n          </Row>\r\n          </Container>\r\n        </Form>\r\n        </Modal.Body>\r\n        <Modal.Footer>\r\n          <Button variant=\"secondary\" onClick={()=>{\r\n            this.hideDialog();\r\n            this.props.removebutton(this.props.detector, this.props.button);\r\n          }} style={{backgroundColor: 'red', color: 'white'}}>\r\n            Delete\r\n          </Button>\r\n          <Button variant=\"primary\" onClick={()=>{this.hideDialog();\r\n\r\n            this.props.detector.name = this.state.name;\r\n\r\n            this.props.detector.model.position.x = this.state.detposx;\r\n            this.props.detector.model.position.y = this.state.detposy;\r\n            this.props.detector.model.position.z = this.state.detposz;\r\n            \r\n            this.props.detector.direction.x = this.state.detdirx;\r\n            this.props.detector.direction.y = this.state.detdiry;\r\n            this.props.detector.direction.z = this.state.detdirz;\r\n            \r\n            \r\n            this.props.detector.energy = this.state.energy;\r\n\r\n            this.props.updatedetails(\r\n            <Container>\r\n                  <Row>\r\n                  <Col>Position: </Col>\r\n                  </Row>\r\n                  <Row>\r\n                    <Col>x: {this.state.detposx} cm</Col>\r\n                    <Col>y: {this.state.detposy} cm</Col>\r\n                    <Col>z: {this.state.detposz} cm</Col>\r\n                  </Row>\r\n                  <Row>\r\n                  <Col>Direction: </Col>\r\n                  </Row>\r\n                  <Row>\r\n                    <Col>x: {this.state.detdirx} </Col>\r\n                    <Col>y: {this.state.detdiry} </Col>\r\n                    <Col>z: {this.state.detdirz} </Col>\r\n                  </Row>\r\n                  <Row>\r\n                  <Col>Energy: {this.state.energy} keV</Col>\r\n                  </Row>\r\n                  </Container>\r\n            );            \r\n            }}>\r\n            Modify\r\n          </Button>\r\n        </Modal.Footer>\r\n      </Modal>\r\n    </> \r\n  }\r\n}\r\n\r\nexport default GunEditDialog;\r\n","import React, { Component, createRef } from 'react';\r\nimport '../App.css';\r\n\r\nimport {Button, Card, Accordion, Figure} from 'react-bootstrap';\r\nimport 'bootstrap/dist/css/bootstrap.min.css';\r\nimport image from '../images/editicon.png';\r\nimport GunEditDialog from './GunEditDialog';\r\nimport RenderSystem from '../rendering/renderSystem';\r\nimport DetectorButton from '../detector/DetectorButton';\r\n\r\nclass GunButton extends Component{\r\n  constructor(props){\r\n    super(props);\r\n    this.editdialog = React.createRef();\r\n    this.updateDetails = this.updateDetails.bind(this);\r\n    this.state = {details: this.props.details};\r\n    this.id = this.props.id;\r\n  }\r\n  static id = 0;\r\n  updateDetails(d){\r\n    this.setState({details: d});\r\n  }\r\n  render(){\r\n    return <div>\r\n    <GunEditDialog updatedetails={this.updateDetails} button={this} removebutton={this.props.removebutton}\r\n      detector={this.props.detector} ref={this.editdialog} buttons={this.props.buttons} details={this.props.details}></GunEditDialog>\r\n    <Card className='button'>\r\n      <Card.Header>\r\n        <Accordion.Toggle as={Button} onClick={()=>{\r\n          if(RenderSystem.acitve_id == this.id){\r\n            RenderSystem.acitve_id = -1;\r\n            return;\r\n          }\r\n          RenderSystem.acitve_id = this.id;\r\n          }} variant=\"link\" eventKey={this.id}>\r\n          {this.props.name}\r\n        </Accordion.Toggle>\r\n        <Button onClick={()=>{this.editdialog.current.showDialog();}} className=\"editButton\">EDIT</Button>\r\n      </Card.Header>\r\n      <Accordion.Collapse eventKey={this.id}>\r\n        <Card.Body>{this.state.details}</Card.Body>\r\n      </Accordion.Collapse>\r\n    </Card>\r\n  </div>\r\n    \r\n  }\r\n}\r\n\r\nexport default GunButton;\r\n","import React, { Component, createRef } from 'react';\r\nimport '../App.css';\r\n\r\nimport {Button, Nav, Navbar, FormControl, Container,Col,Row, Form, Dropdown, OverlayTrigger, Tooltip, Modal} from 'react-bootstrap';\r\nimport 'bootstrap/dist/css/bootstrap.min.css';\r\nimport GunButton from '../gun/GunButton';\r\n\r\nclass GunDialog extends Component{\r\n  constructor(props){\r\n    super(props);\r\n    this.showDialog = this.showDialog.bind(this);\r\n    this.hideDialog = this.hideDialog.bind(this);\r\n    this.state = {show: false, \r\n      detname: 'Detector',\r\n      detposx: 0,\r\n      detposy: 0,\r\n      detposz: 0,\r\n      detdirx: 0,\r\n      detdiry: 0,\r\n      detdirz: 0,\r\n      energy: 100 }\r\n    \r\n  }\r\n  componentDidMount(){\r\n    \r\n  }\r\n  showDialog(){\r\n      this.setState({show: true});\r\n  }\r\n  hideDialog(){\r\n    this.setState({show: false});\r\n  }\r\n  \r\n  static id = 0;\r\n  render(){\r\n    \r\n    return <>\r\n        <Modal show={this.state.show} onHide={()=>{this.hideDialog();}}>\r\n        <Modal.Header closeButton>\r\n          <Modal.Title>Create Particle Gun</Modal.Title>\r\n        </Modal.Header>\r\n        <Modal.Body>\r\n        <Form>\r\n          <Container>\r\n          <Row>\r\n            Name <Col><Form.Control\r\n            className=\"name\"\r\n            required\r\n            type=\"text\"\r\n            maxLength=\"10\"\r\n            value = {this.state.detname}\r\n            onChange={(event)=>{this.setState({detname: event.target.value});}} />\r\n            </Col>\r\n            </Row>\r\n            <Row>Position</Row>\r\n          <Row>\r\n            x<Col><Form.Control\r\n            className=\"numspinner\"\r\n            required\r\n            value='0'\r\n            type=\"number\"\r\n            maxLength=\"10\"\r\n            value = {this.state.detposx}\r\n            onChange={(event)=>{this.setState({detposx: event.target.value});}} />\r\n            </Col>\r\n            y<Col><Form.Control\r\n            className=\"numspinner\"\r\n            required\r\n            value='0'\r\n            type=\"number\"\r\n            maxLength=\"10\"\r\n            value = {this.state.detposy}\r\n            onChange={(event)=>{this.setState({detposy: event.target.value});}} />\r\n            </Col>\r\n            z<Col><Form.Control\r\n            className=\"numspinner\"\r\n            required\r\n            value='0'\r\n            type=\"number\"\r\n            maxLength=\"10\"\r\n            value = {this.state.detposz}\r\n            onChange={(event)=>{this.setState({detposz: event.target.value});}} />\r\n            </Col>\r\n          </Row>\r\n          <br/>\r\n          <Row>Direction</Row>\r\n          <Row>\r\n            x<Col><Form.Control\r\n            className=\"numspinner\"\r\n            required\r\n            value='0'\r\n            type=\"number\"\r\n            maxLength=\"10\"\r\n            value = {this.state.detdirx}\r\n            onChange={(event)=>{this.setState({detdirx: event.target.value});}} />\r\n            </Col>\r\n            y<Col><Form.Control\r\n            className=\"numspinner\"\r\n            required\r\n            value='0'\r\n            type=\"number\"\r\n            maxLength=\"10\"\r\n            value = {this.state.detdiry}\r\n            onChange={(event)=>{this.setState({detdiry: event.target.value});}} />\r\n            </Col>\r\n            z<Col><Form.Control\r\n            className=\"numspinner\"\r\n            required\r\n            value='0'\r\n            type=\"number\"\r\n            maxLength=\"10\"\r\n            value = {this.state.detdirz}\r\n            onChange={(event)=>{this.setState({detdirz: event.target.value});}} />\r\n            </Col>\r\n          </Row>\r\n          <br/>\r\n          \r\n          <Row>\r\n            Energy <Col><Form.Control\r\n            className=\"numspinner\"\r\n            required\r\n            value='0'\r\n            type=\"number\"\r\n            maxLength=\"10\"\r\n            value = {this.state.energy}\r\n            onChange={(event)=>{this.setState({energy: event.target.value});}} />\r\n            </Col> keV\r\n          </Row>\r\n          </Container>\r\n        </Form>\r\n        </Modal.Body>\r\n        <Modal.Footer>\r\n          <Button variant=\"secondary\" onClick={()=>{this.hideDialog();}}>\r\n            Cancel\r\n          </Button>\r\n          <Button variant=\"primary\" onClick={()=>{this.hideDialog();this.props.createbutton(this.state.detname, this.state.detposx, this.state.detposy, this.state.detposz,\r\n            this.state.detdirx, this.state.detdiry, this.state.detdirz, this.state.energy);}}>\r\n            Create\r\n          </Button>\r\n        </Modal.Footer>\r\n      </Modal>\r\n    </> \r\n  }\r\n}\r\n\r\nexport default GunDialog;\r\n","import React, { Component, createRef } from 'react';\r\nimport '../App.css';\r\n\r\nimport {Button, Nav, Navbar, FormControl, Container,Col,Row, Form, Dropdown, OverlayTrigger, Tooltip, Modal} from 'react-bootstrap';\r\nimport 'bootstrap/dist/css/bootstrap.min.css';\r\n\r\nclass SourceEditDialog extends Component{\r\n  constructor(props){\r\n    super(props);\r\n    this.showDialog = this.showDialog.bind(this);\r\n    this.hideDialog = this.hideDialog.bind(this);\r\n    this.state = {show: false, \r\n      detname: this.props.detector.name,\r\n      detposx: this.props.detector.model.position.x,\r\n      detposy: this.props.detector.model.position.y,\r\n      detposz: this.props.detector.model.position.z,\r\n      material: this.props.detector.material}\r\n    \r\n  }\r\n  componentDidMount(){\r\n    \r\n  }\r\n  showDialog(){\r\n      this.setState({show: true});\r\n  }\r\n  hideDialog(){\r\n    this.setState({show: false});\r\n  }\r\n  \r\n  static id = 0;\r\n  render(){\r\n    \r\n    return <>\r\n        <Modal show={this.state.show} onHide={()=>{this.hideDialog();}}>\r\n        <Modal.Header closeButton>\r\n          <Modal.Title>Modify Detector</Modal.Title>\r\n        </Modal.Header>\r\n        <Modal.Body>\r\n        <Form>\r\n          <Container>\r\n          <Row>\r\n            Name <Col><Form.Control\r\n            className=\"name\"\r\n            required\r\n            type=\"text\"\r\n            maxLength=\"10\"\r\n            value = {this.state.detname}\r\n            onChange={(event)=>{this.setState({detname: event.target.value});}} />\r\n            </Col>\r\n            </Row>\r\n            <Row>Position</Row>\r\n          <Row>\r\n            x<Col><Form.Control\r\n            className=\"numspinner\"\r\n            required\r\n            value='0'\r\n            type=\"number\"\r\n            maxLength=\"10\"\r\n            value = {this.state.detposx}\r\n            onChange={(event)=>{this.setState({detposx: event.target.value});}} />\r\n            </Col>\r\n            y<Col><Form.Control\r\n            className=\"numspinner\"\r\n            required\r\n            value='0'\r\n            type=\"number\"\r\n            maxLength=\"10\"\r\n            value = {this.state.detposy}\r\n            onChange={(event)=>{this.setState({detposy: event.target.value});}} />\r\n            </Col>\r\n            z<Col><Form.Control\r\n            className=\"numspinner\"\r\n            required\r\n            value='0'\r\n            type=\"number\"\r\n            maxLength=\"10\"\r\n            value = {this.state.detposz}\r\n            onChange={(event)=>{this.setState({detposz: event.target.value});}} />\r\n            </Col>\r\n          </Row>\r\n          <br/>\r\n          \r\n          <br/>\r\n          <Row>\r\n            Material <Col><Form.Control\r\n            className=\"numspinner\"\r\n            required\r\n            value='0'\r\n            type=\"text\"\r\n            maxLength=\"10\"\r\n            value = {this.state.material}\r\n            onChange={(event)=>{this.setState({material: event.target.value});}} />\r\n            </Col>\r\n          </Row>\r\n          </Container>\r\n        </Form>\r\n        </Modal.Body>\r\n        <Modal.Footer>\r\n          <Button variant=\"secondary\" onClick={()=>{\r\n            this.hideDialog();\r\n            this.props.removebutton(this.props.detector, this.props.button);\r\n          }} style={{backgroundColor: 'red', color: 'white'}}>\r\n            Delete\r\n          </Button>\r\n          <Button variant=\"primary\" onClick={()=>{this.hideDialog();\r\n\r\n            this.props.detector.name = this.state.name;\r\n\r\n            this.props.detector.model.position.x = this.state.detposx;\r\n            this.props.detector.model.position.y = this.state.detposy;\r\n            this.props.detector.model.position.z = this.state.detposz;\r\n            \r\n            \r\n            this.props.detector.material = this.state.material;\r\n\r\n            this.props.updatedetails(<Container>\r\n                <Row>\r\n                <Col>Position: </Col>\r\n                </Row>\r\n                <Row>\r\n                  <Col>x: {this.state.detposx} cm</Col>\r\n                  <Col>y: {this.state.detposy} cm</Col>\r\n                  <Col>z: {this.state.detposz} cm</Col>\r\n                </Row>\r\n                <Row>\r\n                <Col>Material: {this.state.material}</Col>\r\n                </Row>\r\n                </Container>);            \r\n            }}>\r\n            Modify\r\n          </Button>\r\n        </Modal.Footer>\r\n      </Modal>\r\n    </> \r\n  }\r\n}\r\n\r\nexport default SourceEditDialog;\r\n","import React, { Component, createRef } from 'react';\r\nimport '../App.css';\r\n\r\nimport {Button, Card, Accordion, Figure} from 'react-bootstrap';\r\nimport 'bootstrap/dist/css/bootstrap.min.css';\r\nimport image from '../images/editicon.png';\r\nimport SourceEditDialog from './SourceEditDialog';\r\nimport RenderSystem from '../rendering/renderSystem';\r\nimport DetectorButton from '../detector/DetectorButton';\r\n\r\nclass SourceButton extends Component{\r\n  constructor(props){\r\n    super(props);\r\n    this.editdialog = React.createRef();\r\n    this.updateDetails = this.updateDetails.bind(this);\r\n    this.state = {details: this.props.details};\r\n    this.id = this.props.id;\r\n  }\r\n  static id = 0;\r\n  updateDetails(d){\r\n    this.setState({details: d});\r\n  }\r\n  render(){\r\n    return <div>\r\n    <SourceEditDialog updatedetails={this.updateDetails} button={this} removebutton={this.props.removebutton}\r\n      detector={this.props.detector} ref={this.editdialog} buttons={this.props.buttons} details={this.props.details}></SourceEditDialog>\r\n    <Card className='button'>\r\n      <Card.Header>\r\n        <Accordion.Toggle as={Button} onClick={()=>{\r\n          if(RenderSystem.acitve_id == this.id){\r\n            RenderSystem.acitve_id = -1;\r\n            return;\r\n          }\r\n          RenderSystem.acitve_id = this.id;\r\n          }} variant=\"link\" eventKey={this.id}>\r\n          {this.props.name}\r\n        </Accordion.Toggle>\r\n        <Button onClick={()=>{this.editdialog.current.showDialog();}} className=\"editButton\">EDIT</Button>\r\n      </Card.Header>\r\n      <Accordion.Collapse eventKey={this.id}>\r\n        <Card.Body>{this.state.details}</Card.Body>\r\n      </Accordion.Collapse>\r\n    </Card>\r\n  </div>\r\n    \r\n  }\r\n}\r\n\r\nexport default SourceButton;\r\n","import React, { Component, createRef } from 'react';\r\nimport '../App.css';\r\n\r\nimport {Button, Nav, Navbar, FormControl, Container,Col,Row, Form, Dropdown, OverlayTrigger, Tooltip, Modal} from 'react-bootstrap';\r\nimport 'bootstrap/dist/css/bootstrap.min.css';\r\nimport SourceButton from '../source/SourceButton';\r\n\r\nclass SourceDialog extends Component{\r\n  constructor(props){\r\n    super(props);\r\n    this.showDialog = this.showDialog.bind(this);\r\n    this.hideDialog = this.hideDialog.bind(this);\r\n    this.state = {show: false, \r\n      detname: 'Detector',\r\n      detposx: 0,\r\n      detposy: 0,\r\n      detposz: 0,\r\n      material: 'Co60' }\r\n    \r\n  }\r\n  componentDidMount(){\r\n    \r\n  }\r\n  showDialog(){\r\n      this.setState({show: true});\r\n      let detectorName = 'Source' + this.props.buttons.length;\r\n      this.setState({detname: detectorName});\r\n  }\r\n  hideDialog(){\r\n    this.setState({show: false});\r\n  }\r\n  \r\n  static id = 0;\r\n  render(){\r\n    \r\n    return <>\r\n        <Modal show={this.state.show} onHide={()=>{this.hideDialog();}}>\r\n        <Modal.Header closeButton>\r\n          <Modal.Title>Create Particle Source</Modal.Title>\r\n        </Modal.Header>\r\n        <Modal.Body>\r\n        <Form>\r\n          <Container>\r\n          <Row>\r\n            Name <Col><Form.Control\r\n            className=\"name\"\r\n            required\r\n            type=\"text\"\r\n            maxLength=\"10\"\r\n            value = {this.state.detname}\r\n            onChange={(event)=>{this.setState({detname: event.target.value});}} />\r\n            </Col>\r\n            </Row>\r\n            <Row>Position</Row>\r\n          <Row>\r\n            x<Col><Form.Control\r\n            className=\"numspinner\"\r\n            required\r\n            value='0'\r\n            type=\"number\"\r\n            maxLength=\"10\"\r\n            value = {this.state.detposx}\r\n            onChange={(event)=>{this.setState({detposx: event.target.value});}} />\r\n            </Col>\r\n            y<Col><Form.Control\r\n            className=\"numspinner\"\r\n            required\r\n            value='0'\r\n            type=\"number\"\r\n            maxLength=\"10\"\r\n            value = {this.state.detposy}\r\n            onChange={(event)=>{this.setState({detposy: event.target.value});}} />\r\n            </Col>\r\n            z<Col><Form.Control\r\n            className=\"numspinner\"\r\n            required\r\n            value='0'\r\n            type=\"number\"\r\n            maxLength=\"10\"\r\n            value = {this.state.detposz}\r\n            onChange={(event)=>{this.setState({detposz: event.target.value});}} />\r\n            </Col>\r\n          </Row>\r\n          \r\n          <br/>\r\n          \r\n          <Row>\r\n            Material <Col><Form.Control\r\n            className=\"numspinner\"\r\n            required\r\n            value='0'\r\n            type=\"text\"\r\n            maxLength=\"10\"\r\n            value = {this.state.material}\r\n            onChange={(event)=>{this.setState({material: event.target.value});}} />\r\n            </Col>\r\n          </Row>\r\n          </Container>\r\n        </Form>\r\n        </Modal.Body>\r\n        <Modal.Footer>\r\n          <Button variant=\"secondary\" onClick={()=>{this.hideDialog();}}>\r\n            Cancel\r\n          </Button>\r\n          <Button variant=\"primary\" onClick={()=>{this.hideDialog();this.props.createbutton(this.state.detname,  this.state.detposx, this.state.detposy, this.state.detposz,\r\n            this.state.material);}}>\r\n            Create\r\n          </Button>\r\n        </Modal.Footer>\r\n      </Modal>\r\n    </> \r\n  }\r\n}\r\n\r\nexport default SourceDialog;\r\n","import React, { Component, createRef } from 'react';\r\nimport {Button, Nav, Navbar, FormControl, Container,Col,Row, Form, Dropdown, OverlayTrigger, Tooltip, Modal, Spinner} from 'react-bootstrap';\r\n\r\nclass RunDialog extends Component {\r\n    constructor(props){\r\n        super(props);\r\n        this.state = {numberOfParticles: 100,show: false, loading: false}\r\n        this.hideDialog = this.hideDialog.bind(this);\r\n        this.showDialog = this.showDialog.bind(this);\r\n        this.setLoading = this.setLoading.bind(this);\r\n    }\r\n    hideDialog(){\r\n        this.setState({show: false});\r\n    }\r\n    showDialog(){\r\n        this.setState({show: true,loading: false});\r\n    }\r\n    setLoading(b){\r\n      this.setState({loading: b});\r\n    }\r\n    render(){\r\n      if(this.state.loading){\r\n        return <>\r\n        <Modal show={this.state.show} onHide={()=>{this.hideDialog();}}>\r\n        <Modal.Header closeButton>\r\n          <Modal.Title>Run simulation</Modal.Title>\r\n        </Modal.Header>\r\n        <Modal.Body>\r\n        <Row style={{margin: '5px'}}>\r\n                Runnig simulation\r\n            </Row>\r\n            <Spinner animation=\"border\" role=\"status\">\r\n            </Spinner>\r\n        </Modal.Body>\r\n        <Modal.Footer>\r\n        <Button variant=\"secondary\" onClick={()=>{this.hideDialog();}}>\r\n            Cancel\r\n          </Button>\r\n          <Button variant=\"primary\" onClick={()=>{\r\n            this.props.runsim(this.state.numberOfParticles);}}>\r\n            Run\r\n          </Button>\r\n        </Modal.Footer>\r\n      </Modal>\r\n    </> \r\n      }\r\n        return <>\r\n    <Modal show={this.state.show} onHide={()=>{this.hideDialog();}}>\r\n    <Modal.Header closeButton>\r\n      <Modal.Title>Run simulation</Modal.Title>\r\n    </Modal.Header>\r\n    <Modal.Body>\r\n        <Row style={{margin: '5px'}}>\r\n            Number of particles: \r\n        </Row>\r\n    <Form>\r\n        <Form.Control required\r\n        type=\"number\"\r\n        value={this.state.numberOfParticles}\r\n        onChange={(evt)=>{this.setState({numberOfParticles: evt.target.value});}}>\r\n        </Form.Control>\r\n    </Form>\r\n    </Modal.Body>\r\n    <Modal.Footer>\r\n    <Button variant=\"secondary\" onClick={()=>{this.hideDialog();}}>\r\n        Cancel\r\n      </Button>\r\n      <Button variant=\"primary\" onClick={()=>{\r\n        this.setLoading(true);\r\n        this.props.runsim(this.state.numberOfParticles, this.hideDialog);}}>\r\n        Run\r\n      </Button>\r\n    </Modal.Footer>\r\n  </Modal>\r\n</> \r\n    \r\n      \r\n        \r\n    }\r\n}\r\nexport default RunDialog;","import React, { Component, createRef } from 'react';\r\nimport {Button, Nav, Navbar, FormControl, Container,Col,Row, Form, Dropdown, OverlayTrigger, Tooltip, Modal, ProgressBar, Spinner} from 'react-bootstrap';\r\n\r\nclass SpectrumDialog extends Component {\r\n    constructor(props){\r\n        super(props);\r\n        this.state = {numberofparticles: 1000, detector: 0,show: false, loading: false, now: 60, binsize: 1}\r\n        this.hideDialog = this.hideDialog.bind(this);\r\n        this.showDialog = this.showDialog.bind(this);\r\n        this.setLoading = this.setLoading.bind(this);\r\n    }\r\n    hideDialog(){\r\n        this.setState({show: false});\r\n    }\r\n    setLoading(b){\r\n        this.setState({loading: b});\r\n    }\r\n    showDialog(){\r\n        this.setState({show: true, loading: false});\r\n    }\r\n    render(){\r\n        if(this.state.loading){\r\n            return <Modal show={this.state.show}>\r\n        <Modal.Header closeButton>\r\n          <Modal.Title>Configure Spectroscopy</Modal.Title>\r\n        </Modal.Header>\r\n        <Modal.Body>\r\n            <Row style={{margin: '5px'}}>\r\n                Runnig simulation\r\n            </Row>\r\n            <Spinner animation=\"border\" role=\"status\">\r\n            </Spinner>\r\n        </Modal.Body>\r\n        <Modal.Footer>\r\n        <Button variant=\"secondary\" onClick={()=>{this.hideDialog();}}>\r\n            Cancel\r\n          </Button>\r\n          \r\n        </Modal.Footer>\r\n      </Modal>\r\n        }\r\n        let options = [];\r\n        for(let i = 0;i<this.props.detectors.length;i++){\r\n            options.push(<option value={this.props.detectors[i].id}>{this.props.detectors[i].name}</option>)\r\n        }\r\n\r\n        return <>\r\n        <Modal show={this.state.show} onHide={()=>{this.hideDialog();}}>\r\n        <Modal.Header closeButton>\r\n          <Modal.Title>Configure Spectroscopy</Modal.Title>\r\n        </Modal.Header>\r\n        <Modal.Body>\r\n            <Row style={{margin: '5px'}}>\r\n                Select detector \r\n            </Row>\r\n        <Form>\r\n        <Form.Control as=\"select\" value={this.state.detector} onChange={(evt)=>{this.setState({detector: evt.target.value});}}>\r\n            {options}\r\n            </Form.Control>\r\n            <hr />\r\n            <Row style={{margin: '5px'}}>\r\n                Number of particles\r\n            </Row>\r\n        <Form.Control\r\n        className=\"numspinner\"\r\n        required\r\n        value='0'\r\n        type=\"number\"\r\n        maxLength=\"10\"\r\n        value = {this.state.numberofparticles}\r\n        onChange={(event)=>{this.setState({numberofparticles: event.target.value});}} />\r\n        <hr />\r\n        <Row style={{margin: '5px'}}>\r\n                Bin size\r\n            </Row>\r\n            <Row>\r\n            <Form.Control\r\n        className=\"numspinner\"\r\n        required\r\n        value='0'\r\n        type=\"number\"\r\n        maxLength=\"10\"\r\n        value = {this.state.binsize}\r\n        style={{'width':'20%','margin':'15px'}}\r\n        onChange={(event)=>{this.setState({binsize: event.target.value});}} />\r\n        <span style={{'padding':'20px'}}>\r\n        keV\r\n\r\n        </span>\r\n            </Row>\r\n        \r\n        </Form>\r\n        </Modal.Body>\r\n        <Modal.Footer>\r\n        <Button variant=\"secondary\" onClick={()=>{this.hideDialog();}}>\r\n            Cancel\r\n          </Button>\r\n          <Button variant=\"primary\" onClick={()=>{\r\n              this.setLoading(true);\r\n              this.props.runsim(this.state.numberofparticles, this.state.detector, this.hideDialog, this.state.binsize);}}>\r\n            Run\r\n          </Button>\r\n        </Modal.Footer>\r\n      </Modal>\r\n    </> \r\n    }\r\n}\r\nexport default SpectrumDialog;","import React, { Component, createRef } from 'react';\r\nimport '../App.css';\r\n\r\nimport {Button, Nav, Navbar, FormControl, Form, Dropdown, OverlayTrigger, Tooltip, Modal } from 'react-bootstrap';\r\nimport 'bootstrap/dist/css/bootstrap.min.css';\r\nimport DetectorDialog from '../detector/DetectorDialog';\r\nimport GunDialog from '../gun/GunDialog';\r\nimport SourceDialog from '../source/SourceDialog';\r\nimport RunDialog from './RunDialog';\r\nimport SpectrumDialog from './SpectrumDialog';\r\n\r\nclass NavigationBar extends Component{\r\n  constructor(props){\r\n    super(props);\r\n    this.dialog = React.createRef();\r\n    this.gundialog = React.createRef();\r\n    this.sourcedialog = React.createRef();\r\n    this.rundialog = React.createRef();\r\n    this.spectrumdialog = React.createRef();\r\n    this.state = {showTracks: true, showParticles: true};\r\n  }\r\n  static id = 0;\r\n  render(){\r\n\r\n    return <>\r\n   <DetectorDialog ref={this.dialog} createbutton={this.props.createbutton} buttons={this.props.buttons}></DetectorDialog>\r\n   <GunDialog ref={this.gundialog} createbutton={this.props.creategunbutton} buttons={this.props.buttons}></GunDialog>\r\n   <SourceDialog ref={this.sourcedialog} createbutton={this.props.createsourcebutton} buttons={this.props.buttons}></SourceDialog>\r\n   <RunDialog ref={this.rundialog} runsim={this.props.run}></RunDialog>\r\n   <SpectrumDialog ref={this.spectrumdialog} runsim={this.props.runspectroscopy} detectors={this.props.detectors}></SpectrumDialog>\r\n   \r\n   <Navbar bg=\"light\" variant=\"light\" style={{position: 'fixed', 'z-index': '4'}}>\r\n        <Navbar.Brand>Geant4</Navbar.Brand>\r\n        <Button variant=\"primary\" onClick={()=>{\r\n          this.rundialog.current.showDialog();}} >Run</Button>\r\n\r\n        <Button variant=\"primary\" style={{backgroundColor: 'green'}} onClick={()=>{\r\n          this.spectrumdialog.current.showDialog();}}>Spectroscopy</Button>\r\n\r\n        <Button variant=\"primary\" style={{backgroundColor: 'red'}} onClick={()=>{\r\n                  this.props.clearrun();}}>Clear particles</Button>\r\n\r\n        <Button variant=\"primary\" style={{backgroundColor: 'red'}} onClick={()=>{\r\n                  this.props.clearSetup();}}>Clear setup</Button>\r\n\r\n        <Nav className=\"mr-auto\">\r\n        <Dropdown>\r\n        <Dropdown.Toggle variant=\"success\" id=\"dropdown-basic\" style={{backgroundColor: 'white', border: 'none', color: 'black'}}>\r\n          Add\r\n        </Dropdown.Toggle>\r\n\r\n        <Dropdown.Menu>\r\n        <OverlayTrigger overlay={<Tooltip id=\"tooltip-disabled\">Detector Geometry</Tooltip>}>\r\n        <span className=\"d-inline-block\">\r\n          <Dropdown.Item className='detectoroption' onClick={()=>{this.dialog.current.showDialog();}}>Detector</Dropdown.Item>\r\n          </span>\r\n        </OverlayTrigger>\r\n        <br/>\r\n        <OverlayTrigger overlay={<Tooltip id=\"tooltip-disabled\">General Particle Source</Tooltip>}>\r\n        <span className=\"d-inline-block\">\r\n          <Dropdown.Item className='detectoroption' onClick={()=>{this.sourcedialog.current.showDialog();}}>GPS</Dropdown.Item>\r\n          </span>\r\n        </OverlayTrigger>\r\n        <br/>\r\n        <OverlayTrigger overlay={<Tooltip id=\"tooltip-disabled\">Directed Particle Gun</Tooltip>}>\r\n        <span className=\"d-inline-block\">\r\n          <Dropdown.Item className='detectoroption' onClick={()=>{this.gundialog.current.showDialog();}}>Gun</Dropdown.Item>\r\n          </span>\r\n        </OverlayTrigger>\r\n        </Dropdown.Menu>\r\n      </Dropdown>\r\n      <Dropdown>\r\n        <Dropdown.Toggle variant=\"success\" id=\"dropdown-basic\" style={{backgroundColor: 'white', border: 'none', color: 'black'}}>\r\n          View\r\n        </Dropdown.Toggle>\r\n\r\n        <Dropdown.Menu>\r\n        <Form.Check type=\"checkbox\" label=\"Show Tracks\" checked={this.state.showTracks} onChange={(evt)=>{\r\n          this.setState({showTracks: evt.target.checked});\r\n          this.props.setshowtracks(this.state.showTracks);}} style={{margin: '12px'}} />\r\n        <Form.Check type=\"checkbox\" label=\"Show Particles\" checked={this.state.showParticles} onChange={(evt)=>{\r\n          this.setState({showParticles: evt.target.checked});\r\n          this.props.setshowparticles(this.state.showParticles);}}\r\n          style={{margin: '12px'}}/>\r\n        \r\n\r\n        </Dropdown.Menu>\r\n      </Dropdown>\r\n        </Nav>\r\n        <Form inline>\r\n          <FormControl type=\"text\" placeholder=\"Search\" className=\"mr-sm-2\" />\r\n          <Button variant=\"outline-primary\">Search</Button>\r\n        </Form>\r\n      </Navbar>\r\n    </> \r\n  }\r\n}\r\n\r\nexport default NavigationBar;\r\n","import { Vector3 } from '../utils/maths';\r\n\r\nclass Particle {\r\n    constructor(){\r\n        this.track_id = 0;\r\n        this.parent_id = 0;\r\n        this.position = new Vector3(0,0,0);\r\n        this.color = new Vector3(1,1,1);\r\n        this.totalEnergy = 0;\r\n        this.energyDeposit = 0;\r\n        this.definition = \"\";\r\n        this.id = \"\";\r\n\r\n    }\r\n    \r\n};\r\n\r\nexport default Particle;","import React, { Component, createRef } from 'react';\r\nimport Chart from 'chart.js';\r\nimport 'chartjs-plugin-zoom';\r\n\r\nclass Spectrum extends Component {\r\n    constructor(props){\r\n        super(props);\r\n        this.canvas = React.createRef();\r\n        \r\n    }\r\n    componentDidMount(){\r\n        this.chart = new Chart(this.canvas.current.getContext(\"2d\"), {\r\n            // The type of chart we want to create\r\n            type: 'bar',\r\n        \r\n            // The data for our dataset\r\n            data: {\r\n                labels: [],\r\n                datasets: [{\r\n                    label: 'counts',\r\n                    backgroundColor: 'rgb(0, 99, 132)',\r\n                    borderColor: 'rgb(0, 99, 132)',\r\n                    data: []\r\n                }]\r\n            },\r\n        \r\n            // Configuration options go here\r\n            options: { responsive: true,\r\n                plugins: {\r\n                    zoom: {\r\n                        // Container for pan options\r\n                        pan: {\r\n                            // Boolean to enable panning\r\n                            enabled: true,\r\n        \r\n                            // Panning directions. Remove the appropriate direction to disable \r\n                            // Eg. 'y' would only allow panning in the y direction\r\n                            mode: 'xy'\r\n                        },\r\n        \r\n                        // Container for zoom options\r\n                        zoom: {\r\n                            // Boolean to enable zooming\r\n                            enabled: true,\r\n        \r\n                            // Zooming directions. Remove the appropriate direction to disable \r\n                            // Eg. 'y' would only allow zooming in the y direction\r\n                            mode: 'xy',\r\n                        }\r\n                    }\r\n                }\r\n             }\r\n        });\r\n    }\r\n    render(){\r\n        return <div>\r\n            <canvas ref={this.canvas}></canvas>\r\n        </div>\r\n    }\r\n    energies = [];\r\n    numberofenergies = [];\r\n    add(e){\r\n        if(isNaN(e)) return;\r\n        if(this.contains(e)){\r\n            this.numberofenergies[this.getIndex(e)]++;\r\n        }else{\r\n            this.energies.push(e);\r\n            this.numberofenergies.push(1);\r\n        }\r\n    }\r\n    contains(e){\r\n        for(var i = 0;i<this.energies.length;i++){\r\n            if(this.energies[i] == e) return true;\r\n        }\r\n        return false;\r\n    }\r\n    getIndex(e){\r\n        for(var i = 0;i<this.energies.length;i++){\r\n            if(Math.abs(this.energies[i] - e) == 0) return i;\r\n        }\r\n        return -1;\r\n    }\r\n    sort(){\r\n        var list = [];\r\n        for (var j = 0; j < this.energies.length; j++)\r\n            list.push({ 'hit': this.energies[j], 'no': this.numberofenergies[j] });\r\n\r\n        list.sort(function (a, b) {\r\n            return ((a.hit < b.hit) ? -1 : ((a.hit == b.hit) ? 0 : 1));\r\n        });\r\n        \r\n        for (var k = 0; k < list.length; k++) {\r\n            this.energies[k] = list[k].hit;\r\n            this.numberofenergies[k] = list[k].no;\r\n        }\r\n        for(var i = 0;i<this.energies.length;i++){\r\n            this.addData(this.energies[i],this.numberofenergies[i]);\r\n        }\r\n    }\r\n    clear(){\r\n        this.chart.destroy();\r\n        let ctx = this.canvas.current.getContext(\"2d\");\r\n        this.chart = new Chart(ctx, {\r\n            // The type of chart we want to create\r\n            type: 'bar',\r\n        \r\n            // The data for our dataset\r\n            data: {\r\n                labels: [],\r\n                datasets: [{\r\n                    label: 'counts',\r\n                    backgroundColor: 'rgb(0, 99, 132)',\r\n                    borderColor: 'rgb(0, 99, 132)',\r\n                    data: []\r\n                }]\r\n            },\r\n        \r\n            // Configuration options go here\r\n            options: { responsive: true,\r\n                plugins: {\r\n                    zoom: {\r\n                        // Container for pan options\r\n                        pan: {\r\n                            // Boolean to enable panning\r\n                            enabled: true,\r\n        \r\n                            // Panning directions. Remove the appropriate direction to disable \r\n                            // Eg. 'y' would only allow panning in the y direction\r\n                            mode: 'xy'\r\n                        },\r\n        \r\n                        // Container for zoom options\r\n                        zoom: {\r\n                            // Boolean to enable zooming\r\n                            enabled: true,\r\n        \r\n                            // Zooming directions. Remove the appropriate direction to disable \r\n                            // Eg. 'y' would only allow zooming in the y direction\r\n                            mode: 'xy',\r\n                        }\r\n                    }\r\n                }\r\n             }\r\n        });\r\n        this.energies = [];\r\n        this.numberofenergies = [];\r\n        \r\n    }\r\n    static save(){\r\n        \r\n    }\r\n    addData(label, data) {\r\n        this.chart.data.labels.push(label);\r\n        this.chart.data.datasets.forEach((dataset) => {\r\n            dataset.data.push(data);\r\n        });\r\n        this.chart.update();\r\n    }\r\n}\r\nexport default Spectrum;","class STLParrser {\r\n    \r\n    static parseData(data){\r\n\r\n        function readInt(data, i) {\r\n            var chars = new Uint8Array([data.charCodeAt(i), data.charCodeAt(i + 1), data.charCodeAt(i + 2), data.charCodeAt(i + 3)]);\r\n    \r\n            return new Int32Array(chars.buffer)[0];\r\n        }\r\n        function readFloat(data, i) {\r\n            var chars = new Uint8Array([data.charCodeAt(i), data.charCodeAt(i + 1), data.charCodeAt(i + 2), data.charCodeAt(i + 3)]);\r\n    \r\n            return new Float32Array(chars.buffer)[0];\r\n        }\r\n\r\n        let res = [];\r\n        var normals = [];\r\n        var size = readInt(data, 80);\r\n        for (var k = 0; k < size; k++) {\r\n            for (var j = 0; j < 9; j++) {\r\n                res.push(readFloat(data, 96 + j * 4 + k * 50));\r\n            }\r\n        }\r\n        for (var k = 0; k < size; k++) {\r\n            for (var j = 0; j < 3; j++) {\r\n                normals.push(readFloat(data, 84 + j * 4 + k * 50));\r\n            }\r\n            for (var j = 0; j < 3; j++) {\r\n                normals.push(readFloat(data, 84 + j * 4 + k * 50));\r\n            }\r\n            for (var j = 0; j < 3; j++) {\r\n                normals.push(readFloat(data, 84 + j * 4 + k * 50));\r\n            }\r\n        }\r\n        let m = new ModelData();\r\n        m.vertices = res;\r\n        m.normals = normals;\r\n\r\n        return m;\r\n    }\r\n}\r\nclass ModelData {\r\n    constructor(){\r\n        this.vertices = [];\r\n        this.normals = [];\r\n    }\r\n}\r\n\r\nexport default STLParrser;","import Detector from '../detector/Detektor';\r\nimport Model from '../rendering/model';\r\nimport {Cube} from '../entities/cube';\r\nimport {ParticleSource} from '../source/ParticleSource';\r\nimport Vector3 from '../utils/maths';\r\nimport {ParticleGun} from '../gun/ParticleGun';\r\nimport GunMesh from '../gun/gun';\r\nimport DetectorButton from '../detector/DetectorButton';\r\nimport React, { Component, createRef } from 'react';\r\n\r\n\r\nclass Parser {\r\n    \r\n    static parse(text, canvas, createDetector, createSource, createGun){\r\n        this.detectors = [];\r\n        this.sources = [];\r\n        let gl = canvas.gl;\r\n\r\n        let blocks = text.split(\"/\");\r\n        for(let i = 0;i<blocks.length;i++){\r\n            let words = blocks[i].split(\"{\");\r\n            words[0] = words[0].replace(' ', '');\r\n            let detector = null;\r\n            let source = null;\r\n            let gun = null;\r\n\r\n            if(words[0] == 'Detector'){\r\n                detector = new Detector(new Model(Cube.vertices,Cube.normals,gl));\r\n            }\r\n            if(words[0] == 'Source'){\r\n                source = new ParticleSource(new Model(Cube.vertices,Cube.normals,gl),new Vector3(0,0,0),\"U235\");\r\n            }\r\n            if(words[0] == 'Gun'){\r\n                gun = new ParticleGun(new Model(Cube.vertices, Cube.normals, gl),new Vector3(0,0,0),new Vector3(0,0,0),0);\r\n            }\r\n            for(let j = 0;j<words.length;j++){\r\n                let lines = words[j].split(\";\");\r\n                for(let k = 0;k<lines.length;k++){\r\n                    if(lines[k].split(\"(\")[0].trim() == 'clear'){\r\n                        \r\n                    }\r\n                    if(lines[k].split(\":\").length == 1) continue;\r\n                    let attribute = lines[k].split(\":\")[0].trim();\r\n                    let params = lines[k].split(\":\")[1].replace(/\\n/g, '');\r\n                    if(words[0] == 'Detector'){\r\n                        switch(attribute){\r\n                            case('position'):\r\n                                detector.model.position.x = parseFloat(params.split(',')[0]);\r\n                                detector.model.position.y = parseFloat(params.split(',')[1]);\r\n                                detector.model.position.z = parseFloat(params.split(',')[2]);\r\n                                break;\r\n                            case('rotation'):\r\n                                detector.model.rotation.x = parseFloat(params.split(',')[0]);\r\n                                detector.model.rotation.y = parseFloat(params.split(',')[1]);\r\n                                detector.model.rotation.z = parseFloat(params.split(',')[2]);\r\n                                break;\r\n                            case('scale'):\r\n                                detector.model.scale.x = parseFloat(params.split(',')[0]);\r\n                                detector.model.scale.y = parseFloat(params.split(',')[1]);\r\n                                detector.model.scale.z = parseFloat(params.split(',')[2]);\r\n                                break;\r\n                            case('material'):\r\n                                detector.material = params.trim();\r\n                                break;\r\n                            case('name'):\r\n                                detector.name = params;\r\n                                break;\r\n                        }\r\n                    }\r\n                    if(words[0] == 'Source'){\r\n                        switch(attribute){\r\n                            case('position'):\r\n                                source.model.position.x = parseFloat(params.split(',')[0]);\r\n                                source.model.position.y = parseFloat(params.split(',')[1]);\r\n                                source.model.position.z = parseFloat(params.split(',')[2]);\r\n                                break;\r\n                            case('material'):\r\n                                source.material = params;\r\n                                break;\r\n                            case('name'):\r\n                                source.name = params;\r\n                                break;\r\n                        }\r\n                    }\r\n                    if(words[0] == 'Gun'){\r\n                        switch(attribute){\r\n                            case('position'):\r\n                                gun.model.position.x = parseFloat(params.split(',')[0]);\r\n                                gun.model.position.y = parseFloat(params.split(',')[1]);\r\n                                gun.model.position.z = parseFloat(params.split(',')[2]);\r\n                                break;\r\n                            case('direction'):\r\n                                gun.direction.x = parseFloat(params.split(',')[0]);\r\n                                gun.direction.y = parseFloat(params.split(',')[1]);\r\n                                gun.direction.z = parseFloat(params.split(',')[2]);\r\n                                break;\r\n                            case('energy'):\r\n                                gun.material = parseFloat(params);\r\n                                break;\r\n                            case('name'):\r\n                                gun.name = params;\r\n                                break;\r\n                        }\r\n                    }\r\n                    \r\n                }\r\n                \r\n            }\r\n            if(gun != null){\r\n                createGun(gun.name, gun.model.position.x,gun.model.position.y,gun.model.position.z,gun.direction.x,gun.direction.y, gun.direction.z,gun.energy);\r\n            }\r\n            if(source != null) {\r\n                createSource(source.name,source.model.position.x, source.model.position.y,source.model.position.z,source.material);\r\n            }\r\n            if(detector != null){\r\n                createDetector(detector.name, detector.model.position.x,detector.model.position.y,detector.model.position.z,\r\n                    detector.model.rotation.x,detector.model.rotation.y,detector.model.rotation.z,\r\n                    detector.model.scale.x,detector.model.scale.y,detector.model.scale.z,detector.material,'cube',Cube.vertices, new Vector3(.1,.1,.1));\r\n                \r\n            }\r\n        } \r\n    }\r\n}\r\n\r\nexport default Parser;","import React, {Component} from 'react';\r\nimport {Form, Button} from 'react-bootstrap';\r\nimport AceEditor from 'react-ace';\r\nimport 'brace/mode/html';\r\nimport Parser from '../utils/Parser';\r\n\r\nclass CodeEditor extends Component{\r\n    constructor(props){\r\n        super(props);\r\n        this.state = {text: '', width: '30%'}\r\n        this.editor = React.createRef();\r\n    }\r\n    render(){\r\n        return <div \r\n        style={{'width':this.state.width,'height':'100%', 'top':'50px',\r\n         'position': 'fixed', 'right':'0', 'z-index':'3', 'border': '0', 'borderRadius' : '0', 'padding':'0', 'margin':'0', 'background-color' : 'white'}}> \r\n\r\n<Button style={{'border' : '0','position':'relative','background-color': 'gray', 'z-index':'3', 'bottom':'0', 'border-radius' : '0', 'border':'solid 1px white'}}\r\nonClick={()=>{\r\n    this.setState({text: ''});\r\n}}>New</Button>\r\n<Button style={{'border' : '0','position':'relative','background-color': 'gray', 'z-index':'3', 'bottom':'0', 'border-radius' : '0', 'border':'solid 1px white'}}>Open</Button>\r\n            <Button \r\n            onClick={()=>{\r\n                Parser.parse(this.state.text, this.props.canvas.current, this.props.createDetector, this.props.createSource, this.props.createGun);\r\n                }}\r\n            style={{'border' : '0','position':'relative','background-color': 'gray', 'z-index':'3', 'bottom':'0', 'border-radius' : '0', 'border':'solid 1px white'}}>Run script</Button>\r\n            \r\n            <AceEditor style={{'z-index' : '2','width':'100%', 'height' : '100%'}} \r\n            ref={this.editor}\r\n            value={this.state.text}\r\n            mode=\"html\"\r\n            onChange={(evt)=>{\r\n                this.setState({text: evt});\r\n            }}>\r\n            </AceEditor>\r\n\r\n        <Button \r\n        onClick={()=>{\r\n            if(this.state.width == '30%'){\r\n                this.setState({width: '0'});\r\n            }else{\r\n                this.setState({width: '30%'});\r\n            }\r\n        }}\r\n        style={{'right': this.state.width, 'position' : 'fixed', 'top': '50%', 'z-index': '3', 'height':'50px', 'background-color': 'gray', 'border' : '0'}}>\r\n        </Button>\r\n        <div style={{'position':'fixed','z-index':'1','background-color' : 'black', 'height' : '100%', 'top' : '0' , 'width' : this.state.width}} />\r\n\r\n        </div>\r\n    }\r\n}\r\n\r\nexport default CodeEditor;","import React, { Component, createRef } from 'react';\nimport logo from './logo.svg';\nimport './App.css';\n\nimport Canvas from './graphics/Canvas.js';\nimport {Button, Card, Accordion,Container, Row, Col, Tabs, Tab, Nav} from 'react-bootstrap';\nimport 'bootstrap/dist/css/bootstrap.min.css';\nimport DetectorButton from './detector/DetectorButton';\nimport NavigationBar from './graphics/NavigationBar';\nimport GunButton from './gun/GunButton';\nimport SourceButton from './source/SourceButton';\nimport Particle from './entities/Particle';\nimport {Vector3} from './utils/maths';\nimport Model from './rendering/model';\nimport Spectrum from './graphics/spectrum';\nimport STLParser from './utils/STLParser';\nimport CodeEditor from './graphics/CodeEditor';\n\nclass App extends Component{\n  constructor(props){\n    super(props);\n    this.spectrum = React.createRef();\n    this.state = {buttons: [], gunbuttons: [], sourcebuttons: [], spectrum: true, page: 'first'}\n    this.createDetector = this.createDetector.bind(this);\n    this.createSource = this.createSource.bind(this);\n    this.createGun = this.createGun.bind(this);\n\n    this.removeDetector = this.removeDetector.bind(this);\n    this.removeGun = this.removeGun.bind(this);\n    this.removeSource = this.removeSource.bind(this);\n\n    this.runSim = this.runSim.bind(this);\n    this.runSpectroscopy = this.runSpectroscopy.bind(this);\n\n    this.setShowParticles = this.setShowParticles.bind(this);\n    this.setShowTracks = this.setShowTracks.bind(this);\n    this.clearRun = this.clearRun.bind(this);\n    this.clearSetup = this.clearSetup.bind(this);\n\n\n    this.accordion = React.createRef();\n    this.canvas = React.createRef();\n\n    \n\n    this.detectors = [];\n    this.guns = [];\n    this.sources = [];\n    this.particles = [];\n    this.tracks = [];\n  }\n  clearRun(){\n    this.canvas.current.clearRun();\n  }\n  runSpectroscopy(number_of_particles, detector, hideDialog, binsize){\n    let message_data = [];\n\n    // particle gun stuff\n    message_data.push(0);\n\n    message_data.push(1);\n\n\n    message_data.push(0);\n    message_data.push(0);\n    message_data.push(0);\n\n    message_data.push(0);\n    message_data.push(0);\n    message_data.push(0);\n\n    message_data.push(0);\n\n    // detector stuff\n    var number_of_detectors = this.detectors.length;\n\n    message_data.push(number_of_detectors);\n\n    for (var i = 0; i < number_of_detectors; i++) {\n\n        message_data.push(\"G4_\" + this.detectors[i].material);\n        message_data.push(this.detectors[i].id);\n        message_data.push(this.detectors[i].model.position.x);\n        message_data.push(this.detectors[i].model.position.y);\n        message_data.push(this.detectors[i].model.position.z);\n\n        message_data.push(this.detectors[i].model.rotation.x);\n        message_data.push(this.detectors[i].model.rotation.y);\n        message_data.push(this.detectors[i].model.rotation.z);\n\n        message_data.push(this.detectors[i].model.scale.x);\n        message_data.push(this.detectors[i].model.scale.y);\n        message_data.push(this.detectors[i].model.scale.z);\n\n        message_data.push(this.detectors[i].model.vertices.length);\n        for (var j = 0; j < this.detectors[i].model.vertices.length; j++) {\n            message_data.push(this.detectors[i].model.vertices[j]);\n        }\n    }\n    //sources\n    var number_of_sources = this.sources.length;\n    message_data.push(number_of_sources);\n    for(var i = 0;i<number_of_sources;i++){\n\n        message_data.push(this.sources[i].material);\n        //message_data.push(detectors[i].id);\n\n        message_data.push(this.sources[i].model.position.x);\n        message_data.push(this.sources[i].model.position.y);\n        message_data.push(this.sources[i].model.position.z);\n    }\n    //guns\n    var number_of_guns = this.guns.length;\n    message_data.push(number_of_guns);\n    for(var i = 0;i<number_of_guns;i++){\n        message_data.push(this.guns[i].model.position.x);\n        message_data.push(this.guns[i].model.position.y);\n        message_data.push(this.guns[i].model.position.z);\n\n        message_data.push(this.guns[i].direction.x);\n        message_data.push(this.guns[i].direction.y);\n        message_data.push(this.guns[i].direction.z);\n\n        message_data.push(this.guns[i].energy);\n    }\n    message_data.push(detector); //selected detector id\n    message_data.push(number_of_particles); //number of particles\n    message_data.push('end');\n    this.sendGamma(message_data, hideDialog, binsize);\n  }\n  runSim(number_of_particles, hidedialog){\n    let message_data = [];\n\n    // particle gun stuff\n    message_data.push(1);\n\n    message_data.push(1);\n\n\n    message_data.push(0);\n    message_data.push(0);\n    message_data.push(0);\n\n    message_data.push(0);\n    message_data.push(0);\n    message_data.push(0);\n\n    message_data.push(0);\n\n    // detector stuff\n    var number_of_detectors = this.detectors.length;\n\n    message_data.push(number_of_detectors);\n\n    for (var i = 0; i < number_of_detectors; i++) {\n\n        message_data.push(\"G4_\" + this.detectors[i].material);\n        message_data.push(this.detectors[i].id);\n        message_data.push(this.detectors[i].model.position.x);\n        message_data.push(this.detectors[i].model.position.y);\n        message_data.push(this.detectors[i].model.position.z);\n\n        message_data.push(this.detectors[i].model.rotation.x);\n        message_data.push(this.detectors[i].model.rotation.y);\n        message_data.push(this.detectors[i].model.rotation.z);\n\n        message_data.push(this.detectors[i].model.scale.x);\n        message_data.push(this.detectors[i].model.scale.y);\n        message_data.push(this.detectors[i].model.scale.z);\n\n        message_data.push(this.detectors[i].model.vertices.length);\n        for (var j = 0; j < this.detectors[i].model.vertices.length; j++) {\n            message_data.push(this.detectors[i].model.vertices[j]);\n        }\n    }\n    //sources\n    var number_of_sources = this.sources.length;\n    message_data.push(number_of_sources);\n    for(var i = 0;i<number_of_sources;i++){\n\n        message_data.push(this.sources[i].material);\n        //message_data.push(detectors[i].id);\n\n        message_data.push(this.sources[i].model.position.x);\n        message_data.push(this.sources[i].model.position.y);\n        message_data.push(this.sources[i].model.position.z);\n    }\n    //guns\n    var number_of_guns = this.guns.length;\n    message_data.push(number_of_guns);\n    for(var i = 0;i<number_of_guns;i++){\n        message_data.push(this.guns[i].model.position.x);\n        message_data.push(this.guns[i].model.position.y);\n        message_data.push(this.guns[i].model.position.z);\n\n        message_data.push(this.guns[i].direction.x);\n        message_data.push(this.guns[i].direction.y);\n        message_data.push(this.guns[i].direction.z);\n\n        message_data.push(this.guns[i].energy);\n    }\n    message_data.push(number_of_particles); //number of particles\n    message_data.push('end');\n    this.send(message_data, hidedialog);\n  }\n  sendGamma(data, hideDialog, binsize){\n    var message = '';\n    for(var i = 0;i<data.length;i++){\n      message += data[i];\n      message += ',';\n    }\n    fetch('http://localhost:9000/gammaAPI',{\n      headers: {\n        'Accept': 'application/json',\n        'Content-Type': 'application/json'\n      },\n      method: 'POST',\n      body: JSON.stringify({data: message})\n    })\n    .then(response => response.text())\n    .then(response => {\n      this.processGammaSpectrum(response, binsize);\n      hideDialog();\n    this.setState({spectrum: false,page: \"second\"});});\n  }\n  send(data, hidedialog){\n    var message = '';\n    for(var i = 0;i<data.length;i++){\n      message += data[i];\n      message += ',';\n    }\n    fetch('http://localhost:9000/gammaAPI',{\n      headers: {\n        'Accept': 'application/json',\n        'Content-Type': 'application/json'\n      },\n      method: 'POST',\n      body: JSON.stringify({data: message})\n    })\n    .then(response => response.text())\n    .then(response => {\n      this.processResponse(response);\n      hidedialog();\n      alert(response);});\n  }\n  processGammaSpectrum(response, binsize){\n    \n    let message = response;\n\n    message = message.split(\" \");\n    this.spectrum.current.clear();\n    for(var i = 0;i<message.length;i++){\n        this.spectrum.current.add(Math.floor(parseFloat(message[i]) / binsize) * binsize);\n    }\n    this.spectrum.current.sort();\n  }\n  processResponse(response){\n    var message = response;\n    alert(message);\n    var floats = message.split(' ');\n    var index = 0;\n    var j = 0;\n    function toNode(p, l) {\n        if (p == 'gamma') return '\"' + l + '\"';\n        if (p == 'e-') return '\"' + l + '\"';\n        if (p == 'e+') return '\"' + l + '\"';\n    }\n    this.particles = [];\n    while (index < floats.length - 1 - this.detectors.length - 1) {\n        var track_data = [];\n        var numberOfSteps = parseInt(floats[index]);\n        if (numberOfSteps == 0) break;\n        var definition = floats[index + 1];\n        for (var i = 0; i < numberOfSteps; i++) {\n            var particle = new Particle();\n            particle.position.x = parseFloat(floats[index + i * 7 + 2]) * .1;\n            particle.position.y = parseFloat(floats[index + i * 7 + 3]) * .1;\n            particle.position.z = parseFloat(floats[index + i * 7 + 4]) * .1;\n            \n            track_data.push(parseFloat(floats[index + i * 7 + 2]) * .1);\n            track_data.push(parseFloat(floats[index + i * 7 + 3]) * .1);\n            track_data.push(parseFloat(floats[index + i * 7 + 4]) * .1);\n\n            particle.definition = definition;\n            particle.track_id = parseInt(floats[index + i * 7 + 5]);\n            particle.parent_id = parseInt(floats[index + i * 7 + 6]);\n            particle.totalEnergy = parseFloat(floats[index + i * 7 + 7]);\n            particle.energyDeposit = parseFloat(floats[index + i * 7 + 8]);\n            \n            particle.color = new Vector3(1,0,0);\n            particle.id = j;\n\n\n            j++;\n            \n            \n            this.particles.push(particle);\n        }\n        index += numberOfSteps * 7 + 2;\n\n        var t_norm = [];\n        for (var k = 0; k < track_data.length; k++) {\n            t_norm.push(1);\n        }\n        \n        var tm = this.canvas.current.addModel(track_data, t_norm);\n        if (definition == \"e-\") tm.color = new Vector3(1, 0, 1);\n        if (definition == \"gamma\") tm.color = new Vector3(1, 1, 1);\n        if (definition == \"e+\") tm.color = new Vector3(1, 1, 0);\n        tm.drawLines = true;\n        this.tracks.push(tm);\n    }\n    \n    \n    let tmp_particles = [];\n    for(var i = 0;i<this.particles.length;i+=Math.ceil(this.particles.length / 10000)){\n        tmp_particles.push(this.particles[i]);\n    }\n    this.particles = tmp_particles.slice();\n    alert(this.particles.length);\n\n    function get_average(particles){\n        var max = 0;\n        for(var i = 0;i<particles.length;i++){\n            max += +particles[i].totalEnergy;\n        }\n        max = max / particles.length;\n\n        return max;\n    }\n    let max = get_average(this.particles) * 2;\n\n    \n    \n    \n    for(let i = 0;i<this.particles.length;i++){\n        if(this.particles[i].totalEnergy > max) this.particles[i].totalEnergy = max;\n        this.particles[i].color.x = 2 * (this.particles[i].totalEnergy / max);\n        this.particles[i].color.y = 1 - this.particles[i].color.x;\n\n        let d = this.particles[i].color.x / 100;\n        this.particles[i].scale = new Vector3(d,d,d);\n        this.canvas.current.addParticle(this.particles[i]);\n    }\n  }\n  modifyDetector(detector){\n    \n  }\n  createSource(n,x,y,z,mat){\n    let bs = this.state.sourcebuttons;\n    let details = <Container>\n      <Row>\n      <Col>Position: </Col>\n      </Row>\n      <Row>\n        <Col>x: {x} cm</Col>\n        <Col>y: {y} cm</Col>\n        <Col>z: {z} cm</Col>\n      </Row>\n      \n      <Row>\n      <Col>Material: {mat}</Col>\n      </Row>\n      </Container>;\n\n    let source = this.canvas.current.addSource(x,y,z,mat);\n    source.id = DetectorButton.id;\n    source.name = n;\n    this.sources.push(source);\n    bs.push(<SourceButton name={n} removebutton={this.removeSource} id={DetectorButton.id} detector={source} details={details} key={++DetectorButton.id} buttons={this.state.buttons}></SourceButton>);\n    this.setState({sourcebuttons: bs});\n  }\n  createGun(n, px, py, pz, dx, dy, dz, energy){\n    let bs = this.state.gunbuttons;\n    let details = <Container>\n      <Row>\n      <Col>Position: </Col>\n      </Row>\n      <Row>\n        <Col>x: {px} cm</Col>\n        <Col>y: {py} cm</Col>\n        <Col>z: {pz} cm</Col>\n      </Row>\n      <Row>\n      <Col>Direction: </Col>\n      </Row>\n      <Row>\n        <Col>x: {dx} </Col>\n        <Col>y: {dy} </Col>\n        <Col>z: {dz} </Col>\n      </Row>\n      <Row>\n      <Col>Energy: {energy} keV</Col>\n      </Row>\n      </Container>;\n\n    let gun = this.canvas.current.addGun(px,py,pz,dx,dy,dz,energy);\n    gun.id = DetectorButton.id;\n    gun.name = n;\n    this.guns.push(gun);\n    bs.push(<GunButton name={n} removebutton={this.removeGun} id={DetectorButton.id} detector={gun} details={details} key={++DetectorButton.id} buttons={this.state.buttons}></GunButton>);\n    this.setState({gunbuttons: bs});\n  }\n  createDetector(n, px, py, pz, rx, ry, rz, sx, sy, sz, material, type, data, color){\n    let bs = this.state.buttons;\n    let details = <Container>\n      <Row>\n      <Col>Position: </Col>\n      </Row>\n      <Row>\n        <Col>x: {px} cm</Col>\n        <Col>y: {py} cm</Col>\n        <Col>z: {pz} cm</Col>\n      </Row>\n      <Row>\n      <Col>Rotation: </Col>\n      </Row>\n      <Row>\n        <Col>x: {rx} deg</Col>\n        <Col>y: {ry} deg</Col>\n        <Col>z: {rz} deg</Col>\n      </Row>\n      <Row>\n      <Col>Scale: </Col>\n      </Row>\n      <Row>\n        <Col>x: {sx}</Col>\n        <Col>y: {sy}</Col>\n        <Col>z: {sz}</Col>\n      </Row>\n      <Row>\n      <Col>Material: </Col>\n      </Row>\n      <Row>\n        <Col>{material}</Col>\n      </Row>\n      </Container>;\n\n    let detector = null;\n    if(type==\"stl\"){\n      let modelData = STLParser.parseData(data);\n      detector = this.canvas.current.addSTLDetector(px,py,pz,rx,ry,rz,sx,sy,sz,material,modelData);\n\n    }else{\n      detector = this.canvas.current.addDetector(px,py,pz,rx,ry,rz,sx,sy,sz,material, type);\n    }\n    detector.id = DetectorButton.id;\n    detector.name = n;\n    detector.model.color = color;\n    this.detectors.push(detector);\n    bs.push(<DetectorButton name={n} removebutton={this.removeDetector} id={DetectorButton.id} detector={detector} details={details} key={++DetectorButton.id} buttons={this.state.buttons}></DetectorButton>);\n    this.setState({buttons: bs});\n  }\n  clearSetup(){\n    this.setState({buttons: [], gunbuttons: [], sourcebuttons: []});\n    for(let i = 0;i<this.detectors.length;i++){\n      this.canvas.current.removeDetector(this.detectors[i]);\n    }\n    for(let i = 0;i<this.sources.length;i++){\n      this.canvas.current.removeSource(this.sources[i]);\n    }\n    for(let i = 0;i<this.guns.length;i++){\n      this.canvas.current.removeGun(this.guns[i]);\n    }\n    this.clearRun();\n  }\n  removeSource(source, button){\n    this.canvas.current.removeSource(source);\n    for(var i = 0;i<this.state.sourcebuttons.length;i++){\n      if(this.state.sourcebuttons[i].key == button.id){\n        let bs = this.state.sourcebuttons;\n        bs.splice(i,1);\n        this.sources.splice(i,1);\n        this.setState({sourcebuttons: bs});\n        return;\n      }\n    }\n  }\n  removeGun(gun, button){\n    this.canvas.current.removeGun(gun);\n    for(var i = 0;i<this.state.gunbuttons.length;i++){\n      if(this.state.gunbuttons[i].key == button.id){\n        let bs = this.state.gunbuttons;\n        bs.splice(i,1);\n        this.guns.splice(i,1);\n        this.setState({gunbuttons: bs});\n        return;\n      }\n    }\n  }\n  removeDetector(detector, button){\n    this.canvas.current.removeDetector(detector);\n    for(var i = 0;i<this.state.buttons.length;i++){\n      if(this.state.buttons[i].key == button.id){\n        let bs = this.state.buttons;\n        bs.splice(i,1);\n        this.detectors.splice(i,1);\n        this.setState({buttons: bs});\n        return;\n      }\n    }\n    \n  }\n  setShowTracks(b){\n    this.canvas.current.setShowTracks(!b);\n  }\n  setShowParticles(b){\n    this.canvas.current.drawParticles = !b;\n  }\n  componentDidMount(){\n    \n  }\n  render(){\n\n    const items = this.state.buttons.map(function(item){\n      return <div> {item} </div>;\n    });\n    const gunButtons = this.state.gunbuttons.map(function(item){\n      return <div> {item} </div>\n    });\n    const sourceButtons = this.state.sourcebuttons.map(function(item){\n      return <div> {item} </div>\n    });\n    return <div>\n    <Tab.Container id=\"left-tabs-example\" defaultActiveKey=\"first\" activeKey={this.state.page}>\n    <Col sm={3}>\n      <Nav variant=\"pills\" className=\"flex-column\"  className='page'>\n        <Nav.Item>\n          <Nav.Link eventKey=\"first\" onClick={()=>{this.setState({page: 'first'});}}>simulation</Nav.Link>\n        </Nav.Item>\n        <Nav.Item>\n          <Nav.Link eventKey=\"second\"  disabled={this.state.spectrum} onClick={()=>{this.setState({page: 'second'});}}>spectrum</Nav.Link>\n        </Nav.Item>\n      </Nav>\n    </Col>\n      <Tab.Content>\n        <Tab.Pane eventKey=\"first\">\n        <Canvas ref={this.canvas} style={{overflow: 'hidden'}}></Canvas>\n    <CodeEditor createGun={this.createGun} createSource={this.createSource} createDetector={this.createDetector} canvas={this.canvas} />\n\n        <NavigationBar run={this.runSim} \n        className=\"navbar\"\n        runspectroscopy={this.runSpectroscopy}\n        createbutton={this.createDetector} \n        creategunbutton={this.createGun} \n        createsourcebutton={this.createSource} \n        setshowtracks={this.setShowTracks}\n        setshowparticles={this.setShowParticles}\n        clearrun={this.clearRun}\n        clearSetup={this.clearSetup}\n        detectors={this.detectors}\n        buttons={this.state.buttons}></NavigationBar>\n        <div className='buttonbackground'>\n        </div>\n        <div className=\"accordion\">\n        <Accordion ref={this.accordion} defaultActiveKey=\"0\" className='accordion'>\n          <div style={{color: 'white', 'text-align':'center', 'background-color' : 'gray', 'border' : '1px solid white'}}>\n          Detectors\n          </div>\n          {items}\n          <div style={{color: 'white', 'text-align':'center', 'background-color' : 'gray', 'border' : '1px solid white'}}>\n          Sources\n          </div>\n          {sourceButtons}\n          <div style={{color: 'white', 'text-align':'center', 'background-color' : 'gray', 'border' : '1px solid white'}}>\n          Guns\n          </div>\n          {gunButtons}\n        </Accordion>\n        </div>\n        </Tab.Pane>\n        <Tab.Pane eventKey=\"second\">\n          <Spectrum ref={this.spectrum}></Spectrum>\n        </Tab.Pane>\n      </Tab.Content>\n</Tab.Container>\n\n    \n  </div>\n    \n  }\n}\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' },\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}