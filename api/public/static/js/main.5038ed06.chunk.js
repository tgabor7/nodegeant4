(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{126:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAOEAAADhCAMAAAAJbSJIAAAAh1BMVEX///8AAAD39/dXV1dra2tnZ2f6+vpubm5aWlphYWF1dXUjIyP8/Px8fHweHh5UVFRDQ0Pw8PA7Ozvf399LS0vU1NSdnZ0aGhrr6+vOzs4yMjLa2tqmpqasrKzAwMAoKCiKiooRERG7u7uPj48vLy96enqWlpYLCwtISEi+vr6hoaE3Nzc/Pz/54TKiAAAIzUlEQVR4nO2daVvqPBCGW8QNEVFAQFQo4HLE///7Xha7TyaTNplJeft8OtdpG+Y2bbM08yQImq3FT++yu5pJh+FM7y/hSW/SkbhR/zZM1JMOxoVGYVa7R+l4rGsRFjSSjsiyJkXAMHyXjsmqSjVY9X3zOFm/fW42q5PuM+rtdb1X97KoW0j5U7rXWfVy+jgW312gcc0gwDD8NKObvV7C5XDoFf/Dqy5bGeA9LzmBisLvt06kvPCDyDe54YOBhNdgZ4BcSmoYJ0M2FFiaW3SKXnyt5XsUfPpOwgGBZiIvHeIbBwOqHzzAlbYA9Ea9umBAwKUBDIKutoh79cUj7cXO9awDDIKxtpCV6tJ3BgKNSG32VlvMBr5Q/hEkdkqQ9jAWeCt4AKj405ek7NOkAvoMa/cAOuGAsygdAir6pVmti9drmxn30gDuz0jnY8CxRV6FwRSh3l1LD5hFJNTIPFfAk+Pw9cJfMnE7liLO9UVOMgVsnAZPEd4Opg11RUT5lh7vyWTjSxEJzXcyjt45i5wofDyYrwAjxL/pKfGGovRmRwCzk2p6xOh04pebuMmaK9BgQDPEY5sh3ZnBJ52gls8A8TitgY+Zjxpv1vPFaDSazWaPe3Us6eoglE/RtNMRtwHhrTtca6JwKFXfJUXUhb8/RTNr8YDfRG6l7pylUeGI0/2wHgcUnSrHep9ExJsg+Icdf5C7PwNd3zNFxP4Qr0HwgRxGJjwYpOtcp30yBHE/4rpTH6UOSN1IP3ogdDv3ddRRF+B3DeYRVUNitKAHOTo0LhPEw7Oq7pN25PBIQyMC4rFD/6O6VrSZoAJm+7TlaYrTkEw1SS56j9IBc4hR/sjfoFrVWEh+9zcBVCPGH3h68GUXMmxHmQFmEbNfFpMxp4JQ8Ck0Bcwh3pX/T0EogXZSlY8n5VrMPGQwof5DqitV+zpUrMXsUj6YUGwlXNXPXxnE6bEzmgomlHqTVv++l63F/GJMmLDPjXZSnQ+YyuksmJATK1W9L7QqRJDwixUsVt1pWwUiSBjxop1Uf14aRvTmLrUx8Q4iXntCaOfLAjSt5AmhHcAJVLQfhHYA4ZldLwjtfDlRTF37QOgU0AdCt4AeENoBVPekxQkd16A8oesaFCd0DyhMyAAoS8gBKErIAihJ+MoCKEjIBChHyAUoRqj85mUbUIrQDiAph1uGkBFQhpADsB/P+UoQstTgMP6HACEL4G/CwE/4zAH4FMoRcgGKEbIA7rIMzIQcgP2XHAMvIQvgNs/ASsgBeBVnJ0oQ2gHETUyuEh+B+H/grNrmAqaLSfkJrQB+4YCdzGpZdkKOGsy5LXATctTgVW69MzOhFcCIfouyE3IAXhVWrLMSsgAW7WY4Ca0ATvFV2SVATkIOQMBngY+QBfBXzeCc0ArgQAP4jTC4JmQBBD1nmAg/bQDeaQDx0YNjQhufl+50CXRw6hYToQVEXQ0GAWy8xkVYG3GpT4EUJqyJuCQsV5YmrIW4pSSxChHOvi0gvpAWnAu9adaZzKKqiDRAKcJ9weOaiERAKcJDMcn3n0qIT9SfkiE8Zbn+1kAkAwoRbophmiL+IoUXBLt9uiaMx2vps2SGaAAoQ5jmHW8rIQ6xwr0gzNCk3S46ohGgDGHGED4zNqAimgHKEOZKWyajAxriN1ayJ4SFXN6BEeIYK5lOGD//bgiLWf4miMaAChuomBB2GKpLWGqD6YjmgBKEgEdFlCDiGUBVvBwECKF6miaT8hhiJbMKAULQ0p2CWM2Ng5+wD4f/pUWs6FXBT6jyfUgRYfutqmYcOKGL1kJtm54sFIHStm+q/h4/IWKuhSBWBuQnRI2alYjVAfkJ8VX4CWL+ab2t8YPshJrdB0DEOoD8hDggiFgLkJ1Q7xGUZEnEpmyXtQDZCe+1hEXEmoDshNg+NyXEg6djtxZeoCKMZxasE9K8wZO83UV9QMXf1BkhMWMrMXiwYGfETPhAI9RYXBuJl1AxrnCKyEto4IRkzfWOl5DQViSy5ZnGS0h3sB++2toClpWQuo/E2BpewExIyku7Xdv1t2Ul1LYVu9Xcut0dJ6HG4L23drKnLSch0laMn50Z9HMSKtqK6OPdpbM0JyFYeT+unTQZCUttRXT/zrD3ACNhvq1wX3l/YiTM7L3Y46i8P8Hzsy4I410I2CrvT3yEh7aC58nLi4/w+uLNYm+TLj5CKbWELaH/aglbQv8FE0p6DNlWS9gS+q+WsCX0Xy1hS+i/8Lyn8yf0Zo+SGsLzLVrCJqglPFPCZM+qcyAE17WdP2EUHz1/QninVcl4zQUSTuOjLWETFEEIg/govLZAMl5zgYR38dGzJVzGR/+nhDJ7WFZWBcIpVp5/Agm38dFzuEvBNa0JIZwrKBmvseCl5S/xYZhQZMFBVXVABA2h4Nbq5pqACLv4MEy4kovXXLCHQeL9AxMusRJ9E5ysnVj4KLKSpbYeryBFDkviAKMgvJeM2UyK5P7EAmYDHw9drum1qxcYIHEQUXnEbiSDNpFqaXmSG65MpnOyqt6BVMn/vfgEpQtHBZ8YCamesnAVnwE3lwf9yIVNlzr8JG3sUXmKzRxIVyJFjySbed8odpCs6vQ9AvcITnKW5WJHj3AS91GD9DTUmWotF75e6mcwzHVZUCeS9J3rn3Az9OxLZIee6Ws1zhETnIOy5+qSIrceMv4baoL+yJ4ND5Fz6r559FodreHVFTnl35Hw56eSli8H7Z4OGh41Puohp4uibiDlT3ko6Fjs9+EXfg8/tjv87na5192AYroRlrwl8XdNI1XsrBBqvVkqWfQifZ9mqtxTsbLPhj+CGnHYe7+pgtLhqVYIjRA8JrKz07kXWoGAZ/Q+VRuEQlsmNVBbJSC0r1cDFWGzoP0zQBzgM4R9XYfde22189jYjEYDRPGwtbMdqpBo0/SLSDrOyiJPfpqYdXmknoFz0WisL883/RrOe84b1vovKyw7WBBnNnzQRcWvD/11I5qOp+daC2MWb6sL4tSPhIYrinXYf/6Tr8nVKFbTAAAAAElFTkSuQmCC"},190:function(e,t,a){e.exports=a(489)},194:function(e,t,a){},195:function(e,t,a){e.exports=a.p+"static/media/logo.5d5d9eef.svg"},27:function(e,t,a){},489:function(e,t,a){"use strict";a.r(t);var r=a(0),n=a.n(r),o=a(17),i=a.n(o),s=(a(194),a(4)),l=a(6),c=a(9),u=a(10),d=a(11),h=a(12),m=(a(195),a(27),function(){function e(t,a,r){Object(l.a)(this,e),this.gl=r;var n=a.vertexShader,o=a.fragmentShader,i=r.createShader(r.VERTEX_SHADER),s=r.createShader(r.FRAGMENT_SHADER);if(r.shaderSource(i,n),r.shaderSource(s,o),r.compileShader(i),r.getShaderParameter(i,r.COMPILE_STATUS))if(r.compileShader(s),r.getShaderParameter(s,r.COMPILE_STATUS)){this.program=r.createProgram(),r.attachShader(this.program,i),r.attachShader(this.program,s);for(var c=0;c<t.length;c++)r.bindAttribLocation(this.program,t[c][0],t[c][1]);r.linkProgram(this.program),r.getProgramParameter(this.program,r.LINK_STATUS)?(r.validateProgram(this.program),r.getProgramParameter(this.program,r.VALIDATE_STATUS)||console.error("ERROR validating program!",r.getProgramInfoLog(this.program))):console.error("ERROR linking program!",r.getProgramInfoLog(this.program))}else console.error("ERROR compiling fragment shader!",r.getShaderInfoLog(s));else console.error("ERROR compiling vertex shader!",r.getShaderInfoLog(i))}return Object(c.a)(e,[{key:"bind",value:function(){this.gl.useProgram(this.program)}},{key:"unBind",value:function(){this.gl.useProgram(null)}},{key:"setUniform",value:function(e,t){var a=this.gl.getUniformLocation(this.program,e);-1!=a&&this.gl.uniform1f(a,t)}},{key:"setUniform1i",value:function(e,t){var a=this.gl.getUniformLocation(this.program,e);-1!=a&&this.gl.uniform1i(a,t)}},{key:"setUniform3f",value:function(e,t,a,r){var n=this.gl.getUniformLocation(this.program,e);-1!=n&&this.gl.uniform3f(n,t,a,r)}},{key:"setUniform4fv",value:function(e,t){var a=this.gl.getUniformLocation(this.program,e);-1!=a&&this.gl.uniformMatrix4fv(a,!1,t)}}]),e}()),p=a(189),v=function(e){Object(d.a)(a,e);var t=Object(h.a)(a);function a(){var e;return Object(l.a)(this,a),(e=t.call(this,16))[0]=1,e[5]=1,e[10]=1,e[15]=1,e}return a}(Object(p.a)(Float64Array)),g=function e(t,a,r){Object(l.a)(this,e),this.x=t,this.y=a,this.z=r},f=function e(t,a,r,n,o){Object(l.a)(this,e),this.x=t,this.y=a,this.d=r,this.p=n,this.a=o},b=function(){function e(){Object(l.a)(this,e)}return Object(c.a)(e,null,[{key:"scale",value:function(e,t){for(var a=new v,r=0;r<16;r++)a[r]=e[r];return a[0]=a[0]*t.x,a[1]=a[1]*t.x,a[2]=a[2]*t.x,a[4]=a[4]*t.y,a[5]=a[5]*t.y,a[6]=a[6]*t.y,a[8]=a[8]*t.z,a[9]=a[9]*t.z,a[10]=a[10]*t.z,a}},{key:"translate",value:function(e,t){for(var a=new v,r=0;r<16;r++)a[r]=e[r];return a[12]=e[0]*t.x+e[4]*t.y+e[8]*t.z+e[12],a[13]=e[1]*t.x+e[5]*t.y+e[9]*t.z+e[13],a[14]=e[2]*t.x+e[6]*t.y+e[10]*t.z+e[14],a[15]=e[3]*t.x+e[7]*t.y+e[11]*t.z+e[15],a}},{key:"normalize",value:function(e){var t=new g;t.x=e.x,t.y=e.y,t.z=e.z;var a=Math.sqrt(e.x*e.x+e.y*e.y+e.z*e.z);return t.x/=a,t.y/=a,t.z/=a,t}},{key:"mulVectorDouble",value:function(e,t){var a=new g(0,0,0);return a.x=e.x,a.y=e.y,a.z=e.z,a.x*=t,a.y*=t,a.z*=t,a}},{key:"cross",value:function(e,t){var a=new g(0,0,0);return a.x=e.y*t.z-e.z*t.y,a.y=e.z*t.x-e.x*t.z,a.z=e.x*t.y-e.y*t.x,a}},{key:"lookAt",value:function(e,t,a){var r=new g(0,0,0),n=new g(0,0,0);r.x=t.x-e.x,r.y=t.y-e.y,r.z=t.z-e.z,r=this.normalize(r);var o=new g(0,0,0);o=this.cross(r,a),o=this.normalize(o),n=this.cross(o,r);var i=new v;return i[0]=o.x,i[1]=o.y,i[2]=o.z,i[4]=n.x,i[5]=n.y,i[6]=n.z,i[8]=-r.x,i[9]=-r.y,i[10]=-r.z,i=this.invert(i)}},{key:"invert",value:function(e){var t=new v,a=new v,r=0;a[0]=e[5]*e[10]*e[15]-e[5]*e[11]*e[14]-e[9]*e[6]*e[15]+e[9]*e[7]*e[14]+e[13]*e[6]*e[11]-e[13]*e[7]*e[10],a[4]=-e[4]*e[10]*e[15]+e[4]*e[11]*e[14]+e[8]*e[6]*e[15]-e[8]*e[7]*e[14]-e[12]*e[6]*e[11]+e[12]*e[7]*e[10],a[8]=e[4]*e[9]*e[15]-e[4]*e[11]*e[13]-e[8]*e[5]*e[15]+e[8]*e[7]*e[13]+e[12]*e[5]*e[11]-e[12]*e[7]*e[9],a[12]=-e[4]*e[9]*e[14]+e[4]*e[10]*e[13]+e[8]*e[5]*e[14]-e[8]*e[6]*e[13]-e[12]*e[5]*e[10]+e[12]*e[6]*e[9],a[1]=-e[1]*e[10]*e[15]+e[1]*e[11]*e[14]+e[9]*e[2]*e[15]-e[9]*e[3]*e[14]-e[13]*e[2]*e[11]+e[13]*e[3]*e[10],a[5]=e[0]*e[10]*e[15]-e[0]*e[11]*e[14]-e[8]*e[2]*e[15]+e[8]*e[3]*e[14]+e[12]*e[2]*e[11]-e[12]*e[3]*e[10],a[9]=-e[0]*e[9]*e[15]+e[0]*e[11]*e[13]+e[8]*e[1]*e[15]-e[8]*e[3]*e[13]-e[12]*e[1]*e[11]+e[12]*e[3]*e[9],a[13]=e[0]*e[9]*e[14]-e[0]*e[10]*e[13]-e[8]*e[1]*e[14]+e[8]*e[2]*e[13]+e[12]*e[1]*e[10]-e[12]*e[2]*e[9],a[2]=e[1]*e[6]*e[15]-e[1]*e[7]*e[14]-e[5]*e[2]*e[15]+e[5]*e[3]*e[14]+e[13]*e[2]*e[7]-e[13]*e[3]*e[6],a[6]=-e[0]*e[6]*e[15]+e[0]*e[7]*e[14]+e[4]*e[2]*e[15]-e[4]*e[3]*e[14]-e[12]*e[2]*e[7]+e[12]*e[3]*e[6],a[10]=e[0]*e[5]*e[15]-e[0]*e[7]*e[13]-e[4]*e[1]*e[15]+e[4]*e[3]*e[13]+e[12]*e[1]*e[7]-e[12]*e[3]*e[5],a[14]=-e[0]*e[5]*e[14]+e[0]*e[6]*e[13]+e[4]*e[1]*e[14]-e[4]*e[2]*e[13]-e[12]*e[1]*e[6]+e[12]*e[2]*e[5],a[3]=-e[1]*e[6]*e[11]+e[1]*e[7]*e[10]+e[5]*e[2]*e[11]-e[5]*e[3]*e[10]-e[9]*e[2]*e[7]+e[9]*e[3]*e[6],a[7]=e[0]*e[6]*e[11]-e[0]*e[7]*e[10]-e[4]*e[2]*e[11]+e[4]*e[3]*e[10]+e[8]*e[2]*e[7]-e[8]*e[3]*e[6],a[11]=-e[0]*e[5]*e[11]+e[0]*e[7]*e[9]+e[4]*e[1]*e[11]-e[4]*e[3]*e[9]-e[8]*e[1]*e[7]+e[8]*e[3]*e[5],a[15]=e[0]*e[5]*e[10]-e[0]*e[6]*e[9]-e[4]*e[1]*e[10]+e[4]*e[2]*e[9]+e[8]*e[1]*e[6]-e[8]*e[2]*e[5],r=1/(r=e[0]*a[0]+e[1]*a[4]+e[2]*a[8]+e[3]*a[12]);for(var n=0;n<16;n++)t[n]=a[n]*r;return t}},{key:"rotate",value:function(e,t,a){var r=new v,n=t,o=Math.cos(n),i=Math.sin(n),s=new g(0,0,0);s.x=a.x,s.y=a.y,s.z=a.z;var l=new g(s.x*(1-o),s.y*(1-o),s.z*(1-o));r[0]=o+l.x*s.x,r[1]=l.x*s.y+i*s.z,r[2]=l.x*s.z-i*s.y,r[4]=l.y*s.x-i*s.z,r[5]=o+l.y*s.y,r[6]=l.y*s.z+i*s.x,r[8]=l.z*s.x+i*s.y,r[9]=l.z*s.y-i*s.x,r[10]=o+l.z*s.z;for(var c=new v,u=0;u<16;u++)c[u]=e[u];return c[0]=e[0]*r[0]+e[4]*r[1]+e[8]*r[2],c[1]=e[1]*r[0]+e[5]*r[1]+e[9]*r[2],c[2]=e[2]*r[0]+e[6]*r[1]+e[10]*r[2],c[4]=e[0]*r[4]+e[4]*r[5]+e[8]*r[6],c[5]=e[1]*r[4]+e[5]*r[5]+e[9]*r[6],c[6]=e[2]*r[4]+e[6]*r[5]+e[10]*r[6],c[8]=e[0]*r[8]+e[4]*r[9]+e[8]*r[10],c[9]=e[1]*r[8]+e[5]*r[9]+e[9]*r[10],c[10]=e[2]*r[8]+e[6]*r[9]+e[10]*r[10],c[12]=e[12],c[13]=e[13],c[14]=e[14],c}},{key:"mul",value:function(e,t){for(var a=new v,r=0;r<4;r++)for(var n=0;n<4;n++){a[4*r+n]=0;for(var o=0;o<4;o++)a[4*r+n]+=t[4*r+o]*e[4*o+n]}return a}},{key:"createTransformationMatrix",value:function(t,a,r,n,o,i,s,l,c){var u=new v;return u=e.translate(u,new g(t,a,r)),u=e.rotate(u,n,new g(1,0,0)),u=e.rotate(u,o,new g(0,1,0)),u=e.rotate(u,i,new g(0,0,1)),u=e.scale(u,new g(s,l,c))}},{key:"createViewMatrix",value:function(e){var t=new v;return t=this.lookAt(e.p,e.a,new g(0,1,0)),t=this.translate(t,new g(-e.p.x,-e.p.y,-e.p.z))}},{key:"createBillBoardMatrix",value:function(e){var t=new v;return t=this.lookAt(e.p,e.a,new g(0,1,0)),t=this.translate(t,new g(-e.p.x,-e.p.y,-e.p.z))}},{key:"createProjectionMatrix",value:function(e,t,a,r,n){var o=r/n,i=1/Math.tan(e/2/360*3.14)*o,s=i/o,l=a-t,c=new v;return c[0]=s,c[5]=i,c[10]=-(a+t)/l,c[11]=-1,c[14]=-2*t*a/l,c[15]=0,c}},{key:"ortho",value:function(e,t,a,r,n,o){var i=new v;return i[0]=2/(t-e),i[5]=2/(r-a),i[10]=-2/(o-n),i[12]=-(t+e)/(t-e),i[13]=-(r+a)/(r-a),i[14]=-(o+n)/(o-n),i}},{key:"distance",value:function(e,t){return Math.sqrt(e.x*t.x+e.y*t.y+e.z*t.z)}}]),e}(),y=v,E=function e(){Object(l.a)(this,e)};E.vertexShader="precision mediump float;attribute vec2 vertPosition;uniform mat4 projection;uniform mat4 transformation;uniform mat4 view;varying vec2 tex_coords;void main(){vec4 pos =  projection * view * transformation * vec4(vertPosition, 0.0, 1.0);tex_coords = vertPosition * 0.5 + 0.5;tex_coords.y = 1.0-tex_coords.y;gl_Position = pos;}",E.fragmentShader="precision mediump float;uniform sampler2D sampler;uniform float width;uniform float height;uniform float distance;varying vec2 tex_coords;int mod(int a, int b){\treturn a - b * int(a/b);}void main(){vec4 color = vec4(1.0);gl_FragColor = color;}";var x=function(){function e(t){Object(l.a)(this,e),this.gl=t,this.shader=new m([0,"vertPosition"],E,t),this.vertices=[-1,1,1,1,-1,-1,1,-1,1,1,-1,-1],this.vertical=[1,0,-1,0],this.horizontal=[0,1,0,0,-1,0],this.vao=this.gl.createVertexArray(),this.gl.bindVertexArray(this.vao),this.gl.enableVertexAttribArray(0),this.vbo=t.createBuffer(),this.gl.bindBuffer(t.ARRAY_BUFFER,this.vbo),this.gl.bufferData(t.ARRAY_BUFFER,new Float32Array(this.vertical),t.STATIC_DRAW,0),this.gl.vertexAttribPointer(0,2,t.FLOAT,t.FALSE,0,0),this.gl.bindVertexArray(null),this.gl.disableVertexAttribArray(0)}return Object(c.a)(e,[{key:"draw",value:function(e,t,a,r,n){var o=1;n>100&&(o=100);for(var i=-100;i<100;i++){this.shader.bind(),this.gl.enable(this.gl.DEPTH_TEST),this.gl.disable(this.gl.CULL_FACE);var s=b.createViewMatrix(t),l=b.createTransformationMatrix(0,0,i*o+.5,0,0,0,100*o,1,1);this.shader.setUniform4fv("transformation",l),this.shader.setUniform4fv("view",s),this.shader.setUniform4fv("projection",e),this.shader.setUniform("width",a),this.shader.setUniform("height",r),this.shader.setUniform("distance",n),this.gl.enableVertexAttribArray(0),this.gl.bindVertexArray(this.vao),this.gl.drawArrays(this.gl.LINES,0,this.vertical.length),this.gl.bindVertexArray(null),this.gl.disableVertexAttribArray(0),this.shader.unBind()}for(i=-100;i<100;i++){this.shader.bind();s=b.createViewMatrix(t),l=b.createTransformationMatrix(i*o+.5,0,0,0,1.57,0,100*o,1,1);this.shader.setUniform4fv("transformation",l),this.shader.setUniform4fv("view",s),this.shader.setUniform4fv("projection",e),this.shader.setUniform("width",a),this.shader.setUniform("height",r),this.shader.setUniform("distance",n),this.gl.enableVertexAttribArray(0),this.gl.bindVertexArray(this.vao),this.gl.drawArrays(this.gl.LINES,0,this.vertical.length),this.gl.bindVertexArray(null),this.gl.disableVertexAttribArray(0),this.shader.unBind()}}}]),e}(),w=function e(){Object(l.a)(this,e)};w.vertexShader="precision mediump float;attribute vec3 vertPosition;attribute vec3 normal;varying vec2 tex_coords;varying vec3 Normal;varying vec3 fragPos;uniform mat4 projection;uniform mat4 transformation;uniform mat4 view;void main(){gl_Position = projection * view * transformation * vec4(vertPosition, 1.0);fragPos = vec3(transformation * vec4(vertPosition, 1.0));Normal = normal;}",w.fragmentShader="precision mediump float;varying vec2 tex_coords;varying vec3 Normal;varying vec3 fragPos;uniform vec3 color;uniform sampler2D sampler;void main(){vec3 norm = normalize(Normal);vec3 lightDir = normalize(vec3(100) - fragPos);float diff = max(dot(norm, lightDir), 0.0); vec3 diffuse = diff * vec3(1); gl_FragColor = vec4((vec3(.1)+diffuse)*color,1.0);}";var A=function(){function e(t,a,r){Object(l.a)(this,e),this.vertices=t,this.normals=a,this.gl=r,this.color=new g(.1,.1,.1),this.drawLines=!0,this.outline=!0,this.position=new g(0,0,0),this.rotation=new g(0,0,0),this.scale=new g(1,1,1),this.vao=r.createVertexArray(),r.bindVertexArray(this.vao),this.vbo=r.createBuffer(),r.bindBuffer(r.ARRAY_BUFFER,this.vbo),r.bufferData(r.ARRAY_BUFFER,new Float32Array(t),r.STATIC_DRAW,0),r.vertexAttribPointer(0,3,r.FLOAT,r.FALSE,0,0),this.nvbo=r.createBuffer(),r.bindBuffer(r.ARRAY_BUFFER,this.nvbo),r.bufferData(r.ARRAY_BUFFER,new Float32Array(this.normals),r.STATIC_DRAW,0),r.vertexAttribPointer(1,3,r.FLOAT,r.FALSE,0,0),r.bindVertexArray(null)}return Object(c.a)(e,[{key:"draw",value:function(){this.drawLines?this.gl.drawArrays(this.gl.LINE_STRIP,0,this.vertices.length/3):this.gl.drawArrays(this.gl.TRIANGLES,0,this.vertices.length/3)}}]),e}(),S=function e(){Object(l.a)(this,e)};S.vertices=[.5,.5,.5,-.5,.5,.5,-.5,-.5,.5,.5,.5,.5,-.5,-.5,.5,.5,-.5,.5,.5,-.5,-.5,.5,-.5,.5,-.5,-.5,.5,.5,-.5,-.5,-.5,-.5,.5,-.5,-.5,-.5,-.5,-.5,-.5,-.5,-.5,.5,-.5,.5,.5,-.5,-.5,-.5,-.5,.5,.5,-.5,.5,-.5,-.5,.5,-.5,.5,.5,-.5,.5,-.5,-.5,-.5,.5,-.5,.5,-.5,-.5,-.5,-.5,-.5,.5,.5,-.5,.5,.5,.5,.5,-.5,.5,.5,.5,-.5,.5,-.5,.5,.5,-.5,-.5,-.5,.5,-.5,-.5,.5,.5,.5,.5,.5,-.5,.5,-.5,.5,.5,.5,.5,.5,-.5],S.normals=[0,0,1,0,0,1,0,0,1,0,0,1,0,0,1,0,0,1,0,-1,0,0,-1,0,0,-1,0,0,-1,0,0,-1,0,0,-1,0,-1,0,0,-1,0,0,-1,0,0,-1,0,0,-1,0,0,-1,0,0,0,0,-1,0,0,-1,0,0,-1,0,0,-1,0,0,-1,0,0,-1,1,0,0,1,0,0,1,0,0,1,0,0,1,0,0,1,0,0,0,1,0,0,1,0,0,1,0,0,1,0,0,1,0,0,1,0];var k=function(){function e(t){Object(l.a)(this,e),this.shader=new m([[0,"vertPosition"],[1,"normal"]],w,t),this.models=[],this.sources=[],this.detectors=[],this.guns=[],this.particles=[],this.gl=t,this.addModel(new A([1,0,0,-1,0,0],[1,1,1,1,1,1],t)),this.addModel(new A([0,1,0,0,-1,0],[1,1,1,1,1,1],t)),this.addModel(new A([0,0,1,0,0,-1],[1,1,1,1,1,1],t)),this.addModel(new A([0,0,1,0,0,-1],[1,1,1,1,1,1],t)),this.models[0].color=new g(1,0,0),this.models[1].color=new g(0,1,0),this.models[2].color=new g(0,0,1),this.models[3].color=new g(0,0,1),this.drawTracks=!0,this.drawParticles=!0}return Object(c.a)(e,[{key:"removeDetector",value:function(e){for(var t=0;t<this.detectors.length;t++)this.detectors[t]==e&&this.detectors.splice(t,1)}},{key:"removeGun",value:function(e){for(var t=0;t<this.guns.length;t++)this.guns[t]==e&&this.guns.splice(t,1)}},{key:"removeSource",value:function(e){for(var t=0;t<this.sources.length;t++)this.sources[t]==e&&this.sources.splice(t,1)}},{key:"addModel",value:function(e){this.models.push(e)}},{key:"addParticles",value:function(e){this.particles.push(e)}},{key:"addGun",value:function(e){this.guns.push(e)}},{key:"addSource",value:function(e){this.sources.push(e)}},{key:"addDetector",value:function(e){this.detectors.push(e)}},{key:"clearTracks",value:function(){this.models=[],this.addModel(new A([1,0,0,-1,0,0],[1,1,1,1,1,1],this.gl)),this.addModel(new A([0,1,0,0,-1,0],[1,1,1,1,1,1],this.gl)),this.addModel(new A([0,0,1,0,0,-1],[1,1,1,1,1,1],this.gl)),this.addModel(new A([0,0,1,0,0,-1],[1,1,1,1,1,1],this.gl)),this.models[0].color=new g(1,0,0),this.models[1].color=new g(0,1,0),this.models[2].color=new g(0,0,1),this.models[3].color=new g(0,0,1)}},{key:"draw",value:function(t,a){this.gl.disable(this.gl.DEPTH_TEST),this.shader.bind();for(var r=0;r<this.detectors.length;r++)if(this.detectors[r].id==e.acitve_id-1&&this.detectors[r].id==e.acitve_id-1){this.gl.enableVertexAttribArray(0),this.gl.enableVertexAttribArray(1),this.gl.bindVertexArray(this.detectors[r].model.vao);var n=b.createTransformationMatrix(this.detectors[r].model.position.x,this.detectors[r].model.position.y,this.detectors[r].model.position.z,this.detectors[r].model.rotation.x,this.detectors[r].model.rotation.y,this.detectors[r].model.rotation.z,1.01*this.detectors[r].model.scale.x,1.01*this.detectors[r].model.scale.y,1.01*this.detectors[r].model.scale.z);this.shader.setUniform3f("color",1,.4,0),this.shader.setUniform1i("sampler",0),this.shader.setUniform4fv("view",b.createViewMatrix(a)),this.shader.setUniform4fv("projection",t),this.shader.setUniform4fv("transformation",n),this.detectors[r].model.draw(),this.gl.disableVertexAttribArray(0),this.gl.disableVertexAttribArray(1)}for(var o=0;o<this.detectors.length;o++){this.gl.enable(this.gl.DEPTH_TEST),this.gl.enableVertexAttribArray(0),this.gl.enableVertexAttribArray(1),this.gl.bindVertexArray(this.detectors[o].model.vao);var i=b.createTransformationMatrix(this.detectors[o].model.position.x,this.detectors[o].model.position.y,this.detectors[o].model.position.z,this.detectors[o].model.rotation.x,this.detectors[o].model.rotation.y,this.detectors[o].model.rotation.z,this.detectors[o].model.scale.x,this.detectors[o].model.scale.y,this.detectors[o].model.scale.z);this.shader.setUniform3f("color",this.detectors[o].model.color.x,this.detectors[o].model.color.y,this.detectors[o].model.color.z),this.shader.setUniform1i("sampler",0),this.shader.setUniform4fv("view",b.createViewMatrix(a)),this.shader.setUniform4fv("projection",t),this.shader.setUniform4fv("transformation",i),this.detectors[o].model.draw(),this.gl.disableVertexAttribArray(0),this.gl.disableVertexAttribArray(1)}for(var s=0;s<this.guns.length;s++){this.gl.enableVertexAttribArray(0),this.gl.enableVertexAttribArray(1),this.gl.bindVertexArray(this.guns[s].model.vao);var l=b.createTransformationMatrix(this.guns[s].model.position.x,this.guns[s].model.position.y,this.guns[s].model.position.z,this.guns[s].model.rotation.x,this.guns[s].model.rotation.y,this.guns[s].model.rotation.z,.01*a.d,.01*a.d,.01*a.d);this.shader.setUniform3f("color",this.guns[s].model.color.x,this.guns[s].model.color.y,this.guns[s].model.color.z),this.shader.setUniform1i("sampler",0),this.shader.setUniform4fv("view",b.createViewMatrix(a)),this.shader.setUniform4fv("projection",t),this.shader.setUniform4fv("transformation",l),this.guns[s].model.draw(),this.gl.disableVertexAttribArray(0),this.gl.disableVertexAttribArray(1),console.log(this.guns[s].model.position.x)}this.gl.disable(this.gl.DEPTH_TEST);for(s=0;s<this.sources.length;s++){this.gl.enableVertexAttribArray(0),this.gl.enableVertexAttribArray(1),this.gl.bindVertexArray(this.sources[s].model.vao);var c=b.createTransformationMatrix(this.sources[s].model.position.x,this.sources[s].model.position.y,this.sources[s].model.position.z,this.sources[s].model.rotation.x,this.sources[s].model.rotation.y,this.sources[s].model.rotation.z,.004*a.d,.004*a.d,.004*a.d);this.shader.setUniform3f("color",this.sources[s].model.color.x,this.sources[s].model.color.y,this.sources[s].model.color.z),this.shader.setUniform1i("sampler",0),this.shader.setUniform4fv("view",b.createViewMatrix(a)),this.shader.setUniform4fv("projection",t),this.shader.setUniform4fv("transformation",c),this.sources[s].model.draw(),this.gl.disableVertexAttribArray(0),this.gl.disableVertexAttribArray(1)}this.gl.enable(this.gl.DEPTH_TEST),this.gl.disable(this.gl.DEPTH_TEST);for(var u=0;u<4;u++){this.gl.enableVertexAttribArray(0),this.gl.enableVertexAttribArray(1),this.gl.bindVertexArray(this.models[u].vao);var d=b.createTransformationMatrix(this.models[u].position.x,this.models[u].position.y,this.models[u].position.z,this.models[u].rotation.x,this.models[u].rotation.y,this.models[u].rotation.z,a.d,a.d,a.d);this.shader.setUniform3f("color",this.models[u].color.x,this.models[u].color.y,this.models[u].color.z),this.shader.setUniform1i("sampler",0),this.shader.setUniform4fv("view",b.createViewMatrix(a)),this.shader.setUniform4fv("projection",t),this.shader.setUniform4fv("transformation",d),this.models[u].draw(),this.gl.disableVertexAttribArray(0),this.gl.disableVertexAttribArray(1)}if(this.drawTracks){for(var h=3;h<this.models.length;h++){this.gl.enableVertexAttribArray(0),this.gl.enableVertexAttribArray(1),this.gl.bindVertexArray(this.models[h].vao);var m=b.createTransformationMatrix(this.models[h].position.x,this.models[h].position.y,this.models[h].position.z,this.models[h].rotation.x,this.models[h].rotation.y,this.models[h].rotation.z,this.models[h].scale.x,this.models[h].scale.y,this.models[h].scale.z);this.shader.setUniform3f("color",this.models[h].color.x,this.models[h].color.y,this.models[h].color.z),this.shader.setUniform1i("sampler",0),this.shader.setUniform4fv("view",b.createViewMatrix(a)),this.shader.setUniform4fv("projection",t),this.shader.setUniform4fv("transformation",m),this.models[h].draw(),this.gl.disableVertexAttribArray(0),this.gl.disableVertexAttribArray(1)}this.shader.unBind()}else this.shader.unBind()}}]),e}();k.acitve_id=0;var O=k,C=(a(196),function(){function e(t){Object(l.a)(this,e),this.model=t,this.material="",this.active=!1,this.deposit=0,this.name="",this.id=0,this.hits=[],this.numberOfHits=[]}return Object(c.a)(e,[{key:"contains",value:function(e){for(var t=0;t<this.hits.length;t++)if(e==this.hits[t])return!0;return!1}},{key:"clearDeposit",value:function(){this.hits=[],this.numberOfHits=[]}},{key:"sort",value:function(){for(var e=[],t=0;t<this.hits.length;t++)e.push({hit:this.hits[t],no:this.numberOfHits[t]});e.sort((function(e,t){return e.hit<t.hit?-1:e.hit==t.hit?0:1}));for(var a=0;a<e.length;a++)this.hits[a]=e[a].hit,this.numberOfHits[a]=e[a].no}},{key:"getIndex",value:function(e){for(var t=0;t<this.hits.length;t++)if(0==Math.abs(e-this.hits[t]))return t;return-1}}]),e}()),j=function e(t,a,r,n){Object(l.a)(this,e),this.position=a,this.direction=r,this.energy=n,this.model=t,this.name="Particle Gun"},D=function e(){Object(l.a)(this,e)};D.vertices=[-1,-1,-1,0,0,1,0,0,1,-1,-1,-1,0,0,1,-1,1,-1,-1,1,-1,0,0,1,0,0,1,-1,1,-1,0,0,1,1,1,-1,1,1,-1,0,0,1,0,0,1,1,1,-1,0,0,1,1,-1,-1,1,-1,-1,0,0,1,0,0,1,1,-1,-1,0,0,1,-1,-1,-1,-1,1,-1,1,1,-1,1,-1,-1,-1,1,-1,1,-1,-1,-1,-1,-1,0,0,1,0,0,1,0,0,1,0,0,1,0,0,1,0,0,1],D.normals=[0,0,0,0,0,0,0,0,0,-.8944271802902222,0,.4472135901451111,-.8944271802902222,0,.4472135901451111,-.8944271802902222,0,.4472135901451111,0,0,0,0,0,0,0,0,0,0,.8944271802902222,.4472135901451111,0,.8944271802902222,.4472135901451111,0,.8944271802902222,.4472135901451111,0,0,0,0,0,0,0,0,0,.8944271802902222,0,.4472135901451111,.8944271802902222,0,.4472135901451111,.8944271802902222,0,.4472135901451111,0,0,0,0,0,0,0,0,0,0,-.8944271802902222,.4472135901451111,0,-.8944271802902222,.4472135901451111,0,-.8944271802902222,.4472135901451111,0,0,-1,0,0,-1,0,0,-1,0,0,-1,0,0,-1,0,0,-1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];var z=function e(t,a,r){Object(l.a)(this,e),this.position=a,this.name="Particle Source",this.scale=new g(1,1,1),this.material=r,this.model=t,this.model.color=new g(0,1,0),this.active=!1},R=function e(){Object(l.a)(this,e)};R.vertexShader="precision mediump float;attribute vec3 vertPosition;attribute vec3 normal;attribute mat4 transformation;attribute vec3 color;varying vec2 tex_coords;varying vec3 Normal;varying vec3 fragPos;varying vec3 out_color;uniform mat4 projection;uniform mat4 view;uniform float camera;void main(){gl_Position = projection * view * transformation * vec4(vec3(vertPosition*camera*0.2), 1.0);out_color = color;fragPos = vec3(transformation * vec4(vertPosition, 1.0));Normal = normal;}",R.fragmentShader="precision mediump float;varying vec2 tex_coords;varying vec3 Normal;varying vec3 fragPos;varying vec3 out_color;uniform sampler2D sampler;void main(){vec3 norm = normalize(Normal);vec3 lightDir = normalize(vec3(100) - fragPos);float diff = max(dot(norm, lightDir), 0.0); vec3 diffuse = diff * vec3(1); gl_FragColor = vec4(out_color,1.0);}";var M=function(){function e(t,a){Object(l.a)(this,e),this.vao=a.createVertexArray(),a.bindVertexArray(this.vao),this.vertices=t,this.index=0,this.vbo=this.createVBO(a),this.color_vbo=this.createVBO(a),this.shader=new P(a),this.storeData(0,3,t,a),a.bindVertexArray(null),a.disableVertexAttribArray(0),this.addIntanceAttrib(this.vao,this.vbo,1,4,16,0,a),this.addIntanceAttrib(this.vao,this.vbo,2,4,16,4,a),this.addIntanceAttrib(this.vao,this.vbo,3,4,16,8,a),this.addIntanceAttrib(this.vao,this.vbo,4,4,16,12,a),this.addIntanceAttrib(this.vao,this.color_vbo,5,3,3,0,a)}return Object(c.a)(e,[{key:"render",value:function(e,t,a,r,n){var o=[],i=[];this.index=0,this.colorIndex=0,this.shader.bind(),n.bindVertexArray(this.vao),n.enableVertexAttribArray(0),n.enableVertexAttribArray(1),n.enableVertexAttribArray(2),n.enableVertexAttribArray(3),n.enableVertexAttribArray(4),n.enableVertexAttribArray(5);for(var s=0;s<e.length;s++)this.storeMatrixData(b.createTransformationMatrix(e[s].position.x,e[s].position.y,e[s].position.z,0,0,0,e[s].scale.x,e[s].scale.y,e[s].scale.z),o),this.storeVectorData(e[s].color,i);this.updateVBO(this.vbo,o,n),this.updateVBO(this.color_vbo,i,n),n.drawArraysInstanced(n.TRIANGLES,0,this.vertices.length/3,e.length),this.shader.setUniform4fv("view",t),this.shader.setUniform4fv("projection",a),this.shader.setUniform3f("color",1,1,1),this.shader.setUniform("camera",r),n.bindVertexArray(null),n.disableVertexAttribArray(0),n.disableVertexAttribArray(1),n.disableVertexAttribArray(2),n.disableVertexAttribArray(3),n.disableVertexAttribArray(4),n.disableVertexAttribArray(5),this.shader.unBind()}},{key:"createVBO",value:function(e){var t=e.createBuffer();return e.bindBuffer(e.ARRAY_BUFFER,t),e.bufferData(e.ARRAY_BUFFER,new Float32Array(99999999),e.STREAM_DRAW,0),e.bindBuffer(e.ARRAY_BUFFER,null),t}},{key:"storeVectorData",value:function(e,t){t[this.colorIndex++]=e.x,t[this.colorIndex++]=e.y,t[this.colorIndex++]=e.z}},{key:"storeMatrixData",value:function(e,t){for(var a=0;a<16;a++)t[this.index++]=e[a]}},{key:"storeData",value:function(e,t,a,r){var n=r.createBuffer();r.bindBuffer(r.ARRAY_BUFFER,n),r.bufferData(r.ARRAY_BUFFER,new Float32Array(a),r.STATIC_DRAW,0),r.vertexAttribPointer(e,t,r.FLOAT,r.FALSE,0,0)}},{key:"addIntanceAttrib",value:function(e,t,a,r,n,o,i){i.bindBuffer(i.ARRAY_BUFFER,t),i.bindVertexArray(e),i.vertexAttribPointer(a,r,i.FLOAT,!1,4*n,4*o),i.vertexAttribDivisor(a,1),i.bindBuffer(i.ARRAY_BUFFER,null),i.bindVertexArray(null)}},{key:"updateVBO",value:function(e,t,a){a.bindBuffer(a.ARRAY_BUFFER,e),a.bufferData(a.ARRAY_BUFFER,new Float32Array(t),a.STREAM_DRAW),a.bufferSubData(a.ARRAY_BUFFER,0,new Float32Array(t)),a.bindBuffer(a.ARRAY_BUFFER,null)}}]),e}(),P=function(){function e(t){Object(l.a)(this,e),this.gl=t;var a=R.vertexShader,r=R.fragmentShader,n=t.createShader(t.VERTEX_SHADER),o=t.createShader(t.FRAGMENT_SHADER);t.shaderSource(n,a),t.shaderSource(o,r),t.compileShader(n),t.getShaderParameter(n,t.COMPILE_STATUS)?(t.compileShader(o),t.getShaderParameter(o,t.COMPILE_STATUS)?(this.program=t.createProgram(),t.attachShader(this.program,n),t.attachShader(this.program,o),t.bindAttribLocation(this.program,0,"vertPosition"),t.bindAttribLocation(this.program,1,"transformation"),t.bindAttribLocation(this.program,5,"color"),t.linkProgram(this.program),t.getProgramParameter(this.program,t.LINK_STATUS)?(t.validateProgram(this.program),t.getProgramParameter(this.program,t.VALIDATE_STATUS)||console.error("ERROR validating program!",t.getProgramInfoLog(this.program))):console.error("ERROR linking program!",t.getProgramInfoLog(this.program))):console.error("ERROR compiling fragment shader!",t.getShaderInfoLog(o))):console.error("ERROR compiling vertex shader!",t.getShaderInfoLog(n))}return Object(c.a)(e,[{key:"bind",value:function(){this.gl.useProgram(this.program)}},{key:"unBind",value:function(){this.gl.useProgram(null)}},{key:"setUniform",value:function(e,t){var a=this.gl.getUniformLocation(this.program,e);-1!=a&&this.gl.uniform1f(a,t)}},{key:"setUniform1i",value:function(e,t){var a=this.gl.getUniformLocation(this.program,e);-1!=a&&this.gl.uniform1i(a,t)}},{key:"setUniform3f",value:function(e,t,a,r){var n=this.gl.getUniformLocation(this.program,e);-1!=n&&this.gl.uniform3f(n,t,a,r)}},{key:"setUniform4fv",value:function(e,t){var a=this.gl.getUniformLocation(this.program,e);-1!=a&&this.gl.uniformMatrix4fv(a,!1,t)}}]),e}(),L=function e(){Object(l.a)(this,e)};L.vertices=[0,1,-1,0,1,1,.19509032368659973,.9807852506637573,1,0,1,-1,.19509032368659973,.9807852506637573,1,.19509032368659973,.9807852506637573,-1,.19509032368659973,.9807852506637573,-1,.19509032368659973,.9807852506637573,1,.3826834559440613,.9238795042037964,1,.19509032368659973,.9807852506637573,-1,.3826834559440613,.9238795042037964,1,.3826834559440613,.9238795042037964,-1,.3826834559440613,.9238795042037964,-1,.3826834559440613,.9238795042037964,1,.5555702447891235,.8314695954322815,1,.3826834559440613,.9238795042037964,-1,.5555702447891235,.8314695954322815,1,.5555702447891235,.8314695954322815,-1,.5555702447891235,.8314695954322815,-1,.5555702447891235,.8314695954322815,1,.7071067690849304,.7071067690849304,1,.5555702447891235,.8314695954322815,-1,.7071067690849304,.7071067690849304,1,.7071067690849304,.7071067690849304,-1,.7071067690849304,.7071067690849304,-1,.7071067690849304,.7071067690849304,1,.8314696550369263,.5555701851844788,1,.7071067690849304,.7071067690849304,-1,.8314696550369263,.5555701851844788,1,.8314696550369263,.5555701851844788,-1,.8314696550369263,.5555701851844788,-1,.8314696550369263,.5555701851844788,1,.9238795042037964,.3826834261417389,1,.8314696550369263,.5555701851844788,-1,.9238795042037964,.3826834261417389,1,.9238795042037964,.3826834261417389,-1,.9238795042037964,.3826834261417389,-1,.9238795042037964,.3826834261417389,1,.9807852506637573,.19509035348892212,1,.9238795042037964,.3826834261417389,-1,.9807852506637573,.19509035348892212,1,.9807852506637573,.19509035348892212,-1,.9807852506637573,.19509035348892212,-1,.9807852506637573,.19509035348892212,1,1,7.549790126404332e-8,1,.9807852506637573,.19509035348892212,-1,1,7.549790126404332e-8,1,1,7.549790126404332e-8,-1,1,7.549790126404332e-8,-1,1,7.549790126404332e-8,1,.9807853102684021,-.19509020447731018,1,1,7.549790126404332e-8,-1,.9807853102684021,-.19509020447731018,1,.9807853102684021,-.19509020447731018,-1,.9807853102684021,-.19509020447731018,-1,.9807853102684021,-.19509020447731018,1,.9238795638084412,-.38268327713012695,1,.9807853102684021,-.19509020447731018,-1,.9238795638084412,-.38268327713012695,1,.9238795638084412,-.38268327713012695,-1,.9238795638084412,-.38268327713012695,-1,.9238795638084412,-.38268327713012695,1,.8314696550369263,-.5555701851844788,1,.9238795638084412,-.38268327713012695,-1,.8314696550369263,-.5555701851844788,1,.8314696550369263,-.5555701851844788,-1,.8314696550369263,-.5555701851844788,-1,.8314696550369263,-.5555701851844788,1,.7071067690849304,-.7071067690849304,1,.8314696550369263,-.5555701851844788,-1,.7071067690849304,-.7071067690849304,1,.7071067690849304,-.7071067690849304,-1,.7071067690849304,-.7071067690849304,-1,.7071067690849304,-.7071067690849304,1,.5555701851844788,-.8314696550369263,1,.7071067690849304,-.7071067690849304,-1,.5555701851844788,-.8314696550369263,1,.5555701851844788,-.8314696550369263,-1,.5555701851844788,-.8314696550369263,-1,.5555701851844788,-.8314696550369263,1,.38268327713012695,-.9238796234130859,1,.5555701851844788,-.8314696550369263,-1,.38268327713012695,-.9238796234130859,1,.38268327713012695,-.9238796234130859,-1,.38268327713012695,-.9238796234130859,-1,.38268327713012695,-.9238796234130859,1,.19509008526802063,-.9807853102684021,1,.38268327713012695,-.9238796234130859,-1,.19509008526802063,-.9807853102684021,1,.19509008526802063,-.9807853102684021,-1,.19509008526802063,-.9807853102684021,-1,.19509008526802063,-.9807853102684021,1,-3.2584136988589307e-7,-1,1,.19509008526802063,-.9807853102684021,-1,-3.2584136988589307e-7,-1,1,-3.2584136988589307e-7,-1,-1,-3.2584136988589307e-7,-1,-1,-3.2584136988589307e-7,-1,1,-.19509072601795197,-.9807851910591125,1,-3.2584136988589307e-7,-1,-1,-.19509072601795197,-.9807851910591125,1,-.19509072601795197,-.9807851910591125,-1,-.19509072601795197,-.9807851910591125,-1,-.19509072601795197,-.9807851910591125,1,-.3826838731765747,-.9238793253898621,1,-.19509072601795197,-.9807851910591125,-1,-.3826838731765747,-.9238793253898621,1,-.3826838731765747,-.9238793253898621,-1,-.3826838731765747,-.9238793253898621,-1,-.3826838731765747,-.9238793253898621,1,-.5555707216262817,-.8314692974090576,1,-.3826838731765747,-.9238793253898621,-1,-.5555707216262817,-.8314692974090576,1,-.5555707216262817,-.8314692974090576,-1,-.5555707216262817,-.8314692974090576,-1,-.5555707216262817,-.8314692974090576,1,-.7071072459220886,-.707106351852417,1,-.5555707216262817,-.8314692974090576,-1,-.7071072459220886,-.707106351852417,1,-.7071072459220886,-.707106351852417,-1,-.7071072459220886,-.707106351852417,-1,-.7071072459220886,-.707106351852417,1,-.8314700126647949,-.5555696487426758,1,-.7071072459220886,-.707106351852417,-1,-.8314700126647949,-.5555696487426758,1,-.8314700126647949,-.5555696487426758,-1,-.8314700126647949,-.5555696487426758,-1,-.8314700126647949,-.5555696487426758,1,-.923879861831665,-.3826826810836792,1,-.8314700126647949,-.5555696487426758,-1,-.923879861831665,-.3826826810836792,1,-.923879861831665,-.3826826810836792,-1,-.923879861831665,-.3826826810836792,-1,-.923879861831665,-.3826826810836792,1,-.9807854294776917,-.1950894594192505,1,-.923879861831665,-.3826826810836792,-1,-.9807854294776917,-.1950894594192505,1,-.9807854294776917,-.1950894594192505,-1,-.9807854294776917,-.1950894594192505,-1,-.9807854294776917,-.1950894594192505,1,-1,9.655991561885457e-7,1,-.9807854294776917,-.1950894594192505,-1,-1,9.655991561885457e-7,1,-1,9.655991561885457e-7,-1,-1,9.655991561885457e-7,-1,-1,9.655991561885457e-7,1,-.980785071849823,.1950913518667221,1,-1,9.655991561885457e-7,-1,-.980785071849823,.1950913518667221,1,-.980785071849823,.1950913518667221,-1,-.980785071849823,.1950913518667221,-1,-.980785071849823,.1950913518667221,1,-.923879086971283,.38268446922302246,1,-.980785071849823,.1950913518667221,-1,-.923879086971283,.38268446922302246,1,-.923879086971283,.38268446922302246,-1,-.923879086971283,.38268446922302246,-1,-.923879086971283,.38268446922302246,1,-.831468939781189,.5555712580680847,1,-.923879086971283,.38268446922302246,-1,-.831468939781189,.5555712580680847,1,-.831468939781189,.5555712580680847,-1,-.831468939781189,.5555712580680847,-1,-.831468939781189,.5555712580680847,1,-.7071058750152588,.707107663154602,1,-.831468939781189,.5555712580680847,-1,-.7071058750152588,.707107663154602,1,-.7071058750152588,.707107663154602,-1,-.7071058750152588,.707107663154602,-1,-.7071058750152588,.707107663154602,1,-.5555691123008728,.8314703702926636,1,-.7071058750152588,.707107663154602,-1,-.5555691123008728,.8314703702926636,1,-.5555691123008728,.8314703702926636,-1,-.5555691123008728,.8314703702926636,-1,-.5555691123008728,.8314703702926636,1,-.38268208503723145,.9238801002502441,1,-.5555691123008728,.8314703702926636,-1,-.38268208503723145,.9238801002502441,1,-.38268208503723145,.9238801002502441,-1,.3826834559440613,.9238795042037964,1,.19509032368659973,.9807852506637573,1,0,1,1,0,1,1,-.19508881866931915,.9807855486869812,1,-.38268208503723145,.9238801002502441,1,-.38268208503723145,.9238801002502441,1,-.5555691123008728,.8314703702926636,1,-.7071058750152588,.707107663154602,1,-.7071058750152588,.707107663154602,1,-.831468939781189,.5555712580680847,1,-.923879086971283,.38268446922302246,1,-.923879086971283,.38268446922302246,1,-.980785071849823,.1950913518667221,1,-1,9.655991561885457e-7,1,-1,9.655991561885457e-7,1,-.9807854294776917,-.1950894594192505,1,-.923879861831665,-.3826826810836792,1,-.923879861831665,-.3826826810836792,1,-.8314700126647949,-.5555696487426758,1,-.7071072459220886,-.707106351852417,1,-.7071072459220886,-.707106351852417,1,-.5555707216262817,-.8314692974090576,1,-.3826838731765747,-.9238793253898621,1,-.3826838731765747,-.9238793253898621,1,-.19509072601795197,-.9807851910591125,1,-3.2584136988589307e-7,-1,1,-3.2584136988589307e-7,-1,1,.19509008526802063,-.9807853102684021,1,.38268327713012695,-.9238796234130859,1,.38268327713012695,-.9238796234130859,1,.5555701851844788,-.8314696550369263,1,.7071067690849304,-.7071067690849304,1,.7071067690849304,-.7071067690849304,1,.8314696550369263,-.5555701851844788,1,.9238795638084412,-.38268327713012695,1,.9238795638084412,-.38268327713012695,1,.9807853102684021,-.19509020447731018,1,1,7.549790126404332e-8,1,1,7.549790126404332e-8,1,.9807852506637573,.19509035348892212,1,.9238795042037964,.3826834261417389,1,.9238795042037964,.3826834261417389,1,.8314696550369263,.5555701851844788,1,.7071067690849304,.7071067690849304,1,.7071067690849304,.7071067690849304,1,.5555702447891235,.8314695954322815,1,.3826834559440613,.9238795042037964,1,.3826834559440613,.9238795042037964,1,0,1,1,-.38268208503723145,.9238801002502441,1,-.38268208503723145,.9238801002502441,1,-.7071058750152588,.707107663154602,1,-.923879086971283,.38268446922302246,1,-.923879086971283,.38268446922302246,1,-1,9.655991561885457e-7,1,-.923879861831665,-.3826826810836792,1,-.923879861831665,-.3826826810836792,1,-.7071072459220886,-.707106351852417,1,-.3826838731765747,-.9238793253898621,1,-.3826838731765747,-.9238793253898621,1,-3.2584136988589307e-7,-1,1,.38268327713012695,-.9238796234130859,1,.38268327713012695,-.9238796234130859,1,.7071067690849304,-.7071067690849304,1,.9238795638084412,-.38268327713012695,1,.9238795638084412,-.38268327713012695,1,1,7.549790126404332e-8,1,.9238795042037964,.3826834261417389,1,.9238795042037964,.3826834261417389,1,.7071067690849304,.7071067690849304,1,.3826834559440613,.9238795042037964,1,.3826834559440613,.9238795042037964,1,-.38268208503723145,.9238801002502441,1,-.923879086971283,.38268446922302246,1,-.923879086971283,.38268446922302246,1],L.normals=[0,1,-1,0,1,1,.19509032368659973,.9807852506637573,1,0,1,-1,.19509032368659973,.9807852506637573,1,.19509032368659973,.9807852506637573,-1,.19509032368659973,.9807852506637573,-1,.19509032368659973,.9807852506637573,1,.3826834559440613,.9238795042037964,1,.19509032368659973,.9807852506637573,-1,.3826834559440613,.9238795042037964,1,.3826834559440613,.9238795042037964,-1,.3826834559440613,.9238795042037964,-1,.3826834559440613,.9238795042037964,1,.5555702447891235,.8314695954322815,1,.3826834559440613,.9238795042037964,-1,.5555702447891235,.8314695954322815,1,.5555702447891235,.8314695954322815,-1,.5555702447891235,.8314695954322815,-1,.5555702447891235,.8314695954322815,1,.7071067690849304,.7071067690849304,1,.5555702447891235,.8314695954322815,-1,.7071067690849304,.7071067690849304,1,.7071067690849304,.7071067690849304,-1,.7071067690849304,.7071067690849304,-1,.7071067690849304,.7071067690849304,1,.8314696550369263,.5555701851844788,1,.7071067690849304,.7071067690849304,-1,.8314696550369263,.5555701851844788,1,.8314696550369263,.5555701851844788,-1,.8314696550369263,.5555701851844788,-1,.8314696550369263,.5555701851844788,1,.9238795042037964,.3826834261417389,1,.8314696550369263,.5555701851844788,-1,.9238795042037964,.3826834261417389,1,.9238795042037964,.3826834261417389,-1,.9238795042037964,.3826834261417389,-1,.9238795042037964,.3826834261417389,1,.9807852506637573,.19509035348892212,1,.9238795042037964,.3826834261417389,-1,.9807852506637573,.19509035348892212,1,.9807852506637573,.19509035348892212,-1,.9807852506637573,.19509035348892212,-1,.9807852506637573,.19509035348892212,1,1,7.549790126404332e-8,1,.9807852506637573,.19509035348892212,-1,1,7.549790126404332e-8,1,1,7.549790126404332e-8,-1,1,7.549790126404332e-8,-1,1,7.549790126404332e-8,1,.9807853102684021,-.19509020447731018,1,1,7.549790126404332e-8,-1,.9807853102684021,-.19509020447731018,1,.9807853102684021,-.19509020447731018,-1,.9807853102684021,-.19509020447731018,-1,.9807853102684021,-.19509020447731018,1,.9238795638084412,-.38268327713012695,1,.9807853102684021,-.19509020447731018,-1,.9238795638084412,-.38268327713012695,1,.9238795638084412,-.38268327713012695,-1,.9238795638084412,-.38268327713012695,-1,.9238795638084412,-.38268327713012695,1,.8314696550369263,-.5555701851844788,1,.9238795638084412,-.38268327713012695,-1,.8314696550369263,-.5555701851844788,1,.8314696550369263,-.5555701851844788,-1,.8314696550369263,-.5555701851844788,-1,.8314696550369263,-.5555701851844788,1,.7071067690849304,-.7071067690849304,1,.8314696550369263,-.5555701851844788,-1,.7071067690849304,-.7071067690849304,1,.7071067690849304,-.7071067690849304,-1,.7071067690849304,-.7071067690849304,-1,.7071067690849304,-.7071067690849304,1,.5555701851844788,-.8314696550369263,1,.7071067690849304,-.7071067690849304,-1,.5555701851844788,-.8314696550369263,1,.5555701851844788,-.8314696550369263,-1,.5555701851844788,-.8314696550369263,-1,.5555701851844788,-.8314696550369263,1,.38268327713012695,-.9238796234130859,1,.5555701851844788,-.8314696550369263,-1,.38268327713012695,-.9238796234130859,1,.38268327713012695,-.9238796234130859,-1,.38268327713012695,-.9238796234130859,-1,.38268327713012695,-.9238796234130859,1,.19509008526802063,-.9807853102684021,1,.38268327713012695,-.9238796234130859,-1,.19509008526802063,-.9807853102684021,1,.19509008526802063,-.9807853102684021,-1,.19509008526802063,-.9807853102684021,-1,.19509008526802063,-.9807853102684021,1,-3.2584136988589307e-7,-1,1,.19509008526802063,-.9807853102684021,-1,-3.2584136988589307e-7,-1,1,-3.2584136988589307e-7,-1,-1,-3.2584136988589307e-7,-1,-1,-3.2584136988589307e-7,-1,1,-.19509072601795197,-.9807851910591125,1,-3.2584136988589307e-7,-1,-1,-.19509072601795197,-.9807851910591125,1,-.19509072601795197,-.9807851910591125,-1,-.19509072601795197,-.9807851910591125,-1,-.19509072601795197,-.9807851910591125,1,-.3826838731765747,-.9238793253898621,1,-.19509072601795197,-.9807851910591125,-1,-.3826838731765747,-.9238793253898621,1,-.3826838731765747,-.9238793253898621,-1,-.3826838731765747,-.9238793253898621,-1,-.3826838731765747,-.9238793253898621,1,-.5555707216262817,-.8314692974090576,1,-.3826838731765747,-.9238793253898621,-1,-.5555707216262817,-.8314692974090576,1,-.5555707216262817,-.8314692974090576,-1,-.5555707216262817,-.8314692974090576,-1,-.5555707216262817,-.8314692974090576,1,-.7071072459220886,-.707106351852417,1,-.5555707216262817,-.8314692974090576,-1,-.7071072459220886,-.707106351852417,1,-.7071072459220886,-.707106351852417,-1,-.7071072459220886,-.707106351852417,-1,-.7071072459220886,-.707106351852417,1,-.8314700126647949,-.5555696487426758,1,-.7071072459220886,-.707106351852417,-1,-.8314700126647949,-.5555696487426758,1,-.8314700126647949,-.5555696487426758,-1,-.8314700126647949,-.5555696487426758,-1,-.8314700126647949,-.5555696487426758,1,-.923879861831665,-.3826826810836792,1,-.8314700126647949,-.5555696487426758,-1,-.923879861831665,-.3826826810836792,1,-.923879861831665,-.3826826810836792,-1,-.923879861831665,-.3826826810836792,-1,-.923879861831665,-.3826826810836792,1,-.9807854294776917,-.1950894594192505,1,-.923879861831665,-.3826826810836792,-1,-.9807854294776917,-.1950894594192505,1,-.9807854294776917,-.1950894594192505,-1,-.9807854294776917,-.1950894594192505,-1,-.9807854294776917,-.1950894594192505,1,-1,9.655991561885457e-7,1,-.9807854294776917,-.1950894594192505,-1,-1,9.655991561885457e-7,1,-1,9.655991561885457e-7,-1,-1,9.655991561885457e-7,-1,-1,9.655991561885457e-7,1,-.980785071849823,.1950913518667221,1,-1,9.655991561885457e-7,-1,-.980785071849823,.1950913518667221,1,-.980785071849823,.1950913518667221,-1,-.980785071849823,.1950913518667221,-1,-.980785071849823,.1950913518667221,1,-.923879086971283,.38268446922302246,1,-.980785071849823,.1950913518667221,-1,-.923879086971283,.38268446922302246,1,-.923879086971283,.38268446922302246,-1,-.923879086971283,.38268446922302246,-1,-.923879086971283,.38268446922302246,1,-.831468939781189,.5555712580680847,1,-.923879086971283,.38268446922302246,-1,-.831468939781189,.5555712580680847,1,-.831468939781189,.5555712580680847,-1,-.831468939781189,.5555712580680847,-1,-.831468939781189,.5555712580680847,1,-.7071058750152588,.707107663154602,1,-.831468939781189,.5555712580680847,-1,-.7071058750152588,.707107663154602,1,-.7071058750152588,.707107663154602,-1,-.7071058750152588,.707107663154602,-1,-.7071058750152588,.707107663154602,1,-.5555691123008728,.8314703702926636,1,-.7071058750152588,.707107663154602,-1,-.5555691123008728,.8314703702926636,1,-.5555691123008728,.8314703702926636,-1,-.5555691123008728,.8314703702926636,-1,-.5555691123008728,.8314703702926636,1,-.38268208503723145,.9238801002502441,1,-.5555691123008728,.8314703702926636,-1,-.38268208503723145,.9238801002502441,1,-.38268208503723145,.9238801002502441,-1,.3826834559440613,.9238795042037964,1,.19509032368659973,.9807852506637573,1,0,1,1,0,1,1,-.19508881866931915,.9807855486869812,1,-.38268208503723145,.9238801002502441,1,-.38268208503723145,.9238801002502441,1,-.5555691123008728,.8314703702926636,1,-.7071058750152588,.707107663154602,1,-.7071058750152588,.707107663154602,1,-.831468939781189,.5555712580680847,1,-.923879086971283,.38268446922302246,1,-.923879086971283,.38268446922302246,1,-.980785071849823,.1950913518667221,1,-1,9.655991561885457e-7,1,-1,9.655991561885457e-7,1,-.9807854294776917,-.1950894594192505,1,-.923879861831665,-.3826826810836792,1,-.923879861831665,-.3826826810836792,1,-.8314700126647949,-.5555696487426758,1,-.7071072459220886,-.707106351852417,1,-.7071072459220886,-.707106351852417,1,-.5555707216262817,-.8314692974090576,1,-.3826838731765747,-.9238793253898621,1,-.3826838731765747,-.9238793253898621,1,-.19509072601795197,-.9807851910591125,1,-3.2584136988589307e-7,-1,1,-3.2584136988589307e-7,-1,1,.19509008526802063,-.9807853102684021,1,.38268327713012695,-.9238796234130859,1,.38268327713012695,-.9238796234130859,1,.5555701851844788,-.8314696550369263,1,.7071067690849304,-.7071067690849304,1,.7071067690849304,-.7071067690849304,1,.8314696550369263,-.5555701851844788,1,.9238795638084412,-.38268327713012695,1,.9238795638084412,-.38268327713012695,1,.9807853102684021,-.19509020447731018,1,1,7.549790126404332e-8,1,1,7.549790126404332e-8,1,.9807852506637573,.19509035348892212,1,.9238795042037964,.3826834261417389,1,.9238795042037964,.3826834261417389,1,.8314696550369263,.5555701851844788,1,.7071067690849304,.7071067690849304,1,.7071067690849304,.7071067690849304,1,.5555702447891235,.8314695954322815,1,.3826834559440613,.9238795042037964,1,.3826834559440613,.9238795042037964,1,0,1,1,-.38268208503723145,.9238801002502441,1,-.38268208503723145,.9238801002502441,1,-.7071058750152588,.707107663154602,1,-.923879086971283,.38268446922302246,1,-.923879086971283,.38268446922302246,1,-1,9.655991561885457e-7,1,-.923879861831665,-.3826826810836792,1,-.923879861831665,-.3826826810836792,1,-.7071072459220886,-.707106351852417,1,-.3826838731765747,-.9238793253898621,1,-.3826838731765747,-.9238793253898621,1,-3.2584136988589307e-7,-1,1,.38268327713012695,-.9238796234130859,1,.38268327713012695,-.9238796234130859,1,.7071067690849304,-.7071067690849304,1,.9238795638084412,-.38268327713012695,1,.9238795638084412,-.38268327713012695,1,1,7.549790126404332e-8,1,.9238795042037964,.3826834261417389,1,.9238795042037964,.3826834261417389,1,.7071067690849304,.7071067690849304,1,.3826834559440613,.9238795042037964,1,.3826834559440613,.9238795042037964,1,-.38268208503723145,.9238801002502441,1,-.923879086971283,.38268446922302246,1,-.923879086971283,.38268446922302246,1];var F=L,T=function e(){Object(l.a)(this,e)};T.vertices=[6.356849979738399e-8,.9238790273666382,-.38268327713012695,0,.9807853102684021,-.19509020447731018,.19134178757667542,.9619397521018982,-.19509020447731018,6.356849979738399e-8,.9238790273666382,-.38268327713012695,.19134178757667542,.9619397521018982,-.19509020447731018,.18024002015590668,.9061274528503418,-.38268327713012695,0,.5555702447891235,.8314695954322815,0,.3826834559440613,.9238795042037964,.07465790957212448,.3753302991390228,.9238795042037964,0,.5555702447891235,.8314695954322815,.07465790957212448,.3753302991390228,.9238795042037964,.10838644951581955,.5448951125144958,.8314695954322815,2.7218476361667854e-7,.8314687609672546,-.5555701851844788,6.356849979738399e-8,.9238790273666382,-.38268327713012695,.18024002015590668,.9061274528503418,-.38268327713012695,2.7218476361667854e-7,.8314687609672546,-.5555701851844788,.18024002015590668,.9061274528503418,-.38268327713012695,.16221174597740173,.8154931664466858,-.5555701851844788,0,.7071067690849304,.7071067690849304,0,.5555702447891235,.8314695954322815,.10838644951581955,.5448951125144958,.8314695954322815,0,.7071067690849304,.7071067690849304,.10838644951581955,.5448951125144958,.8314695954322815,.13794974982738495,.6935198903083801,.7071067690849304,1.529754740658973e-7,.707106351852417,-.7071067690849304,2.7218476361667854e-7,.8314687609672546,-.5555701851844788,.16221174597740173,.8154931664466858,-.5555701851844788,1.529754740658973e-7,.707106351852417,-.7071067690849304,.16221174597740173,.8154931664466858,-.5555701851844788,.13794974982738495,.6935198903083801,-.7071067690849304,0,.8314696550369263,.5555701851844788,0,.7071067690849304,.7071067690849304,.13794974982738495,.6935198903083801,.7071067690849304,0,.8314696550369263,.5555701851844788,.13794974982738495,.6935198903083801,.7071067690849304,.16221174597740173,.8154931664466858,.5555701851844788,0,.5555701851844788,-.8314696550369263,1.529754740658973e-7,.707106351852417,-.7071067690849304,.13794974982738495,.6935198903083801,-.7071067690849304,0,.5555701851844788,-.8314696550369263,.13794974982738495,.6935198903083801,-.7071067690849304,.10838643461465836,.5448950529098511,-.8314696550369263,0,.9238795042037964,.3826834261417389,0,.8314696550369263,.5555701851844788,.16221174597740173,.8154931664466858,.5555701851844788,0,.9238795042037964,.3826834261417389,.16221174597740173,.8154931664466858,.5555701851844788,.18024000525474548,.906127393245697,.3826834261417389,7.846966099123165e-8,.3826829195022583,-.9238796234130859,0,.5555701851844788,-.8314696550369263,.10838643461465836,.5448950529098511,-.8314696550369263,7.846966099123165e-8,.3826829195022583,-.9238796234130859,.10838643461465836,.5448950529098511,-.8314696550369263,.0746578723192215,.3753301203250885,-.9238796234130859,0,.9807852506637573,.19509035348892212,0,.9238795042037964,.3826834261417389,.18024000525474548,.906127393245697,.3826834261417389,0,.9807852506637573,.19509035348892212,.18024000525474548,.906127393245697,.3826834261417389,.19134177267551422,.9619396924972534,.19509035348892212,1.513972591737911e-8,.1950899213552475,-.9807853102684021,7.846966099123165e-8,.3826829195022583,-.9238796234130859,.0746578723192215,.3753301203250885,-.9238796234130859,1.513972591737911e-8,.1950899213552475,-.9807853102684021,.0746578723192215,.3753301203250885,-.9238796234130859,.038060251623392105,.19134147465229034,-.9807853102684021,0,1,7.549790126404332e-8,0,.9807852506637573,.19509035348892212,.19134177267551422,.9619396924972534,.19509035348892212,0,1,7.549790126404332e-8,.19134177267551422,.9619396924972534,.19509035348892212,.1950903832912445,.9807852506637573,7.549790126404332e-8,0,.19509032368659973,.9807852506637573,-2.304045381151809e-7,-5.562458795793646e-7,1,.03806029632687569,.19134171307086945,.9807852506637573,0,-3.2584136988589307e-7,-1,1.513972591737911e-8,.1950899213552475,-.9807853102684021,.038060251623392105,.19134147465229034,-.9807853102684021,0,.9807853102684021,-.19509020447731018,0,1,7.549790126404332e-8,.1950903832912445,.9807852506637573,7.549790126404332e-8,0,.9807853102684021,-.19509020447731018,.1950903832912445,.9807852506637573,7.549790126404332e-8,.19134178757667542,.9619397521018982,-.19509020447731018,0,.3826834559440613,.9238795042037964,0,.19509032368659973,.9807852506637573,.03806029632687569,.19134171307086945,.9807852506637573,0,.3826834559440613,.9238795042037964,.03806029632687569,.19134171307086945,.9807852506637573,.07465790957212448,.3753302991390228,.9238795042037964,0,-3.2584136988589307e-7,-1,.038060251623392105,.19134147465229034,-.9807853102684021,.0746578648686409,.1802397072315216,-.9807853102684021,.19134178757667542,.9619397521018982,-.19509020447731018,.1950903832912445,.9807852506637573,7.549790126404332e-8,.38268354535102844,.9238794445991516,7.549790126404332e-8,.19134178757667542,.9619397521018982,-.19509020447731018,.38268354535102844,.9238794445991516,7.549790126404332e-8,.37533038854599,.9061273336410522,-.19509020447731018,.07465790957212448,.3753302991390228,.9238795042037964,.03806029632687569,.19134171307086945,.9807852506637573,.07465796172618866,.1802399456501007,.9807852506637573,.07465790957212448,.3753302991390228,.9238795042037964,.07465796172618866,.1802399456501007,.9807852506637573,.14644673466682434,.3535534143447876,.9238795042037964,.18024002015590668,.9061274528503418,-.38268327713012695,.19134178757667542,.9619397521018982,-.19509020447731018,.37533038854599,.9061273336410522,-.19509020447731018,.18024002015590668,.9061274528503418,-.38268327713012695,.37533038854599,.9061273336410522,-.19509020447731018,.35355350375175476,.8535533547401428,-.38268327713012695,.10838644951581955,.5448951125144958,.8314695954322815,.07465790957212448,.3753302991390228,.9238795042037964,.14644673466682434,.3535534143447876,.9238795042037964,.10838644951581955,.5448951125144958,.8314695954322815,.14644673466682434,.3535534143447876,.9238795042037964,.21260765194892883,.513279914855957,.8314695954322815,.16221174597740173,.8154931664466858,-.5555701851844788,.18024002015590668,.9061274528503418,-.38268327713012695,.35355350375175476,.8535533547401428,-.38268327713012695,.16221174597740173,.8154931664466858,-.5555701851844788,.35355350375175476,.8535533547401428,-.38268327713012695,.3181897699832916,.7681776881217957,-.5555701851844788,.13794974982738495,.6935198903083801,.7071067690849304,.10838644951581955,.5448951125144958,.8314695954322815,.21260765194892883,.513279914855957,.8314695954322815,.13794974982738495,.6935198903083801,.7071067690849304,.21260765194892883,.513279914855957,.8314695954322815,.2705981731414795,.6532813906669617,.7071067690849304,.13794974982738495,.6935198903083801,-.7071067690849304,.16221174597740173,.8154931664466858,-.5555701851844788,.3181897699832916,.7681776881217957,-.5555701851844788,.13794974982738495,.6935198903083801,-.7071067690849304,.3181897699832916,.7681776881217957,-.5555701851844788,.2705981731414795,.6532813906669617,-.7071067690849304,.16221174597740173,.8154931664466858,.5555701851844788,.13794974982738495,.6935198903083801,.7071067690849304,.2705981731414795,.6532813906669617,.7071067690849304,.16221174597740173,.8154931664466858,.5555701851844788,.2705981731414795,.6532813906669617,.7071067690849304,.3181897699832916,.7681776881217957,.5555701851844788,.10838643461465836,.5448950529098511,-.8314696550369263,.13794974982738495,.6935198903083801,-.7071067690849304,.2705981731414795,.6532813906669617,-.7071067690849304,.10838643461465836,.5448950529098511,-.8314696550369263,.2705981731414795,.6532813906669617,-.7071067690849304,.21260762214660645,.5132798552513123,-.8314696550369263,.18024000525474548,.906127393245697,.3826834261417389,.16221174597740173,.8154931664466858,.5555701851844788,.3181897699832916,.7681776881217957,.5555701851844788,.18024000525474548,.906127393245697,.3826834261417389,.3181897699832916,.7681776881217957,.5555701851844788,.3535534739494324,.853553295135498,.3826834261417389,.0746578723192215,.3753301203250885,-.9238796234130859,.10838643461465836,.5448950529098511,-.8314696550369263,.21260762214660645,.5132798552513123,-.8314696550369263,.0746578723192215,.3753301203250885,-.9238796234130859,.21260762214660645,.5132798552513123,-.8314696550369263,.14644667506217957,.35355323553085327,-.9238796234130859,.19134177267551422,.9619396924972534,.19509035348892212,.18024000525474548,.906127393245697,.3826834261417389,.3535534739494324,.853553295135498,.3826834261417389,.19134177267551422,.9619396924972534,.19509035348892212,.3535534739494324,.853553295135498,.3826834261417389,.37533038854599,.9061273336410522,.19509035348892212,.038060251623392105,.19134147465229034,-.9807853102684021,.0746578723192215,.3753301203250885,-.9238796234130859,.14644667506217957,.35355323553085327,-.9238796234130859,.038060251623392105,.19134147465229034,-.9807853102684021,.14644667506217957,.35355323553085327,-.9238796234130859,.0746578648686409,.1802397072315216,-.9807853102684021,.1950903832912445,.9807852506637573,7.549790126404332e-8,.19134177267551422,.9619396924972534,.19509035348892212,.37533038854599,.9061273336410522,.19509035348892212,.1950903832912445,.9807852506637573,7.549790126404332e-8,.37533038854599,.9061273336410522,.19509035348892212,.38268354535102844,.9238794445991516,7.549790126404332e-8,.03806029632687569,.19134171307086945,.9807852506637573,-2.304045381151809e-7,-5.562458795793646e-7,1,.07465796172618866,.1802399456501007,.9807852506637573,.21260762214660645,.5132798552513123,-.8314696550369263,.2705981731414795,.6532813906669617,-0],T.normals=[.09383463114500046,.9527173638343811,-.2890063524246216,.09383463114500046,.9527173638343811,-.2890063524246216,.09383463114500046,.9527173638343811,-.2890063524246216,.09383193403482437,.9527185559272766,-.28900352120399475,.09383193403482437,.9527185559272766,-.28900352120399475,.09383193403482437,.9527185559272766,-.28900352120399475,.046378616243600845,.4708893597126007,.8809723854064941,.046378616243600845,.4708893597126007,.8809723854064941,.046378616243600845,.4708893597126007,.8809723854064941,.04637990891933441,.4708895981311798,.8809720873832703,.04637990891933441,.4708895981311798,.8809720873832703,.04637990891933441,.4708895981311798,.8809720873832703,.08653326332569122,.8786126375198364,-.4696294069290161,.08653326332569122,.8786126375198364,-.4696294069290161,.08653326332569122,.8786126375198364,-.4696294069290161,.08653141558170319,.8786132335662842,-.4696286916732788,.08653141558170319,.8786132335662842,-.4696286916732788,.08653141558170319,.8786132335662842,-.4696286916732788,.062360648065805435,.6331585645675659,.7715058922767639,.062360648065805435,.6331585645675659,.7715058922767639,.062360648065805435,.6331585645675659,.7715058922767639,.062360722571611404,.6331584453582764,.7715060710906982,.062360722571611404,.6331584453582764,.7715060710906982,.062360722571611404,.6331584453582764,.7715060710906982,.07591132819652557,.7707810997962952,-.6325615644454956,.07591132819652557,.7707810997962952,-.6325615644454956,.07591132819652557,.7707810997962952,-.6325615644454956,.07591313868761063,.7707799077033997,-.6325626969337463,.07591313868761063,.7707799077033997,-.6325626969337463,.07591313868761063,.7707799077033997,-.6325626969337463,.07591512799263,.7707794308662415,.6325629353523254,.07591512799263,.7707794308662415,.6325629353523254,.07591512799263,.7707794308662415,.6325629353523254,.07591528445482254,.7707798480987549,.632562518119812,.07591528445482254,.7707798480987549,.632562518119812,.07591528445482254,.7707798480987549,.632562518119812,.062359102070331573,.633159875869751,-.7715049982070923,.062359102070331573,.633159875869751,-.7715049982070923,.062359102070331573,.633159875869751,-.7715049982070923,.06236065924167633,.6331588625907898,-.7715057134628296,.06236065924167633,.6331588625907898,-.7715057134628296,.06236065924167633,.6331588625907898,-.7715057134628296,.08653586357831955,.8786129355430603,.4696284532546997,.08653586357831955,.8786129355430603,.4696284532546997,.08653586357831955,.8786129355430603,.4696284532546997,.08653588593006134,.8786131739616394,.46962788701057434,.08653588593006134,.8786131739616394,.46962788701057434,.08653588593006134,.8786131739616394,.46962788701057434,.04637759551405907,.47088855504989624,-.8809728026390076,.04637759551405907,.47088855504989624,-.8809728026390076,.04637759551405907,.47088855504989624,-.8809728026390076,.04637577384710312,.4708898663520813,-.880972146987915,.04637577384710312,.4708898663520813,-.880972146987915,.04637577384710312,.4708898663520813,-.880972146987915,.09383455663919449,.9527182579040527,.2890035808086395,.09383455663919449,.9527182579040527,.2890035808086395,.09383455663919449,.9527182579040527,.2890035808086395,.09383483231067657,.9527180194854736,.28900402784347534,.09383483231067657,.9527180194854736,.28900402784347534,.09383483231067657,.9527180194854736,.28900402784347534,.02857947163283825,.2901660203933716,-.9565494656562805,.02857947163283825,.2901660203933716,-.9565494656562805,.02857947163283825,.2901660203933716,-.9565494656562805,.028571942821145058,.2901659607887268,-.9565497040748596,.028571942821145058,.2901659607887268,-.9565497040748596,.028571942821145058,.2901659607887268,-.9565497040748596,.09754985570907593,.9904383420944214,.09755007177591324,.09754985570907593,.9904383420944214,.09755007177591324,.09754985570907593,.9904383420944214,.09755007177591324,.09754977375268936,.9904383420944214,.09754953533411026,.09754977375268936,.9904383420944214,.09754953533411026,.09754977375268936,.9904383420944214,.09754953533411026,.009653860703110695,.09801242500543594,.9951383471488953,.009653860703110695,.09801242500543594,.9951383471488953,.009653860703110695,.09801242500543594,.9951383471488953,.009652036242187023,.09801245480775833,-.9951383471488953,.009652036242187023,.09801245480775833,-.9951383471488953,.009652036242187023,.09801245480775833,-.9951383471488953,.09754979610443115,.9904384613037109,-.09754940122365952,.09754979610443115,.9904384613037109,-.09754940122365952,.09754979610443115,.9904384613037109,-.09754940122365952,.09754984080791473,.9904382824897766,-.09754940122365952,.09754984080791473,.9904382824897766,-.09754940122365952,.09754984080791473,.9904382824897766,-.09754940122365952,.0285808015614748,.29016610980033875,.9565494060516357,.0285808015614748,.29016610980033875,.9565494060516357,.0285808015614748,.29016610980033875,.9565494060516357,.02858004719018936,.2901661694049835,.9565494656562805,.02858004719018936,.2901661694049835,.9565494656562805,.02858004719018936,.2901661694049835,.9565494656562805,.028587987646460533,.0942458063364029,-.9951384663581848,.028587987646460533,.0942458063364029,-.9951384663581848,.028587987646460533,.0942458063364029,-.9951384663581848,.2889004051685333,.9523763060569763,-.09754938632249832,.2889004051685333,.9523763060569763,-.09754938632249832,.2889004051685333,.9523763060569763,-.09754938632249832,.28890061378479004,.9523761868476868,-.09755054116249084,.28890061378479004,.9523761868476868,-.09755054116249084,.28890061378479004,.9523761868476868,-.09755054116249084,.08463559299707413,.27901509404182434,.9565496444702148,.08463559299707413,.27901509404182434,.9565496444702148,.08463559299707413,.27901509404182434,.9565496444702148,.08463895320892334,.2790151834487915,.9565494656562805,.08463895320892334,.2790151834487915,.9565494656562805,.08463895320892334,.2790151834487915,.9565494656562805,.2778979539871216,.9161058068275452,-.2890034317970276,.2778979539871216,.9161058068275452,-.2890034317970276,.2778979539871216,.9161058068275452,-.2890034317970276,.2778979241847992,.9161056876182556,-.28900355100631714,.2778979241847992,.9161056876182556,-.28900355100631714,.2778979241847992,.9161056876182556,-.28900355100631714,.13735318183898926,.45279353857040405,.8809723258018494,.13735318183898926,.45279353857040405,.8809723258018494,.13735318183898926,.45279353857040405,.8809723258018494,.13735327124595642,.4527934789657593,.8809722065925598,.13735327124595642,.4527934789657593,.8809722065925598,.13735327124595642,.4527934789657593,.8809722065925598,.25628212094306946,.8448486924171448,-.46962782740592957,.25628212094306946,.8448486924171448,-.46962782740592957,.25628212094306946,.8448486924171448,-.46962782740592957,.2562822103500366,.8448483943939209,-.46962836384773254,.2562822103500366,.8448483943939209,-.46962836384773254,.2562822103500366,.8448483943939209,-.46962836384773254,.18468572199344635,.6088268160820007,.7715058326721191,.18468572199344635,.6088268160820007,.7715058326721191,.18468572199344635,.6088268160820007,.7715058326721191,.18468549847602844,.6088265776634216,.7715059518814087,.18468549847602844,.6088265776634216,.7715059518814087,.18468549847602844,.6088265776634216,.7715059518814087,.22482840716838837,.7411590814590454,-.6325625777244568,.22482840716838837,.7411590814590454,-.6325625777244568,.22482840716838837,.7411590814590454,-.6325625777244568,.22482872009277344,.7411589026451111,-.6325628161430359,.22482872009277344,.7411589026451111,-.6325628161430359,.22482872009277344,.7411589026451111,-.6325628161430359,.2248285859823227,.7411591410636902,.632562518119812,.2248285859823227,.7411591410636902,.632562518119812,.2248285859823227,.7411591410636902,.632562518119812,.22482837736606598,.7411590814590454,.6325625777244568,.22482837736606598,.7411590814590454,.6325625777244568,.22482837736606598,.7411590814590454,.6325625777244568,.1846856325864792,.6088269352912903,-.7715056538581848,.1846856325864792,.6088269352912903,-.7715056538581848,.1846856325864792,.6088269352912903,-.7715056538581848,.18468588590621948,.6088262796401978,-.771506130695343,.18468588590621948,.6088262796401978,-.771506130695343,.18468588590621948,.6088262796401978,-.771506130695343,.25628215074539185,.8448480367660522,.4696287512779236,.25628215074539185,.8448480367660522,.4696287512779236,.25628215074539185,.8448480367660522,.4696287512779236,.2562822699546814,.8448482155799866,.4696284234523773,.2562822699546814,.8448482155799866,.4696284234523773,.2562822699546814,.8448482155799866,.4696284234523773,.13735413551330566,.4527934193611145,-.880972146987915,.13735413551330566,.4527934193611145,-.880972146987915,.13735413551330566,.4527934193611145,-.880972146987915,.1373513638973236,.4527936577796936,-.8809725046157837,.1373513638973236,.4527936577796936,-.8809725046157837,.1373513638973236,.4527936577796936,-.8809725046157837,.27789783477783203,.9161056876182556,.2890036404132843,.27789783477783203,.9161056876182556,.2890036404132843,.27789783477783203,.9161056876182556,.2890036404132843,.27789777517318726,.9161056876182556,.2890036106109619,.27789777517318726,.9161056876182556,.2890036106109619,.27789777517318726,.9161056876182556,.2890036106109619,.08463893830776215,.2790147066116333,-.9565495252609253,.08463893830776215,.2790147066116333,-.9565495252609253,.08463893830776215,.2790147066116333,-.9565495252609253,.0846417024731636,.27901485562324524,-.9565492272377014,.0846417024731636,.27901485562324524,-.9565492272377014,.0846417024731636,.279014];var V=T,B=function(e){Object(d.a)(a,e);var t=Object(h.a)(a);function a(e){var n;return Object(l.a)(this,a),(n=t.call(this,e)).canvas=Object(r.createRef)(),n.camera=new f(0,0,100,new g(0,0,0),new g(0,0,0)),n.oldX=0,n.oldY=0,n.move=!1,n.x=0,n.y=0,n.keyDown=" ".concat(0),n.down=!1,n.renderer=null,n.instanceRenderer=null,n.particles=[],n.drawTracks=!1,n.drawParticles=!0,n.gl=null,n}return Object(c.a)(a,[{key:"setShowTracks",value:function(e){this.renderer.drawTracks=e}},{key:"getMouseXd",value:function(){return this.oldX-this.x}},{key:"getMouseYd",value:function(){return this.oldY-this.y}},{key:"clearRun",value:function(){this.particles=[],this.renderer.clearTracks()}},{key:"componentDidMount",value:function(){var e=this;this.gl=this.canvas.current.getContext("webgl2");new x(this.gl);this.renderer=new O(this.gl),this.instanceRenderer=new M(S.vertices,this.gl);requestAnimationFrame((function t(){.001,e.gl.clearColor(.2,.2,.2,1),e.gl.clear(e.gl.COLOR_BUFFER_BIT);var a,r=b.createProjectionMatrix(70,.1*e.camera.d,1e3*e.camera.d,e.canvas.current.offsetWidth,e.canvas.current.offsetHeight);e.down&&e.move&&(17===e.keyDown?(e.camera.a.y-=.01*e.getMouseYd()*e.camera.d*((89-Math.abs(e.camera.y))/89)*.01,e.camera.a.x-=Math.cos(e.camera.x/(180/Math.PI))*e.getMouseXd()*.01*e.camera.d*((89-Math.abs(e.camera.y))/89)*.01,e.camera.a.z+=Math.sin(e.camera.x/(180/Math.PI))*e.getMouseXd()*.01*e.camera.d*((89-Math.abs(e.camera.y))/89)*.01,e.camera.a.x-=.01*(Math.cos(e.camera.x/(180/Math.PI))*e.getMouseXd()*.01*e.camera.d+Math.sin(e.camera.x/(180/Math.PI))*e.getMouseYd()*.01*e.camera.d),e.camera.a.z-=.01*(Math.cos(e.camera.x/(180/Math.PI))*e.getMouseYd()*.01*e.camera.d+Math.sin(e.camera.x/(180/Math.PI))*-e.getMouseXd()*.01*e.camera.d)):(e.camera.x+=e.getMouseXd()/2,e.camera.y+=e.getMouseYd()/2)),e.renderer.draw(r,e.camera),e.drawParticles&&e.instanceRenderer.render(e.particles,b.createViewMatrix(e.camera),r,e.camera.d,e.gl),(a=e.camera).y>89&&(a.y=89),a.y<-89&&(a.y=-89),a.p.x=a.d*-Math.sin(a.x*Math.PI/180)*Math.cos(a.y*Math.PI/180)+a.a.x,a.p.y=a.d*-Math.sin(a.y*Math.PI/180)+a.a.y,a.p.z=-a.d*Math.cos(a.x*Math.PI/180)*Math.cos(a.y*Math.PI/180)+a.a.z,e.move=!1,requestAnimationFrame(t)}))}},{key:"addSource",value:function(e,t,a,r){var n=new z(new A(S.vertices,S.normals,this.gl),new g(e,t,a),r);return n.model.drawLines=!1,n.model.position=new g(e,t,a),this.renderer.addSource(n),n}},{key:"addParticle",value:function(e){this.particles.push(e)}},{key:"addSTLDetector",value:function(e,t,a,r,n,o,i,s,l,c,u){var d=new C(new A(u.vertices,u.normals,this.gl));return d.model.drawLines=!1,d.model.color=new g(1,1,1),d.model.position.x=e,d.model.position.y=t,d.model.position.z=a,d.model.rotation.x=r,d.model.rotation.y=n,d.model.rotation.z=o,d.model.scale.x=i,d.model.scale.y=s,d.model.scale.z=l,d.material=c,this.renderer.addDetector(d),d}},{key:"addDetector",value:function(e,t,a,r,n,o,i,s,l,c,u){var d=null;switch(u){case"cube":d=new C(new A(S.vertices,S.normals,this.gl));break;case"cylinder":d=new C(new A(F.vertices,F.normals,this.gl));break;case"sphere":d=new C(new A(V.vertices,V.normals,this.gl))}return d.model.drawLines=!1,d.model.color=new g(1,1,1),d.model.position.x=e,d.model.position.y=t,d.model.position.z=a,d.model.rotation.x=r,d.model.rotation.y=n,d.model.rotation.z=o,d.model.scale.x=i,d.model.scale.y=s,d.model.scale.z=l,d.material=c,this.renderer.addDetector(d),d}},{key:"addModel",value:function(e,t){var a=new A(e,t,this.gl);return this.renderer.addModel(a),a}},{key:"addGun",value:function(e,t,a,r,n,o,i){var s=new j(new A(D.vertices,D.normals,this.gl),new g(e,t,a),new g(r,n,o),i);return s.model.position=new g(e,t,a),this.renderer.addGun(s),s}},{key:"removeSource",value:function(e){this.renderer.removeSource(e)}},{key:"removeDetector",value:function(e){this.renderer.removeDetector(e)}},{key:"removeGun",value:function(e){this.renderer.removeGun(e)}},{key:"render",value:function(){var e=this;return n.a.createElement("div",null,n.a.createElement("canvas",{ref:this.canvas,onMouseMove:function(t){e.move=!0,e.oldX=e.x,e.oldY=e.y,e.x=t.pageX,e.y=t.pageY},tabIndex:"0",width:"2000",height:"2000",style:{position:"fixed",right:0,left:0,width:"100%",height:"100%"},onKeyDown:function(t){e.keyDown=t.keyCode},onKeyUp:function(t){e.keyDown=" ".concat(0)},onMouseDown:function(){e.down=!0},onMouseUp:function(){e.down=!1},onWheel:function(t){var a=0;a=t.deltaY>0?1:-1,e.camera.d+=e.camera.d/(100*a)*10}}))}}]),a}(r.Component),N=a(494),U=a(495),I=a(186),G=a(505),q=a(501),H=a(502),_=(a(35),a(506)),Y=a(187),X=(a(126),a(498)),K=a(499),W=function(){function e(){Object(l.a)(this,e)}return Object(c.a)(e,null,[{key:"check",value:function(t){for(var a=0;a<e.materials.length;a++)if(t==e.materials[a])return!0;return!1}}]),e}();W.materials=["H","He","Li","Be","B","C","N","O","F","Ne","Na","Mg","Al","Si","P","S","Cl","Ar","K","Ca","Sc","Ti","V","Cr","Mn","Fe","Co","Ni","Cu","Zn","Ga","Ge","As","Se","Br","Kr","Rb","Sr","Y","Zr","Nb","Mo","Tc","Ru","Rh","Pd","Ag","Cd","In","Sn","Sb","Te","I","Xe","Cs","Ba","La","Ce","Pr","Nd","Pm","Sm","Eu","Gd","Tb","Dy","Ho","Er","Tm","Yb","Lu","Hf","Ta","W","Re","Os","Ir","Pt","Au","Hg","Tl","Pb","Bi","Po","At","Rn","Fr","Ra","Ac","Th","Pa","U","Np","Pu","Am","Cm","Bk","Cf","Es","Fm","Md","No","Lr","Rf","Db","Sg","Bh","Hs","Mt","Ds","Rg","Cn","Nh","Fl","Mc","Lv","Ts","Og"];var Q=W,J=function(e){Object(d.a)(a,e);var t=Object(h.a)(a);function a(e){var r;return Object(l.a)(this,a),(r=t.call(this,e)).showDialog=r.showDialog.bind(Object(u.a)(r)),r.hideDialog=r.hideDialog.bind(Object(u.a)(r)),r.state={show:!1,detname:r.props.detector.name,detposx:r.props.detector.model.position.x,detposy:r.props.detector.model.position.y,detposz:r.props.detector.model.position.z,detrotx:r.props.detector.model.rotation.x,detroty:r.props.detector.model.rotation.y,detrotz:r.props.detector.model.rotation.z,detscalex:r.props.detector.model.scale.x,detscaley:r.props.detector.model.scale.y,detscalez:r.props.detector.model.scale.z,detmat:r.props.detector.material,showError:"none",color:r.props.detector.model.color},r.materials=[],r}return Object(c.a)(a,[{key:"hexToRgb",value:function(e){e=e.substr(1);var t=parseInt(e,16);return new g((t>>16&255)/255,(t>>8&255)/255,(255&t)/255)}},{key:"componentDidMount",value:function(){}},{key:"showDialog",value:function(){this.setState({show:!0}),this.setState({showError:"none"})}},{key:"hideDialog",value:function(){this.setState({show:!1})}},{key:"render",value:function(){var e,t,a,r,o,i,l,c,u,d,h=this;return n.a.createElement(n.a.Fragment,null,n.a.createElement(X.a,{show:this.state.show,onHide:function(){h.hideDialog()}},n.a.createElement(X.a.Header,{closeButton:!0},n.a.createElement(X.a.Title,null,"Modify Detector")),n.a.createElement(X.a.Body,null,n.a.createElement(K.a,null,n.a.createElement(N.a,null,n.a.createElement(U.a,null,"Name ",n.a.createElement(I.a,null,n.a.createElement(K.a.Control,{className:"name",required:!0,type:"text",maxLength:"10",value:this.state.detname,onChange:function(e){h.setState({detname:e.target.value})}}))),n.a.createElement("hr",null),n.a.createElement(U.a,null,"Position"),n.a.createElement(U.a,null,"x",n.a.createElement(I.a,null,n.a.createElement(K.a.Control,(e={className:"numspinner",required:!0,value:"0",type:"number",maxLength:"10"},Object(s.a)(e,"value",this.state.detposx),Object(s.a)(e,"onChange",(function(e){h.setState({detposx:e.target.value})})),e))),"y",n.a.createElement(I.a,null,n.a.createElement(K.a.Control,(t={className:"numspinner",required:!0,value:"0",type:"number",maxLength:"10"},Object(s.a)(t,"value",this.state.detposy),Object(s.a)(t,"onChange",(function(e){h.setState({detposy:e.target.value})})),t))),"z",n.a.createElement(I.a,null,n.a.createElement(K.a.Control,(a={className:"numspinner",required:!0,value:"0",type:"number",maxLength:"10"},Object(s.a)(a,"value",this.state.detposz),Object(s.a)(a,"onChange",(function(e){h.setState({detposz:e.target.value})})),a)))),n.a.createElement("br",null),n.a.createElement("hr",null),n.a.createElement(U.a,null,"Rotation"),n.a.createElement(U.a,null,"x",n.a.createElement(I.a,null,n.a.createElement(K.a.Control,(r={className:"numspinner",required:!0,value:"0",type:"number",maxLength:"10"},Object(s.a)(r,"value",this.state.detrotx),Object(s.a)(r,"onChange",(function(e){h.setState({detrotx:e.target.value})})),r))),"y",n.a.createElement(I.a,null,n.a.createElement(K.a.Control,(o={className:"numspinner",required:!0,value:"0",type:"number",maxLength:"10"},Object(s.a)(o,"value",this.state.detroty),Object(s.a)(o,"onChange",(function(e){h.setState({detroty:e.target.value})})),o))),"z",n.a.createElement(I.a,null,n.a.createElement(K.a.Control,(i={className:"numspinner",required:!0,value:"0",type:"number",maxLength:"10"},Object(s.a)(i,"value",this.state.detrotz),Object(s.a)(i,"onChange",(function(e){h.setState({detrotz:e.target.value})})),i)))),n.a.createElement("br",null),n.a.createElement("hr",null),n.a.createElement(U.a,null,"Scale"),n.a.createElement(U.a,null,"x",n.a.createElement(I.a,null,n.a.createElement(K.a.Control,(l={className:"numspinner",required:!0,value:"0",type:"number",maxLength:"10"},Object(s.a)(l,"value",this.state.detscalex),Object(s.a)(l,"onChange",(function(e){h.setState({detscalex:e.target.value})})),l))),"y",n.a.createElement(I.a,null,n.a.createElement(K.a.Control,(c={className:"numspinner",required:!0,value:"0",type:"number",maxLength:"10"},Object(s.a)(c,"value",this.state.detscaley),Object(s.a)(c,"onChange",(function(e){h.setState({detscaley:e.target.value})})),c))),"z",n.a.createElement(I.a,null,n.a.createElement(K.a.Control,(u={className:"numspinner",required:!0,value:"0",type:"number",maxLength:"10"},Object(s.a)(u,"value",this.state.detscalez),Object(s.a)(u,"onChange",(function(e){h.setState({detscalez:e.target.value})})),u)))),n.a.createElement("br",null),n.a.createElement("hr",null),n.a.createElement(U.a,null,n.a.createElement(K.a.Group,{controlId:"exampleForm.SelectCustom"},n.a.createElement(K.a.Label,null,"Material"),n.a.createElement(K.a.Control,(d={className:"material",required:!0,value:"0",type:"text",maxLength:"10"},Object(s.a)(d,"value",this.state.detmat),Object(s.a)(d,"onChange",(function(e){h.setState({detmat:e.target.value})})),d))),n.a.createElement("span",{style:{display:this.state.showError,color:"red","font-weight":"bold"}},"No such material")),n.a.createElement("hr",null),n.a.createElement(U.a,null,"Color: ",n.a.createElement("span",{style:{"padding-left":"20px"}},n.a.createElement("input",{type:"color",onInput:function(e){h.setState({color:h.hexToRgb(e.target.value)})}})))))),n.a.createElement(X.a.Footer,null,n.a.createElement(Y.a,{variant:"secondary",onClick:function(){h.hideDialog(),h.props.removebutton(h.props.detector,h.props.button)},style:{backgroundColor:"red",color:"white"}},"Delete"),n.a.createElement(Y.a,{variant:"primary",onClick:function(){Q.check(h.state.detmat)?(h.hideDialog(),h.props.detector.model.position.x=h.state.detposx,h.props.detector.model.position.y=h.state.detposy,h.props.detector.model.position.z=h.state.detposz,h.props.detector.model.rotation.x=h.state.detrotx,h.props.detector.model.rotation.y=h.state.detroty,h.props.detector.model.rotation.z=h.state.detrotz,h.props.detector.model.scale.x=h.state.detscalex,h.props.detector.model.scale.y=h.state.detscaley,h.props.detector.model.scale.z=h.state.detscalez,h.props.detector.material=h.state.detmat,h.props.detector.model.color=h.state.color,h.props.updatedetails(n.a.createElement(n.a.Fragment,null,n.a.createElement(U.a,null,n.a.createElement(I.a,null,"Position: ")),n.a.createElement(U.a,null,n.a.createElement(I.a,null,"x: ",h.state.detposx," cm"),n.a.createElement(I.a,null,"y: ",h.state.detposy," cm"),n.a.createElement(I.a,null,"z: ",h.state.detposz," cm")),n.a.createElement(U.a,null,n.a.createElement(I.a,null,"Rotation: ")),n.a.createElement(U.a,null,n.a.createElement(I.a,null,"x: ",h.state.detrotx," deg"),n.a.createElement(I.a,null,"y: ",h.state.detroty," deg"),n.a.createElement(I.a,null,"z: ",h.state.detrotz," deg")),n.a.createElement(U.a,null,n.a.createElement(I.a,null,"Scale: ")),n.a.createElement(U.a,null,n.a.createElement(I.a,null,"x: ",h.state.detscalex),n.a.createElement(I.a,null,"y: ",h.state.detscaley),n.a.createElement(I.a,null,"z: ",h.state.detscalez)),n.a.createElement(U.a,null,n.a.createElement(I.a,null,"Material: ")),n.a.createElement(U.a,null,n.a.createElement(I.a,null,h.state.detmat))))):h.setState({showError:"block"})}},"Modify"))))}}]),a}(r.Component);J.id=0;var Z=J,$=function(e){Object(d.a)(a,e);var t=Object(h.a)(a);function a(e){var r;return Object(l.a)(this,a),(r=t.call(this,e)).editdialog=n.a.createRef(),r.updateDetails=r.updateDetails.bind(Object(u.a)(r)),r.state={details:r.props.details},r.id=r.props.id,r}return Object(c.a)(a,[{key:"componentDidMount",value:function(){}},{key:"updateDetails",value:function(e){this.setState({details:e})}},{key:"render",value:function(){var e=this;return n.a.createElement("div",null,n.a.createElement(Z,{updatedetails:this.updateDetails,button:this,removebutton:this.props.removebutton,detector:this.props.detector,ref:this.editdialog,buttons:this.props.buttons,details:this.props.details}),n.a.createElement(_.a,{className:"button"},n.a.createElement(_.a.Header,null,n.a.createElement(H.a.Toggle,{as:Y.a,onClick:function(){O.acitve_id!=e.id?O.acitve_id=e.id:O.acitve_id=-1},variant:"link",eventKey:this.id},this.props.name),n.a.createElement(Y.a,{onClick:function(){e.editdialog.current.showDialog()},className:"editButton"},"EDIT")),n.a.createElement(H.a.Collapse,{eventKey:this.id},n.a.createElement(_.a.Body,null,this.state.details))))}}]),a}(r.Component);$.id=0;var ee=$,te=a(503),ae=a(500),re=a(504),ne=a(497),oe=a(185),ie=function(e){Object(d.a)(a,e);var t=Object(h.a)(a);function a(e){var r;return Object(l.a)(this,a),(r=t.call(this,e)).showDialog=r.showDialog.bind(Object(u.a)(r)),r.hideDialog=r.hideDialog.bind(Object(u.a)(r)),r.state={show:!1,detname:"Detector",detposx:0,detposy:0,detposz:0,detrotx:0,detroty:0,detrotz:0,detscalex:10,detscaley:10,detscalez:10,detmat:"Pb",geomrty:"cube",display:"none",filelabel:"Path to STL",modeldata:null,showError:"none",color:new g(.5,.5,.5)},r}return Object(c.a)(a,[{key:"componentDidMount",value:function(){}},{key:"hexToRgb",value:function(e){e=e.substr(1);var t=parseInt(e,16);return new g((t>>16&255)/255,(t>>8&255)/255,(255&t)/255)}},{key:"addMaterial",value:function(e,t){this.materials.push(n.a.createElement("option",{value:e},t))}},{key:"showDialog",value:function(){this.setState({show:!0});var e="Detector"+this.props.buttons.length;this.setState({detname:e})}},{key:"hideDialog",value:function(){this.setState({show:!1})}},{key:"render",value:function(){var e,t,a,r,o,i,l,c,u,d,h=this;return n.a.createElement(n.a.Fragment,null,n.a.createElement(X.a,{show:this.state.show,onHide:function(){h.hideDialog()}},n.a.createElement(X.a.Header,{closeButton:!0},n.a.createElement(X.a.Title,null,"Create detector")),n.a.createElement(X.a.Body,null,n.a.createElement(K.a,null,n.a.createElement(N.a,null,n.a.createElement(U.a,null,"Name ",n.a.createElement(I.a,null,n.a.createElement(K.a.Control,{className:"name",required:!0,type:"text",maxLength:"10",value:this.state.detname,onChange:function(e){h.setState({detname:e.target.value})}}))),n.a.createElement("hr",null),n.a.createElement(U.a,null,"Geometry"),n.a.createElement(K.a.Control,{as:"select",value:this.state.geomrty,onChange:function(e){h.setState({geomrty:e.target.value}),"stl"==e.target.value?h.setState({display:"block"}):h.setState({display:"none"})}},n.a.createElement("option",{value:"cube"},"Cube"),n.a.createElement("option",{value:"cylinder"},"Cylinder"),n.a.createElement("option",{value:"sphere"},"Sphere"),n.a.createElement("option",{value:"stl"},"Custom (.STL)")),n.a.createElement(K.a.File,{style:{display:this.state.display},id:"stl-file",label:this.state.filelabel,"data-browse":"Open",custom:!0,onChange:function(e){alert(e.target.files[0]);var t=new FileReader;t.onload=function(){var e=t.result;h.setState({modeldata:e})},t.readAsBinaryString(e.target.files[0]);var a=e.target.value;a=a.split("\\")[a.split("\\").length-1],h.setState({filelabel:a})}}),n.a.createElement("hr",null),n.a.createElement(U.a,null,"Position"),n.a.createElement(U.a,null,"x",n.a.createElement(I.a,null,n.a.createElement(K.a.Control,(e={className:"numspinner",required:!0,value:"0",type:"number",maxLength:"10"},Object(s.a)(e,"value",this.state.detposx),Object(s.a)(e,"onChange",(function(e){h.setState({detposx:e.target.value})})),e))),"y",n.a.createElement(I.a,null,n.a.createElement(K.a.Control,(t={className:"numspinner",required:!0,value:"0",type:"number",maxLength:"10"},Object(s.a)(t,"value",this.state.detposy),Object(s.a)(t,"onChange",(function(e){h.setState({detposy:e.target.value})})),t))),"z",n.a.createElement(I.a,null,n.a.createElement(K.a.Control,(a={className:"numspinner",required:!0,value:"0",type:"number",maxLength:"10"},Object(s.a)(a,"value",this.state.detposz),Object(s.a)(a,"onChange",(function(e){h.setState({detposz:e.target.value})})),a)))),n.a.createElement("br",null),n.a.createElement("hr",null),n.a.createElement(U.a,null,"Rotation"),n.a.createElement(U.a,null,"x",n.a.createElement(I.a,null,n.a.createElement(K.a.Control,(r={className:"numspinner",required:!0,value:"0",type:"number",maxLength:"10"},Object(s.a)(r,"value",this.state.detrotx),Object(s.a)(r,"onChange",(function(e){h.setState({detrotx:e.target.value})})),r))),"y",n.a.createElement(I.a,null,n.a.createElement(K.a.Control,(o={className:"numspinner",required:!0,value:"0",type:"number",maxLength:"10"},Object(s.a)(o,"value",this.state.detroty),Object(s.a)(o,"onChange",(function(e){h.setState({detroty:e.target.value})})),o))),"z",n.a.createElement(I.a,null,n.a.createElement(K.a.Control,(i={className:"numspinner",required:!0,value:"0",type:"number",maxLength:"10"},Object(s.a)(i,"value",this.state.detrotz),Object(s.a)(i,"onChange",(function(e){h.setState({detrotz:e.target.value})})),i)))),n.a.createElement("br",null),n.a.createElement("hr",null),n.a.createElement(U.a,null,"Scale"),n.a.createElement(U.a,null,"x",n.a.createElement(I.a,null,n.a.createElement(K.a.Control,(l={className:"numspinner",required:!0,value:"0",type:"number",maxLength:"10"},Object(s.a)(l,"value",this.state.detscalex),Object(s.a)(l,"onChange",(function(e){h.setState({detscalex:e.target.value})})),l))),"y",n.a.createElement(I.a,null,n.a.createElement(K.a.Control,(c={className:"numspinner",required:!0,value:"0",type:"number",maxLength:"10"},Object(s.a)(c,"value",this.state.detscaley),Object(s.a)(c,"onChange",(function(e){h.setState({detscaley:e.target.value})})),c))),"z",n.a.createElement(I.a,null,n.a.createElement(K.a.Control,(u={className:"numspinner",required:!0,value:"0",type:"number",maxLength:"10"},Object(s.a)(u,"value",this.state.detscalez),Object(s.a)(u,"onChange",(function(e){h.setState({detscalez:e.target.value})})),u)))),n.a.createElement("br",null),n.a.createElement("hr",null),n.a.createElement(U.a,null,n.a.createElement(K.a.Group,{controlId:"exampleForm.SelectCustom"},n.a.createElement(K.a.Label,null,"Material"),n.a.createElement(K.a.Control,(d={className:"material",required:!0,value:"0",type:"text",maxLength:"10"},Object(s.a)(d,"value",this.state.detmat),Object(s.a)(d,"onChange",(function(e){h.setState({detmat:e.target.value})})),d))),n.a.createElement("span",{style:{display:this.state.showError,color:"red","font-weight":"bold"}},"No such material")),n.a.createElement("hr",null),n.a.createElement(U.a,null,"Color: ",n.a.createElement("span",{style:{"padding-left":"20px"}},n.a.createElement("input",{type:"color",onInput:function(e){h.setState({color:h.hexToRgb(e.target.value)})}})))))),n.a.createElement(X.a.Footer,null,n.a.createElement(Y.a,{variant:"secondary",onClick:function(){h.hideDialog()}},"Cancel"),n.a.createElement(Y.a,{variant:"primary",onClick:function(){Q.check(h.state.detmat)?(h.hideDialog(),h.props.createbutton(h.state.detname,h.state.detposx,h.state.detposy,h.state.detposz,h.state.detrotx,h.state.detroty,h.state.detrotz,h.state.detscalex,h.state.detscaley,h.state.detscalez,h.state.detmat,h.state.geomrty,h.state.modeldata,h.state.color)):h.setState({showError:"block"})}},"Create"))))}}]),a}(r.Component);ie.id=0;var se=ie,le=function(e){Object(d.a)(a,e);var t=Object(h.a)(a);function a(e){var r;return Object(l.a)(this,a),(r=t.call(this,e)).showDialog=r.showDialog.bind(Object(u.a)(r)),r.hideDialog=r.hideDialog.bind(Object(u.a)(r)),r.state={show:!1,detname:r.props.detector.name,detposx:r.props.detector.model.position.x,detposy:r.props.detector.model.position.y,detposz:r.props.detector.model.position.z,detdirx:r.props.detector.direction.x,detdiry:r.props.detector.direction.y,detdirz:r.props.detector.direction.z,energy:r.props.detector.energy},r}return Object(c.a)(a,[{key:"componentDidMount",value:function(){}},{key:"showDialog",value:function(){this.setState({show:!0})}},{key:"hideDialog",value:function(){this.setState({show:!1})}},{key:"render",value:function(){var e,t,a,r,o,i,l,c=this;return n.a.createElement(n.a.Fragment,null,n.a.createElement(X.a,{show:this.state.show,onHide:function(){c.hideDialog()}},n.a.createElement(X.a.Header,{closeButton:!0},n.a.createElement(X.a.Title,null,"Modify Detector")),n.a.createElement(X.a.Body,null,n.a.createElement(K.a,null,n.a.createElement(N.a,null,n.a.createElement(U.a,null,"Name ",n.a.createElement(I.a,null,n.a.createElement(K.a.Control,{className:"name",required:!0,type:"text",maxLength:"10",value:this.state.detname,onChange:function(e){c.setState({detname:e.target.value})}}))),n.a.createElement(U.a,null,"Position"),n.a.createElement(U.a,null,"x",n.a.createElement(I.a,null,n.a.createElement(K.a.Control,(e={className:"numspinner",required:!0,value:"0",type:"number",maxLength:"10"},Object(s.a)(e,"value",this.state.detposx),Object(s.a)(e,"onChange",(function(e){c.setState({detposx:e.target.value})})),e))),"y",n.a.createElement(I.a,null,n.a.createElement(K.a.Control,(t={className:"numspinner",required:!0,value:"0",type:"number",maxLength:"10"},Object(s.a)(t,"value",this.state.detposy),Object(s.a)(t,"onChange",(function(e){c.setState({detposy:e.target.value})})),t))),"z",n.a.createElement(I.a,null,n.a.createElement(K.a.Control,(a={className:"numspinner",required:!0,value:"0",type:"number",maxLength:"10"},Object(s.a)(a,"value",this.state.detposz),Object(s.a)(a,"onChange",(function(e){c.setState({detposz:e.target.value})})),a)))),n.a.createElement("br",null),n.a.createElement(U.a,null,"Direction"),n.a.createElement(U.a,null,"x",n.a.createElement(I.a,null,n.a.createElement(K.a.Control,(r={className:"numspinner",required:!0,value:"0",type:"number",maxLength:"10"},Object(s.a)(r,"value",this.state.detdirx),Object(s.a)(r,"onChange",(function(e){c.setState({detdirx:e.target.value})})),r))),"y",n.a.createElement(I.a,null,n.a.createElement(K.a.Control,(o={className:"numspinner",required:!0,value:"0",type:"number",maxLength:"10"},Object(s.a)(o,"value",this.state.detdiry),Object(s.a)(o,"onChange",(function(e){c.setState({detdiry:e.target.value})})),o))),"z",n.a.createElement(I.a,null,n.a.createElement(K.a.Control,(i={className:"numspinner",required:!0,value:"0",type:"number",maxLength:"10"},Object(s.a)(i,"value",this.state.detdirz),Object(s.a)(i,"onChange",(function(e){c.setState({detdirz:e.target.value})})),i)))),n.a.createElement("br",null),n.a.createElement(U.a,null,"Energy ",n.a.createElement(I.a,null,n.a.createElement(K.a.Control,(l={className:"numspinner",required:!0,value:"0",type:"number",maxLength:"10"},Object(s.a)(l,"value",this.state.energy),Object(s.a)(l,"onChange",(function(e){c.setState({energy:e.target.value})})),l)))," keV")))),n.a.createElement(X.a.Footer,null,n.a.createElement(Y.a,{variant:"secondary",onClick:function(){c.hideDialog(),c.props.removebutton(c.props.detector,c.props.button)},style:{backgroundColor:"red",color:"white"}},"Delete"),n.a.createElement(Y.a,{variant:"primary",onClick:function(){c.hideDialog(),c.props.detector.name=c.state.name,c.props.detector.model.position.x=c.state.detposx,c.props.detector.model.position.y=c.state.detposy,c.props.detector.model.position.z=c.state.detposz,c.props.detector.direction.x=c.state.detdirx,c.props.detector.direction.y=c.state.detdiry,c.props.detector.direction.z=c.state.detdirz,c.props.detector.energy=c.state.energy,c.props.updatedetails(n.a.createElement(N.a,null,n.a.createElement(U.a,null,n.a.createElement(I.a,null,"Position: ")),n.a.createElement(U.a,null,n.a.createElement(I.a,null,"x: ",c.state.detposx," cm"),n.a.createElement(I.a,null,"y: ",c.state.detposy," cm"),n.a.createElement(I.a,null,"z: ",c.state.detposz," cm")),n.a.createElement(U.a,null,n.a.createElement(I.a,null,"Direction: ")),n.a.createElement(U.a,null,n.a.createElement(I.a,null,"x: ",c.state.detdirx," "),n.a.createElement(I.a,null,"y: ",c.state.detdiry," "),n.a.createElement(I.a,null,"z: ",c.state.detdirz," ")),n.a.createElement(U.a,null,n.a.createElement(I.a,null,"Energy: ",c.state.energy," keV"))))}},"Modify"))))}}]),a}(r.Component);le.id=0;var ce=le,ue=function(e){Object(d.a)(a,e);var t=Object(h.a)(a);function a(e){var r;return Object(l.a)(this,a),(r=t.call(this,e)).editdialog=n.a.createRef(),r.updateDetails=r.updateDetails.bind(Object(u.a)(r)),r.state={details:r.props.details},r.id=r.props.id,r}return Object(c.a)(a,[{key:"updateDetails",value:function(e){this.setState({details:e})}},{key:"render",value:function(){var e=this;return n.a.createElement("div",null,n.a.createElement(ce,{updatedetails:this.updateDetails,button:this,removebutton:this.props.removebutton,detector:this.props.detector,ref:this.editdialog,buttons:this.props.buttons,details:this.props.details}),n.a.createElement(_.a,{className:"button"},n.a.createElement(_.a.Header,null,n.a.createElement(H.a.Toggle,{as:Y.a,onClick:function(){O.acitve_id!=e.id?O.acitve_id=e.id:O.acitve_id=-1},variant:"link",eventKey:this.id},this.props.name),n.a.createElement(Y.a,{onClick:function(){e.editdialog.current.showDialog()},className:"editButton"},"EDIT")),n.a.createElement(H.a.Collapse,{eventKey:this.id},n.a.createElement(_.a.Body,null,this.state.details))))}}]),a}(r.Component);ue.id=0;var de=ue,he=function(e){Object(d.a)(a,e);var t=Object(h.a)(a);function a(e){var r;return Object(l.a)(this,a),(r=t.call(this,e)).showDialog=r.showDialog.bind(Object(u.a)(r)),r.hideDialog=r.hideDialog.bind(Object(u.a)(r)),r.state={show:!1,detname:"Detector",detposx:0,detposy:0,detposz:0,detdirx:0,detdiry:0,detdirz:0,energy:100},r}return Object(c.a)(a,[{key:"componentDidMount",value:function(){}},{key:"showDialog",value:function(){this.setState({show:!0})}},{key:"hideDialog",value:function(){this.setState({show:!1})}},{key:"render",value:function(){var e,t,a,r,o,i,l,c=this;return n.a.createElement(n.a.Fragment,null,n.a.createElement(X.a,{show:this.state.show,onHide:function(){c.hideDialog()}},n.a.createElement(X.a.Header,{closeButton:!0},n.a.createElement(X.a.Title,null,"Create Particle Gun")),n.a.createElement(X.a.Body,null,n.a.createElement(K.a,null,n.a.createElement(N.a,null,n.a.createElement(U.a,null,"Name ",n.a.createElement(I.a,null,n.a.createElement(K.a.Control,{className:"name",required:!0,type:"text",maxLength:"10",value:this.state.detname,onChange:function(e){c.setState({detname:e.target.value})}}))),n.a.createElement(U.a,null,"Position"),n.a.createElement(U.a,null,"x",n.a.createElement(I.a,null,n.a.createElement(K.a.Control,(e={className:"numspinner",required:!0,value:"0",type:"number",maxLength:"10"},Object(s.a)(e,"value",this.state.detposx),Object(s.a)(e,"onChange",(function(e){c.setState({detposx:e.target.value})})),e))),"y",n.a.createElement(I.a,null,n.a.createElement(K.a.Control,(t={className:"numspinner",required:!0,value:"0",type:"number",maxLength:"10"},Object(s.a)(t,"value",this.state.detposy),Object(s.a)(t,"onChange",(function(e){c.setState({detposy:e.target.value})})),t))),"z",n.a.createElement(I.a,null,n.a.createElement(K.a.Control,(a={className:"numspinner",required:!0,value:"0",type:"number",maxLength:"10"},Object(s.a)(a,"value",this.state.detposz),Object(s.a)(a,"onChange",(function(e){c.setState({detposz:e.target.value})})),a)))),n.a.createElement("br",null),n.a.createElement(U.a,null,"Direction"),n.a.createElement(U.a,null,"x",n.a.createElement(I.a,null,n.a.createElement(K.a.Control,(r={className:"numspinner",required:!0,value:"0",type:"number",maxLength:"10"},Object(s.a)(r,"value",this.state.detdirx),Object(s.a)(r,"onChange",(function(e){c.setState({detdirx:e.target.value})})),r))),"y",n.a.createElement(I.a,null,n.a.createElement(K.a.Control,(o={className:"numspinner",required:!0,value:"0",type:"number",maxLength:"10"},Object(s.a)(o,"value",this.state.detdiry),Object(s.a)(o,"onChange",(function(e){c.setState({detdiry:e.target.value})})),o))),"z",n.a.createElement(I.a,null,n.a.createElement(K.a.Control,(i={className:"numspinner",required:!0,value:"0",type:"number",maxLength:"10"},Object(s.a)(i,"value",this.state.detdirz),Object(s.a)(i,"onChange",(function(e){c.setState({detdirz:e.target.value})})),i)))),n.a.createElement("br",null),n.a.createElement(U.a,null,"Energy ",n.a.createElement(I.a,null,n.a.createElement(K.a.Control,(l={className:"numspinner",required:!0,value:"0",type:"number",maxLength:"10"},Object(s.a)(l,"value",this.state.energy),Object(s.a)(l,"onChange",(function(e){c.setState({energy:e.target.value})})),l)))," keV")))),n.a.createElement(X.a.Footer,null,n.a.createElement(Y.a,{variant:"secondary",onClick:function(){c.hideDialog()}},"Cancel"),n.a.createElement(Y.a,{variant:"primary",onClick:function(){c.hideDialog(),c.props.createbutton(c.state.detname,c.state.detposx,c.state.detposy,c.state.detposz,c.state.detdirx,c.state.detdiry,c.state.detdirz,c.state.energy)}},"Create"))))}}]),a}(r.Component);he.id=0;var me=he,pe=function(e){Object(d.a)(a,e);var t=Object(h.a)(a);function a(e){var r;return Object(l.a)(this,a),(r=t.call(this,e)).showDialog=r.showDialog.bind(Object(u.a)(r)),r.hideDialog=r.hideDialog.bind(Object(u.a)(r)),r.state={show:!1,detname:r.props.detector.name,detposx:r.props.detector.model.position.x,detposy:r.props.detector.model.position.y,detposz:r.props.detector.model.position.z,material:r.props.detector.material},r}return Object(c.a)(a,[{key:"componentDidMount",value:function(){}},{key:"showDialog",value:function(){this.setState({show:!0})}},{key:"hideDialog",value:function(){this.setState({show:!1})}},{key:"render",value:function(){var e,t,a,r,o=this;return n.a.createElement(n.a.Fragment,null,n.a.createElement(X.a,{show:this.state.show,onHide:function(){o.hideDialog()}},n.a.createElement(X.a.Header,{closeButton:!0},n.a.createElement(X.a.Title,null,"Modify Detector")),n.a.createElement(X.a.Body,null,n.a.createElement(K.a,null,n.a.createElement(N.a,null,n.a.createElement(U.a,null,"Name ",n.a.createElement(I.a,null,n.a.createElement(K.a.Control,{className:"name",required:!0,type:"text",maxLength:"10",value:this.state.detname,onChange:function(e){o.setState({detname:e.target.value})}}))),n.a.createElement(U.a,null,"Position"),n.a.createElement(U.a,null,"x",n.a.createElement(I.a,null,n.a.createElement(K.a.Control,(e={className:"numspinner",required:!0,value:"0",type:"number",maxLength:"10"},Object(s.a)(e,"value",this.state.detposx),Object(s.a)(e,"onChange",(function(e){o.setState({detposx:e.target.value})})),e))),"y",n.a.createElement(I.a,null,n.a.createElement(K.a.Control,(t={className:"numspinner",required:!0,value:"0",type:"number",maxLength:"10"},Object(s.a)(t,"value",this.state.detposy),Object(s.a)(t,"onChange",(function(e){o.setState({detposy:e.target.value})})),t))),"z",n.a.createElement(I.a,null,n.a.createElement(K.a.Control,(a={className:"numspinner",required:!0,value:"0",type:"number",maxLength:"10"},Object(s.a)(a,"value",this.state.detposz),Object(s.a)(a,"onChange",(function(e){o.setState({detposz:e.target.value})})),a)))),n.a.createElement("br",null),n.a.createElement("br",null),n.a.createElement(U.a,null,"Material ",n.a.createElement(I.a,null,n.a.createElement(K.a.Control,(r={className:"numspinner",required:!0,value:"0",type:"text",maxLength:"10"},Object(s.a)(r,"value",this.state.material),Object(s.a)(r,"onChange",(function(e){o.setState({material:e.target.value})})),r))))))),n.a.createElement(X.a.Footer,null,n.a.createElement(Y.a,{variant:"secondary",onClick:function(){o.hideDialog(),o.props.removebutton(o.props.detector,o.props.button)},style:{backgroundColor:"red",color:"white"}},"Delete"),n.a.createElement(Y.a,{variant:"primary",onClick:function(){o.hideDialog(),o.props.detector.name=o.state.name,o.props.detector.model.position.x=o.state.detposx,o.props.detector.model.position.y=o.state.detposy,o.props.detector.model.position.z=o.state.detposz,o.props.detector.material=o.state.material,o.props.updatedetails(n.a.createElement(N.a,null,n.a.createElement(U.a,null,n.a.createElement(I.a,null,"Position: ")),n.a.createElement(U.a,null,n.a.createElement(I.a,null,"x: ",o.state.detposx," cm"),n.a.createElement(I.a,null,"y: ",o.state.detposy," cm"),n.a.createElement(I.a,null,"z: ",o.state.detposz," cm")),n.a.createElement(U.a,null,n.a.createElement(I.a,null,"Material: ",o.state.material))))}},"Modify"))))}}]),a}(r.Component);pe.id=0;var ve=pe,ge=function(e){Object(d.a)(a,e);var t=Object(h.a)(a);function a(e){var r;return Object(l.a)(this,a),(r=t.call(this,e)).editdialog=n.a.createRef(),r.updateDetails=r.updateDetails.bind(Object(u.a)(r)),r.state={details:r.props.details},r.id=r.props.id,r}return Object(c.a)(a,[{key:"updateDetails",value:function(e){this.setState({details:e})}},{key:"render",value:function(){var e=this;return n.a.createElement("div",null,n.a.createElement(ve,{updatedetails:this.updateDetails,button:this,removebutton:this.props.removebutton,detector:this.props.detector,ref:this.editdialog,buttons:this.props.buttons,details:this.props.details}),n.a.createElement(_.a,{className:"button"},n.a.createElement(_.a.Header,null,n.a.createElement(H.a.Toggle,{as:Y.a,onClick:function(){O.acitve_id!=e.id?O.acitve_id=e.id:O.acitve_id=-1},variant:"link",eventKey:this.id},this.props.name),n.a.createElement(Y.a,{onClick:function(){e.editdialog.current.showDialog()},className:"editButton"},"EDIT")),n.a.createElement(H.a.Collapse,{eventKey:this.id},n.a.createElement(_.a.Body,null,this.state.details))))}}]),a}(r.Component);ge.id=0;var fe=ge,be=function(e){Object(d.a)(a,e);var t=Object(h.a)(a);function a(e){var r;return Object(l.a)(this,a),(r=t.call(this,e)).showDialog=r.showDialog.bind(Object(u.a)(r)),r.hideDialog=r.hideDialog.bind(Object(u.a)(r)),r.state={show:!1,detname:"Detector",detposx:0,detposy:0,detposz:0,material:"Co60"},r}return Object(c.a)(a,[{key:"componentDidMount",value:function(){}},{key:"showDialog",value:function(){this.setState({show:!0});var e="Source"+this.props.buttons.length;this.setState({detname:e})}},{key:"hideDialog",value:function(){this.setState({show:!1})}},{key:"render",value:function(){var e,t,a,r,o=this;return n.a.createElement(n.a.Fragment,null,n.a.createElement(X.a,{show:this.state.show,onHide:function(){o.hideDialog()}},n.a.createElement(X.a.Header,{closeButton:!0},n.a.createElement(X.a.Title,null,"Create Particle Source")),n.a.createElement(X.a.Body,null,n.a.createElement(K.a,null,n.a.createElement(N.a,null,n.a.createElement(U.a,null,"Name ",n.a.createElement(I.a,null,n.a.createElement(K.a.Control,{className:"name",required:!0,type:"text",maxLength:"10",value:this.state.detname,onChange:function(e){o.setState({detname:e.target.value})}}))),n.a.createElement(U.a,null,"Position"),n.a.createElement(U.a,null,"x",n.a.createElement(I.a,null,n.a.createElement(K.a.Control,(e={className:"numspinner",required:!0,value:"0",type:"number",maxLength:"10"},Object(s.a)(e,"value",this.state.detposx),Object(s.a)(e,"onChange",(function(e){o.setState({detposx:e.target.value})})),e))),"y",n.a.createElement(I.a,null,n.a.createElement(K.a.Control,(t={className:"numspinner",required:!0,value:"0",type:"number",maxLength:"10"},Object(s.a)(t,"value",this.state.detposy),Object(s.a)(t,"onChange",(function(e){o.setState({detposy:e.target.value})})),t))),"z",n.a.createElement(I.a,null,n.a.createElement(K.a.Control,(a={className:"numspinner",required:!0,value:"0",type:"number",maxLength:"10"},Object(s.a)(a,"value",this.state.detposz),Object(s.a)(a,"onChange",(function(e){o.setState({detposz:e.target.value})})),a)))),n.a.createElement("br",null),n.a.createElement(U.a,null,"Material ",n.a.createElement(I.a,null,n.a.createElement(K.a.Control,(r={className:"numspinner",required:!0,value:"0",type:"text",maxLength:"10"},Object(s.a)(r,"value",this.state.material),Object(s.a)(r,"onChange",(function(e){o.setState({material:e.target.value})})),r))))))),n.a.createElement(X.a.Footer,null,n.a.createElement(Y.a,{variant:"secondary",onClick:function(){o.hideDialog()}},"Cancel"),n.a.createElement(Y.a,{variant:"primary",onClick:function(){o.hideDialog(),o.props.createbutton(o.state.detname,o.state.detposx,o.state.detposy,o.state.detposz,o.state.material)}},"Create"))))}}]),a}(r.Component);be.id=0;var ye=be,Ee=a(496),xe=function(e){Object(d.a)(a,e);var t=Object(h.a)(a);function a(e){var r;return Object(l.a)(this,a),(r=t.call(this,e)).state={numberOfParticles:100,show:!1,loading:!1},r.hideDialog=r.hideDialog.bind(Object(u.a)(r)),r.showDialog=r.showDialog.bind(Object(u.a)(r)),r.setLoading=r.setLoading.bind(Object(u.a)(r)),r}return Object(c.a)(a,[{key:"hideDialog",value:function(){this.setState({show:!1})}},{key:"showDialog",value:function(){this.setState({show:!0,loading:!1})}},{key:"setLoading",value:function(e){this.setState({loading:e})}},{key:"render",value:function(){var e=this;return this.state.loading?n.a.createElement(n.a.Fragment,null,n.a.createElement(X.a,{show:this.state.show,onHide:function(){e.hideDialog()}},n.a.createElement(X.a.Header,{closeButton:!0},n.a.createElement(X.a.Title,null,"Run simulation")),n.a.createElement(X.a.Body,null,n.a.createElement(U.a,{style:{margin:"5px"}},"Runnig simulation"),n.a.createElement(Ee.a,{animation:"border",role:"status"})),n.a.createElement(X.a.Footer,null,n.a.createElement(Y.a,{variant:"secondary",onClick:function(){e.hideDialog()}},"Cancel"),n.a.createElement(Y.a,{variant:"primary",onClick:function(){e.props.runsim(e.state.numberOfParticles)}},"Run")))):n.a.createElement(n.a.Fragment,null,n.a.createElement(X.a,{show:this.state.show,onHide:function(){e.hideDialog()}},n.a.createElement(X.a.Header,{closeButton:!0},n.a.createElement(X.a.Title,null,"Run simulation")),n.a.createElement(X.a.Body,null,n.a.createElement(U.a,{style:{margin:"5px"}},"Number of particles:"),n.a.createElement(K.a,null,n.a.createElement(K.a.Control,{required:!0,type:"number",value:this.state.numberOfParticles,onChange:function(t){e.setState({numberOfParticles:t.target.value})}}))),n.a.createElement(X.a.Footer,null,n.a.createElement(Y.a,{variant:"secondary",onClick:function(){e.hideDialog()}},"Cancel"),n.a.createElement(Y.a,{variant:"primary",onClick:function(){e.setLoading(!0),e.props.runsim(e.state.numberOfParticles,e.hideDialog)}},"Run"))))}}]),a}(r.Component),we=function(e){Object(d.a)(a,e);var t=Object(h.a)(a);function a(e){var r;return Object(l.a)(this,a),(r=t.call(this,e)).state={numberofparticles:1e3,detector:0,show:!1,loading:!1,now:60,binsize:1},r.hideDialog=r.hideDialog.bind(Object(u.a)(r)),r.showDialog=r.showDialog.bind(Object(u.a)(r)),r.setLoading=r.setLoading.bind(Object(u.a)(r)),r}return Object(c.a)(a,[{key:"hideDialog",value:function(){this.setState({show:!1})}},{key:"setLoading",value:function(e){this.setState({loading:e})}},{key:"showDialog",value:function(){this.setState({show:!0,loading:!1})}},{key:"render",value:function(){var e,t,a=this;if(this.state.loading)return n.a.createElement(X.a,{show:this.state.show},n.a.createElement(X.a.Header,{closeButton:!0},n.a.createElement(X.a.Title,null,"Configure Spectroscopy")),n.a.createElement(X.a.Body,null,n.a.createElement(U.a,{style:{margin:"5px"}},"Runnig simulation"),n.a.createElement(Ee.a,{animation:"border",role:"status"})),n.a.createElement(X.a.Footer,null,n.a.createElement(Y.a,{variant:"secondary",onClick:function(){a.hideDialog()}},"Cancel")));for(var r=[],o=0;o<this.props.detectors.length;o++)r.push(n.a.createElement("option",{value:this.props.detectors[o].id},this.props.detectors[o].name));return n.a.createElement(n.a.Fragment,null,n.a.createElement(X.a,{show:this.state.show,onHide:function(){a.hideDialog()}},n.a.createElement(X.a.Header,{closeButton:!0},n.a.createElement(X.a.Title,null,"Configure Spectroscopy")),n.a.createElement(X.a.Body,null,n.a.createElement(U.a,{style:{margin:"5px"}},"Select detector"),n.a.createElement(K.a,null,n.a.createElement(K.a.Control,{as:"select",value:this.state.detector,onChange:function(e){a.setState({detector:e.target.value})}},r),n.a.createElement("hr",null),n.a.createElement(U.a,{style:{margin:"5px"}},"Number of particles"),n.a.createElement(K.a.Control,(e={className:"numspinner",required:!0,value:"0",type:"number",maxLength:"10"},Object(s.a)(e,"value",this.state.numberofparticles),Object(s.a)(e,"onChange",(function(e){a.setState({numberofparticles:e.target.value})})),e)),n.a.createElement("hr",null),n.a.createElement(U.a,{style:{margin:"5px"}},"Bin size"),n.a.createElement(U.a,null,n.a.createElement(K.a.Control,(t={className:"numspinner",required:!0,value:"0",type:"number",maxLength:"10"},Object(s.a)(t,"value",this.state.binsize),Object(s.a)(t,"style",{width:"20%",margin:"15px"}),Object(s.a)(t,"onChange",(function(e){a.setState({binsize:e.target.value})})),t)),n.a.createElement("span",{style:{padding:"20px"}},"keV")))),n.a.createElement(X.a.Footer,null,n.a.createElement(Y.a,{variant:"secondary",onClick:function(){a.hideDialog()}},"Cancel"),n.a.createElement(Y.a,{variant:"primary",onClick:function(){a.setLoading(!0),a.props.runsim(a.state.numberofparticles,a.state.detector,a.hideDialog,a.state.binsize)}},"Run"))))}}]),a}(r.Component),Ae=function(e){Object(d.a)(a,e);var t=Object(h.a)(a);function a(e){var r;return Object(l.a)(this,a),(r=t.call(this,e)).dialog=n.a.createRef(),r.gundialog=n.a.createRef(),r.sourcedialog=n.a.createRef(),r.rundialog=n.a.createRef(),r.spectrumdialog=n.a.createRef(),r.state={showTracks:!0,showParticles:!0},r}return Object(c.a)(a,[{key:"render",value:function(){var e=this;return n.a.createElement(n.a.Fragment,null,n.a.createElement(se,{ref:this.dialog,createbutton:this.props.createbutton,buttons:this.props.buttons}),n.a.createElement(me,{ref:this.gundialog,createbutton:this.props.creategunbutton,buttons:this.props.buttons}),n.a.createElement(ye,{ref:this.sourcedialog,createbutton:this.props.createsourcebutton,buttons:this.props.buttons}),n.a.createElement(xe,{ref:this.rundialog,runsim:this.props.run}),n.a.createElement(we,{ref:this.spectrumdialog,runsim:this.props.runspectroscopy,detectors:this.props.detectors}),n.a.createElement(te.a,{bg:"light",variant:"light",style:{position:"fixed","z-index":"4"}},n.a.createElement(te.a.Brand,null,"Geant4"),n.a.createElement(Y.a,{variant:"primary",onClick:function(){e.rundialog.current.showDialog()}},"Run"),n.a.createElement(Y.a,{variant:"primary",style:{backgroundColor:"green"},onClick:function(){e.spectrumdialog.current.showDialog()}},"Spectroscopy"),n.a.createElement(Y.a,{variant:"primary",style:{backgroundColor:"red"},onClick:function(){e.props.clearrun()}},"Clear particles"),n.a.createElement(Y.a,{variant:"primary",style:{backgroundColor:"red"},onClick:function(){e.props.clearSetup()}},"Clear setup"),n.a.createElement(q.a,{className:"mr-auto"},n.a.createElement(ae.a,null,n.a.createElement(ae.a.Toggle,{variant:"success",id:"dropdown-basic",style:{backgroundColor:"white",border:"none",color:"black"}},"Add"),n.a.createElement(ae.a.Menu,null,n.a.createElement(re.a,{overlay:n.a.createElement(ne.a,{id:"tooltip-disabled"},"Detector Geometry")},n.a.createElement("span",{className:"d-inline-block"},n.a.createElement(ae.a.Item,{className:"detectoroption",onClick:function(){e.dialog.current.showDialog()}},"Detector"))),n.a.createElement("br",null),n.a.createElement(re.a,{overlay:n.a.createElement(ne.a,{id:"tooltip-disabled"},"General Particle Source")},n.a.createElement("span",{className:"d-inline-block"},n.a.createElement(ae.a.Item,{className:"detectoroption",onClick:function(){e.sourcedialog.current.showDialog()}},"GPS"))),n.a.createElement("br",null),n.a.createElement(re.a,{overlay:n.a.createElement(ne.a,{id:"tooltip-disabled"},"Directed Particle Gun")},n.a.createElement("span",{className:"d-inline-block"},n.a.createElement(ae.a.Item,{className:"detectoroption",onClick:function(){e.gundialog.current.showDialog()}},"Gun"))))),n.a.createElement(ae.a,null,n.a.createElement(ae.a.Toggle,{variant:"success",id:"dropdown-basic",style:{backgroundColor:"white",border:"none",color:"black"}},"View"),n.a.createElement(ae.a.Menu,null,n.a.createElement(K.a.Check,{type:"checkbox",label:"Show Tracks",checked:this.state.showTracks,onChange:function(t){e.setState({showTracks:t.target.checked}),e.props.setshowtracks(e.state.showTracks)},style:{margin:"12px"}}),n.a.createElement(K.a.Check,{type:"checkbox",label:"Show Particles",checked:this.state.showParticles,onChange:function(t){e.setState({showParticles:t.target.checked}),e.props.setshowparticles(e.state.showParticles)},style:{margin:"12px"}})))),n.a.createElement(K.a,{inline:!0},n.a.createElement(oe.a,{type:"text",placeholder:"Search",className:"mr-sm-2"}),n.a.createElement(Y.a,{variant:"outline-primary"},"Search"))))}}]),a}(r.Component);Ae.id=0;var Se=Ae,ke=function e(){Object(l.a)(this,e),this.track_id=0,this.parent_id=0,this.position=new g(0,0,0),this.color=new g(1,1,1),this.totalEnergy=0,this.energyDeposit=0,this.definition="",this.id=""},Oe=a(101),Ce=a.n(Oe),je=(a(476),function(e){Object(d.a)(a,e);var t=Object(h.a)(a);function a(e){var r;return Object(l.a)(this,a),(r=t.call(this,e)).energies=[],r.numberofenergies=[],r.canvas=n.a.createRef(),r}return Object(c.a)(a,[{key:"componentDidMount",value:function(){this.chart=new Ce.a(this.canvas.current.getContext("2d"),{type:"bar",data:{labels:[],datasets:[{label:"counts",backgroundColor:"rgb(0, 99, 132)",borderColor:"rgb(0, 99, 132)",data:[]}]},options:{responsive:!0,plugins:{zoom:{pan:{enabled:!0,mode:"xy"},zoom:{enabled:!0,mode:"xy"}}}}})}},{key:"render",value:function(){return n.a.createElement("div",null,n.a.createElement("canvas",{ref:this.canvas}))}},{key:"add",value:function(e){isNaN(e)||(this.contains(e)?this.numberofenergies[this.getIndex(e)]++:(this.energies.push(e),this.numberofenergies.push(1)))}},{key:"contains",value:function(e){for(var t=0;t<this.energies.length;t++)if(this.energies[t]==e)return!0;return!1}},{key:"getIndex",value:function(e){for(var t=0;t<this.energies.length;t++)if(0==Math.abs(this.energies[t]-e))return t;return-1}},{key:"sort",value:function(){for(var e=[],t=0;t<this.energies.length;t++)e.push({hit:this.energies[t],no:this.numberofenergies[t]});e.sort((function(e,t){return e.hit<t.hit?-1:e.hit==t.hit?0:1}));for(var a=0;a<e.length;a++)this.energies[a]=e[a].hit,this.numberofenergies[a]=e[a].no;for(var r=0;r<this.energies.length;r++)this.addData(this.energies[r],this.numberofenergies[r])}},{key:"clear",value:function(){this.chart.destroy();var e=this.canvas.current.getContext("2d");this.chart=new Ce.a(e,{type:"bar",data:{labels:[],datasets:[{label:"counts",backgroundColor:"rgb(0, 99, 132)",borderColor:"rgb(0, 99, 132)",data:[]}]},options:{responsive:!0,plugins:{zoom:{pan:{enabled:!0,mode:"xy"},zoom:{enabled:!0,mode:"xy"}}}}}),this.energies=[],this.numberofenergies=[]}},{key:"addData",value:function(e,t){this.chart.data.labels.push(e),this.chart.data.datasets.forEach((function(e){e.data.push(t)})),this.chart.update()}}],[{key:"save",value:function(){}}]),a}(r.Component)),De=function(){function e(){Object(l.a)(this,e)}return Object(c.a)(e,null,[{key:"parseData",value:function(e){function t(e,t){var a=new Uint8Array([e.charCodeAt(t),e.charCodeAt(t+1),e.charCodeAt(t+2),e.charCodeAt(t+3)]);return new Float32Array(a.buffer)[0]}for(var a=[],r=[],n=function(e,t){var a=new Uint8Array([e.charCodeAt(t),e.charCodeAt(t+1),e.charCodeAt(t+2),e.charCodeAt(t+3)]);return new Int32Array(a.buffer)[0]}(e,80),o=0;o<n;o++)for(var i=0;i<9;i++)a.push(t(e,96+4*i+50*o));for(o=0;o<n;o++){for(i=0;i<3;i++)r.push(t(e,84+4*i+50*o));for(i=0;i<3;i++)r.push(t(e,84+4*i+50*o));for(i=0;i<3;i++)r.push(t(e,84+4*i+50*o))}var s=new ze;return s.vertices=a,s.normals=r,s}}]),e}(),ze=function e(){Object(l.a)(this,e),this.vertices=[],this.normals=[]},Re=De,Me=a(188),Pe=a.n(Me),Le=(a(485),function(){function e(){Object(l.a)(this,e)}return Object(c.a)(e,null,[{key:"parse",value:function(e,t,a,r,n){this.detectors=[],this.sources=[];for(var o=t.gl,i=e.split("/"),s=0;s<i.length;s++){var l=i[s].split("{");l[0]=l[0].replace(" ","");var c=null,u=null,d=null;"Detector"==l[0]&&(c=new C(new A(S.vertices,S.normals,o))),"Source"==l[0]&&(u=new z(new A(S.vertices,S.normals,o),new y(0,0,0),"U235")),"Gun"==l[0]&&(d=new j(new A(S.vertices,S.normals,o),new y(0,0,0),new y(0,0,0),0));for(var h=0;h<l.length;h++)for(var m=l[h].split(";"),p=0;p<m.length;p++)if(m[p].split("(")[0].trim(),1!=m[p].split(":").length){var v=m[p].split(":")[0].trim(),g=m[p].split(":")[1].replace(/\n/g,"");if("Detector"==l[0])switch(v){case"position":c.model.position.x=parseFloat(g.split(",")[0]),c.model.position.y=parseFloat(g.split(",")[1]),c.model.position.z=parseFloat(g.split(",")[2]);break;case"rotation":c.model.rotation.x=parseFloat(g.split(",")[0]),c.model.rotation.y=parseFloat(g.split(",")[1]),c.model.rotation.z=parseFloat(g.split(",")[2]);break;case"scale":c.model.scale.x=parseFloat(g.split(",")[0]),c.model.scale.y=parseFloat(g.split(",")[1]),c.model.scale.z=parseFloat(g.split(",")[2]);break;case"material":c.material=g.trim();break;case"name":c.name=g}if("Source"==l[0])switch(v){case"position":u.model.position.x=parseFloat(g.split(",")[0]),u.model.position.y=parseFloat(g.split(",")[1]),u.model.position.z=parseFloat(g.split(",")[2]);break;case"material":u.material=g;break;case"name":u.name=g}if("Gun"==l[0])switch(v){case"position":d.model.position.x=parseFloat(g.split(",")[0]),d.model.position.y=parseFloat(g.split(",")[1]),d.model.position.z=parseFloat(g.split(",")[2]);break;case"direction":d.direction.x=parseFloat(g.split(",")[0]),d.direction.y=parseFloat(g.split(",")[1]),d.direction.z=parseFloat(g.split(",")[2]);break;case"energy":d.material=parseFloat(g);break;case"name":d.name=g}}null!=d&&n(d.name,d.model.position.x,d.model.position.y,d.model.position.z,d.direction.x,d.direction.y,d.direction.z,d.energy),null!=u&&r(u.name,u.model.position.x,u.model.position.y,u.model.position.z,u.material),null!=c&&a(c.name,c.model.position.x,c.model.position.y,c.model.position.z,c.model.rotation.x,c.model.rotation.y,c.model.rotation.z,c.model.scale.x,c.model.scale.y,c.model.scale.z,c.material,"cube",S.vertices,new y(.1,.1,.1))}}}]),e}()),Fe=function(e){Object(d.a)(a,e);var t=Object(h.a)(a);function a(e){var r;return Object(l.a)(this,a),(r=t.call(this,e)).state={text:"",width:"30%"},r.editor=n.a.createRef(),r}return Object(c.a)(a,[{key:"render",value:function(){var e=this;return n.a.createElement("div",{style:{width:this.state.width,height:"100%",top:"50px",position:"fixed",right:"0","z-index":"3",border:"0",borderRadius:"0",padding:"0",margin:"0","background-color":"white"}},n.a.createElement(Y.a,{style:Object(s.a)({border:"0",position:"relative","background-color":"gray","z-index":"3",bottom:"0","border-radius":"0"},"border","solid 1px white"),onClick:function(){e.setState({text:""})}},"New"),n.a.createElement(Y.a,{style:Object(s.a)({border:"0",position:"relative","background-color":"gray","z-index":"3",bottom:"0","border-radius":"0"},"border","solid 1px white")},"Open"),n.a.createElement(Y.a,{onClick:function(){Le.parse(e.state.text,e.props.canvas.current,e.props.createDetector,e.props.createSource,e.props.createGun)},style:Object(s.a)({border:"0",position:"relative","background-color":"gray","z-index":"3",bottom:"0","border-radius":"0"},"border","solid 1px white")},"Run script"),n.a.createElement(Pe.a,{style:{"z-index":"2",width:"100%",height:"100%"},ref:this.editor,value:this.state.text,mode:"html",onChange:function(t){e.setState({text:t})}}),n.a.createElement(Y.a,{onClick:function(){"30%"==e.state.width?e.setState({width:"0"}):e.setState({width:"30%"})},style:{right:this.state.width,position:"fixed",top:"50%","z-index":"3",height:"50px","background-color":"gray",border:"0"}}),n.a.createElement("div",{style:{position:"fixed","z-index":"1","background-color":"black",height:"100%",top:"0",width:this.state.width}}))}}]),a}(r.Component),Te=function(e){Object(d.a)(a,e);var t=Object(h.a)(a);function a(e){var r;return Object(l.a)(this,a),(r=t.call(this,e)).spectrum=n.a.createRef(),r.state={buttons:[],gunbuttons:[],sourcebuttons:[],spectrum:!0,page:"first"},r.createDetector=r.createDetector.bind(Object(u.a)(r)),r.createSource=r.createSource.bind(Object(u.a)(r)),r.createGun=r.createGun.bind(Object(u.a)(r)),r.removeDetector=r.removeDetector.bind(Object(u.a)(r)),r.removeGun=r.removeGun.bind(Object(u.a)(r)),r.removeSource=r.removeSource.bind(Object(u.a)(r)),r.runSim=r.runSim.bind(Object(u.a)(r)),r.runSpectroscopy=r.runSpectroscopy.bind(Object(u.a)(r)),r.setShowParticles=r.setShowParticles.bind(Object(u.a)(r)),r.setShowTracks=r.setShowTracks.bind(Object(u.a)(r)),r.clearRun=r.clearRun.bind(Object(u.a)(r)),r.clearSetup=r.clearSetup.bind(Object(u.a)(r)),r.accordion=n.a.createRef(),r.canvas=n.a.createRef(),r.detectors=[],r.guns=[],r.sources=[],r.particles=[],r.tracks=[],r}return Object(c.a)(a,[{key:"clearRun",value:function(){this.canvas.current.clearRun()}},{key:"runSpectroscopy",value:function(e,t,a,r){var n=[];n.push(0),n.push(1),n.push(0),n.push(0),n.push(0),n.push(0),n.push(0),n.push(0),n.push(0);var o=this.detectors.length;n.push(o);for(var i=0;i<o;i++){n.push("G4_"+this.detectors[i].material),n.push(this.detectors[i].id),n.push(this.detectors[i].model.position.x),n.push(this.detectors[i].model.position.y),n.push(this.detectors[i].model.position.z),n.push(this.detectors[i].model.rotation.x),n.push(this.detectors[i].model.rotation.y),n.push(this.detectors[i].model.rotation.z),n.push(this.detectors[i].model.scale.x),n.push(this.detectors[i].model.scale.y),n.push(this.detectors[i].model.scale.z),n.push(this.detectors[i].model.vertices.length);for(var s=0;s<this.detectors[i].model.vertices.length;s++)n.push(this.detectors[i].model.vertices[s])}var l=this.sources.length;n.push(l);for(i=0;i<l;i++)n.push(this.sources[i].material),n.push(this.sources[i].model.position.x),n.push(this.sources[i].model.position.y),n.push(this.sources[i].model.position.z);var c=this.guns.length;n.push(c);for(i=0;i<c;i++)n.push(this.guns[i].model.position.x),n.push(this.guns[i].model.position.y),n.push(this.guns[i].model.position.z),n.push(this.guns[i].direction.x),n.push(this.guns[i].direction.y),n.push(this.guns[i].direction.z),n.push(this.guns[i].energy);n.push(t),n.push(e),n.push("end"),this.sendGamma(n,a,r)}},{key:"runSim",value:function(e,t){var a=[];a.push(1),a.push(1),a.push(0),a.push(0),a.push(0),a.push(0),a.push(0),a.push(0),a.push(0);var r=this.detectors.length;a.push(r);for(var n=0;n<r;n++){a.push("G4_"+this.detectors[n].material),a.push(this.detectors[n].id),a.push(this.detectors[n].model.position.x),a.push(this.detectors[n].model.position.y),a.push(this.detectors[n].model.position.z),a.push(this.detectors[n].model.rotation.x),a.push(this.detectors[n].model.rotation.y),a.push(this.detectors[n].model.rotation.z),a.push(this.detectors[n].model.scale.x),a.push(this.detectors[n].model.scale.y),a.push(this.detectors[n].model.scale.z),a.push(this.detectors[n].model.vertices.length);for(var o=0;o<this.detectors[n].model.vertices.length;o++)a.push(this.detectors[n].model.vertices[o])}var i=this.sources.length;a.push(i);for(n=0;n<i;n++)a.push(this.sources[n].material),a.push(this.sources[n].model.position.x),a.push(this.sources[n].model.position.y),a.push(this.sources[n].model.position.z);var s=this.guns.length;a.push(s);for(n=0;n<s;n++)a.push(this.guns[n].model.position.x),a.push(this.guns[n].model.position.y),a.push(this.guns[n].model.position.z),a.push(this.guns[n].direction.x),a.push(this.guns[n].direction.y),a.push(this.guns[n].direction.z),a.push(this.guns[n].energy);a.push(e),a.push("end"),this.send(a,t)}},{key:"sendGamma",value:function(e,t,a){for(var r=this,n="",o=0;o<e.length;o++)n+=e[o],n+=",";fetch("http://localhost:9000/gammaAPI",{headers:{Accept:"application/json","Content-Type":"application/json"},method:"POST",body:JSON.stringify({data:n})}).then((function(e){return e.text()})).then((function(e){r.processGammaSpectrum(e,a),t(),r.setState({spectrum:!1,page:"second"})}))}},{key:"send",value:function(e,t){for(var a=this,r="",n=0;n<e.length;n++)r+=e[n],r+=",";fetch("http://localhost:9000/gammaAPI",{headers:{Accept:"application/json","Content-Type":"application/json"},method:"POST",body:JSON.stringify({data:r})}).then((function(e){return e.text()})).then((function(e){a.processResponse(e),t(),alert(e)}))}},{key:"processGammaSpectrum",value:function(e,t){var a=e;a=a.split(" "),this.spectrum.current.clear();for(var r=0;r<a.length;r++)this.spectrum.current.add(Math.floor(parseFloat(a[r])/t)*t);this.spectrum.current.sort()}},{key:"processResponse",value:function(e){var t=e;alert(t);var a=t.split(" "),r=0,n=0;for(this.particles=[];r<a.length-1-this.detectors.length-1;){var o=[],i=parseInt(a[r]);if(0==i)break;for(var s=a[r+1],l=0;l<i;l++){var c=new ke;c.position.x=.1*parseFloat(a[r+7*l+2]),c.position.y=.1*parseFloat(a[r+7*l+3]),c.position.z=.1*parseFloat(a[r+7*l+4]),o.push(.1*parseFloat(a[r+7*l+2])),o.push(.1*parseFloat(a[r+7*l+3])),o.push(.1*parseFloat(a[r+7*l+4])),c.definition=s,c.track_id=parseInt(a[r+7*l+5]),c.parent_id=parseInt(a[r+7*l+6]),c.totalEnergy=parseFloat(a[r+7*l+7]),c.energyDeposit=parseFloat(a[r+7*l+8]),c.color=new g(1,0,0),c.id=n,n++,this.particles.push(c)}r+=7*i+2;for(var u=[],d=0;d<o.length;d++)u.push(1);var h=this.canvas.current.addModel(o,u);"e-"==s&&(h.color=new g(1,0,1)),"gamma"==s&&(h.color=new g(1,1,1)),"e+"==s&&(h.color=new g(1,1,0)),h.drawLines=!0,this.tracks.push(h)}var m=[];for(l=0;l<this.particles.length;l+=Math.ceil(this.particles.length/1e4))m.push(this.particles[l]);this.particles=m.slice(),alert(this.particles.length);for(var p=2*function(e){for(var t=0,a=0;a<e.length;a++)t+=+e[a].totalEnergy;return t/=e.length}(this.particles),v=0;v<this.particles.length;v++){this.particles[v].totalEnergy>p&&(this.particles[v].totalEnergy=p),this.particles[v].color.x=this.particles[v].totalEnergy/p*2,this.particles[v].color.y=1-this.particles[v].color.x;var f=this.particles[v].color.x/100;this.particles[v].scale=new g(f,f,f),this.canvas.current.addParticle(this.particles[v])}}},{key:"modifyDetector",value:function(e){}},{key:"createSource",value:function(e,t,a,r,o){var i=this.state.sourcebuttons,s=n.a.createElement(N.a,null,n.a.createElement(U.a,null,n.a.createElement(I.a,null,"Position: ")),n.a.createElement(U.a,null,n.a.createElement(I.a,null,"x: ",t," cm"),n.a.createElement(I.a,null,"y: ",a," cm"),n.a.createElement(I.a,null,"z: ",r," cm")),n.a.createElement(U.a,null,n.a.createElement(I.a,null,"Material: ",o))),l=this.canvas.current.addSource(t,a,r,o);l.id=ee.id,l.name=e,this.sources.push(l),i.push(n.a.createElement(fe,{name:e,removebutton:this.removeSource,id:ee.id,detector:l,details:s,key:++ee.id,buttons:this.state.buttons})),this.setState({sourcebuttons:i})}},{key:"createGun",value:function(e,t,a,r,o,i,s,l){var c=this.state.gunbuttons,u=n.a.createElement(N.a,null,n.a.createElement(U.a,null,n.a.createElement(I.a,null,"Position: ")),n.a.createElement(U.a,null,n.a.createElement(I.a,null,"x: ",t," cm"),n.a.createElement(I.a,null,"y: ",a," cm"),n.a.createElement(I.a,null,"z: ",r," cm")),n.a.createElement(U.a,null,n.a.createElement(I.a,null,"Direction: ")),n.a.createElement(U.a,null,n.a.createElement(I.a,null,"x: ",o," "),n.a.createElement(I.a,null,"y: ",i," "),n.a.createElement(I.a,null,"z: ",s," ")),n.a.createElement(U.a,null,n.a.createElement(I.a,null,"Energy: ",l," keV"))),d=this.canvas.current.addGun(t,a,r,o,i,s,l);d.id=ee.id,d.name=e,this.guns.push(d),c.push(n.a.createElement(de,{name:e,removebutton:this.removeGun,id:ee.id,detector:d,details:u,key:++ee.id,buttons:this.state.buttons})),this.setState({gunbuttons:c})}},{key:"createDetector",value:function(e,t,a,r,o,i,s,l,c,u,d,h,m,p){var v=this.state.buttons,g=n.a.createElement(N.a,null,n.a.createElement(U.a,null,n.a.createElement(I.a,null,"Position: ")),n.a.createElement(U.a,null,n.a.createElement(I.a,null,"x: ",t," cm"),n.a.createElement(I.a,null,"y: ",a," cm"),n.a.createElement(I.a,null,"z: ",r," cm")),n.a.createElement(U.a,null,n.a.createElement(I.a,null,"Rotation: ")),n.a.createElement(U.a,null,n.a.createElement(I.a,null,"x: ",o," deg"),n.a.createElement(I.a,null,"y: ",i," deg"),n.a.createElement(I.a,null,"z: ",s," deg")),n.a.createElement(U.a,null,n.a.createElement(I.a,null,"Scale: ")),n.a.createElement(U.a,null,n.a.createElement(I.a,null,"x: ",l),n.a.createElement(I.a,null,"y: ",c),n.a.createElement(I.a,null,"z: ",u)),n.a.createElement(U.a,null,n.a.createElement(I.a,null,"Material: ")),n.a.createElement(U.a,null,n.a.createElement(I.a,null,d))),f=null;if("stl"==h){var b=Re.parseData(m);f=this.canvas.current.addSTLDetector(t,a,r,o,i,s,l,c,u,d,b)}else f=this.canvas.current.addDetector(t,a,r,o,i,s,l,c,u,d,h);f.id=ee.id,f.name=e,f.model.color=p,this.detectors.push(f),v.push(n.a.createElement(ee,{name:e,removebutton:this.removeDetector,id:ee.id,detector:f,details:g,key:++ee.id,buttons:this.state.buttons})),this.setState({buttons:v})}},{key:"clearSetup",value:function(){this.setState({buttons:[],gunbuttons:[],sourcebuttons:[]});for(var e=0;e<this.detectors.length;e++)this.canvas.current.removeDetector(this.detectors[e]);for(var t=0;t<this.sources.length;t++)this.canvas.current.removeSource(this.sources[t]);for(var a=0;a<this.guns.length;a++)this.canvas.current.removeGun(this.guns[a]);this.clearRun()}},{key:"removeSource",value:function(e,t){this.canvas.current.removeSource(e);for(var a=0;a<this.state.sourcebuttons.length;a++)if(this.state.sourcebuttons[a].key==t.id){var r=this.state.sourcebuttons;return r.splice(a,1),this.sources.splice(a,1),void this.setState({sourcebuttons:r})}}},{key:"removeGun",value:function(e,t){this.canvas.current.removeGun(e);for(var a=0;a<this.state.gunbuttons.length;a++)if(this.state.gunbuttons[a].key==t.id){var r=this.state.gunbuttons;return r.splice(a,1),this.guns.splice(a,1),void this.setState({gunbuttons:r})}}},{key:"removeDetector",value:function(e,t){this.canvas.current.removeDetector(e);for(var a=0;a<this.state.buttons.length;a++)if(this.state.buttons[a].key==t.id){var r=this.state.buttons;return r.splice(a,1),this.detectors.splice(a,1),void this.setState({buttons:r})}}},{key:"setShowTracks",value:function(e){this.canvas.current.setShowTracks(!e)}},{key:"setShowParticles",value:function(e){this.canvas.current.drawParticles=!e}},{key:"componentDidMount",value:function(){}},{key:"render",value:function(){var e=this,t=this.state.buttons.map((function(e){return n.a.createElement("div",null," ",e," ")})),a=this.state.gunbuttons.map((function(e){return n.a.createElement("div",null," ",e," ")})),r=this.state.sourcebuttons.map((function(e){return n.a.createElement("div",null," ",e," ")}));return n.a.createElement("div",null,n.a.createElement(G.a.Container,{id:"left-tabs-example",defaultActiveKey:"first",activeKey:this.state.page},n.a.createElement(I.a,{sm:3},n.a.createElement(q.a,Object(s.a)({variant:"pills",className:"flex-column"},"className","page"),n.a.createElement(q.a.Item,null,n.a.createElement(q.a.Link,{eventKey:"first",onClick:function(){e.setState({page:"first"})}},"simulation")),n.a.createElement(q.a.Item,null,n.a.createElement(q.a.Link,{eventKey:"second",disabled:this.state.spectrum,onClick:function(){e.setState({page:"second"})}},"spectrum")))),n.a.createElement(G.a.Content,null,n.a.createElement(G.a.Pane,{eventKey:"first"},n.a.createElement(B,{ref:this.canvas,style:{overflow:"hidden"}}),n.a.createElement(Fe,{createGun:this.createGun,createSource:this.createSource,createDetector:this.createDetector,canvas:this.canvas}),n.a.createElement(Se,{run:this.runSim,className:"navbar",runspectroscopy:this.runSpectroscopy,createbutton:this.createDetector,creategunbutton:this.createGun,createsourcebutton:this.createSource,setshowtracks:this.setShowTracks,setshowparticles:this.setShowParticles,clearrun:this.clearRun,clearSetup:this.clearSetup,detectors:this.detectors,buttons:this.state.buttons}),n.a.createElement("div",{className:"buttonbackground"}),n.a.createElement("div",{className:"accordion"},n.a.createElement(H.a,{ref:this.accordion,defaultActiveKey:"0",className:"accordion"},n.a.createElement("div",{style:{color:"white","text-align":"center","background-color":"gray",border:"1px solid white"}},"Detectors"),t,n.a.createElement("div",{style:{color:"white","text-align":"center","background-color":"gray",border:"1px solid white"}},"Sources"),r,n.a.createElement("div",{style:{color:"white","text-align":"center","background-color":"gray",border:"1px solid white"}},"Guns"),a))),n.a.createElement(G.a.Pane,{eventKey:"second"},n.a.createElement(je,{ref:this.spectrum})))))}}]),a}(r.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(n.a.createElement(n.a.StrictMode,null,n.a.createElement(Te,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[190,1,2]]]);
//# sourceMappingURL=main.5038ed06.chunk.js.map