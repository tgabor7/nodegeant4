(this.webpackJsonplogin=this.webpackJsonplogin||[]).push([[0],{10:function(e,t,n){},14:function(e,t,n){"use strict";n.r(t);var s=n(1),c=n.n(s),a=n(4),i=n.n(a),r=(n(9),n(2)),o=(n(10),n(11),n(0)),l=n(13);var d=function(){var e=Object(s.useState)("login"),t=Object(r.a)(e,2),n=t[0],c=t[1],a=Object(s.useState)(""),i=Object(r.a)(a,2),d=i[0],j=i[1],u=Object(s.useState)(""),b=Object(r.a)(u,2),h=b[0],O=b[1],x=Object(s.useState)(""),p=Object(r.a)(x,2),f=(p[0],p[1],Object(s.useState)("")),g=Object(r.a)(f,2),m=g[0],v=g[1],y=Object(s.useState)(""),N=Object(r.a)(y,2),w=N[0],S=N[1],k=Object(s.useState)(""),C=Object(r.a)(k,2),B=(C[0],C[1],Object(s.useState)("")),P=Object(r.a)(B,2),L=(P[0],P[1],Object(s.useState)("")),_=Object(r.a)(L,2),F=_[0],T=_[1],q="http://localhost:9000/",A=function(){return""==d?(v("Enter username"),!1):(v(""),!0)},I=function(){return""==h?(S("Enter password"),!1):h.length<8?(S("Password needs to be at least 8 characters"),!1):(S(""),!0)},E=function(){J()&&fetch(q+"userAPI/login",{headers:{Accept:"application/json","Content-Type":"application/json"},method:"POST",body:JSON.stringify({name:d,password:h})}).then((function(e){return e.text()})).then((function(e){"Successfull login!"===e?(l.set("login",d,{expires:1}),window.location="/"):S(e)}))},J=function(){return A()||I()};return void 0!=l.get("login")?Object(o.jsx)("div",{children:"You are already signed in!"}):"login"===n?Object(o.jsxs)(o.Fragment,{children:[Object(o.jsx)("div",{style:{backgroundImage:"url(/background.jpg)"},className:"body",onMouseMove:function(e){e.target.style.transform="translate("+e.clientX/100+"px, "+e.clientY/100+"px)",e.target.style.overflow="hidden"}}),Object(o.jsxs)("div",{className:"center",children:[Object(o.jsx)("h1",{children:"Login"}),Object(o.jsxs)("form",{method:"post",children:[Object(o.jsxs)("div",{className:"text_field",style:""!=m?{borderBottom:"2px solid #ff0000"}:{},children:[Object(o.jsx)("input",{type:"text",required:!0,value:d,onChange:function(e){j(e.target.value)},onBlur:function(){A()},maxLength:"12"}),Object(o.jsx)("span",{}),Object(o.jsx)("label",{children:"Username"})]}),Object(o.jsx)("div",{className:"error",children:m}),Object(o.jsxs)("div",{className:"text_field",style:""!=w?{borderBottom:"2px solid #ff0000"}:{},children:[Object(o.jsx)("input",{type:"password",onKeyPress:function(e){"Enter"==e.key&&E()},required:!0,value:h,onChange:function(e){O(e.target.value)},onBlur:function(){I()},maxLength:"16"}),Object(o.jsx)("span",{}),Object(o.jsx)("label",{children:"Password"})]}),Object(o.jsx)("div",{className:"error",children:w}),Object(o.jsx)("div",{className:"pass",children:"Forgot password?"}),Object(o.jsx)("input",{type:"button",value:"Login",onClick:function(){E()}}),Object(o.jsxs)("div",{className:"signup_link",children:["Don't have an account? ",Object(o.jsx)("div",{className:"register_link",onClick:function(){c("register")},children:"Register"})]})]})]})]}):Object(o.jsx)("div",{className:"body",children:Object(o.jsxs)("div",{className:"center",children:[Object(o.jsx)("h1",{children:"Register"}),Object(o.jsxs)("form",{method:"post",children:[Object(o.jsxs)("div",{className:"text_field",style:""!=m?{borderBottom:"2px solid #ff0000"}:{},children:[Object(o.jsx)("input",{type:"text",required:!0,value:d,onChange:function(e){j(e.target.value)},onBlur:function(){A()},maxLength:"12"}),Object(o.jsx)("span",{}),Object(o.jsx)("label",{children:"Username"})]}),Object(o.jsx)("div",{className:"error",children:m}),Object(o.jsxs)("div",{className:"text_field",style:""!=w?{borderBottom:"2px solid #ff0000"}:{},children:[Object(o.jsx)("input",{type:"password",required:!0,value:h,onChange:function(e){O(e.target.value)},onBlur:function(){I()},maxLength:"16"}),Object(o.jsx)("span",{}),Object(o.jsx)("label",{children:"Password"})]}),Object(o.jsx)("div",{className:"error",children:w}),Object(o.jsxs)("div",{className:"text_field",style:""!=F?{borderBottom:"2px solid #ff0000"}:{},children:[Object(o.jsx)("input",{type:"password",required:!0,onBlur:function(e){e.target.value!=h?T("confirm password has to be the same as password"):T("")}}),Object(o.jsx)("span",{}),Object(o.jsx)("label",{children:"Confirm Password"})]}),Object(o.jsx)("div",{className:"error",children:F}),Object(o.jsx)("div",{className:"pass",children:"Forgot password?"}),Object(o.jsx)("input",{type:"button",value:"Register",onClick:function(){J&&fetch(q+"userAPI/register",{headers:{Accept:"application/json","Content-Type":"application/json"},method:"POST",body:JSON.stringify({name:d,password:h})}).then((function(e){return e.text()})).then((function(e){"Username taken"!==e&&(window.location="/dashboard")}))}}),Object(o.jsxs)("div",{className:"signup_link",children:["Already have an account? ",Object(o.jsx)("div",{className:"register_link",onClick:function(){c("login")},children:"Login"})]})]})]})})},j=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,15)).then((function(t){var n=t.getCLS,s=t.getFID,c=t.getFCP,a=t.getLCP,i=t.getTTFB;n(e),s(e),c(e),a(e),i(e)}))};i.a.render(Object(o.jsx)(c.a.StrictMode,{children:Object(o.jsx)(d,{})}),document.getElementById("root")),j()},9:function(e,t,n){}},[[14,1,2]]]);
//# sourceMappingURL=main.80fb67a6.chunk.js.map