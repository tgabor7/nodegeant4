(this.webpackJsonplogin=this.webpackJsonplogin||[]).push([[0],{10:function(e,t,n){},13:function(e,t,n){"use strict";n.r(t);var s=n(1),c=n.n(s),i=n(4),a=n.n(i),o=(n(9),n(2)),r=(n(10),n(11),n(0));var l=function(){var e=Object(s.useState)("login"),t=Object(o.a)(e,2),n=t[0],c=t[1],i=Object(s.useState)(""),a=Object(o.a)(i,2),l=a[0],d=a[1],j=Object(s.useState)(""),u=Object(o.a)(j,2),b=u[0],h=u[1],O=Object(s.useState)(""),x=Object(o.a)(O,2),p=(x[0],x[1],Object(s.useState)("")),f=Object(o.a)(p,2),m=f[0],g=f[1],v=Object(s.useState)(""),w=Object(o.a)(v,2),y=w[0],N=w[1],S=Object(s.useState)(""),C=Object(o.a)(S,2),k=(C[0],C[1],Object(s.useState)("")),B=Object(o.a)(k,2),P=(B[0],B[1],Object(s.useState)("")),L=Object(o.a)(P,2),_=L[0],F=L[1],I="http://localhost:9000/",T=function(){return""==l?(g("Enter username"),!1):(g(""),!0)},q=function(){return""==b?(N("Enter password"),!1):b.length<8?(N("Password needs to be at least 8 characters"),!1):(N(""),!0)},A=function(){E()&&fetch(I+"userAPI/login",{headers:{Accept:"application/json","Content-Type":"application/json"},method:"POST",body:JSON.stringify({name:l,password:b})}).then((function(e){return e.text()})).then((function(e){"Failed to login!"!==e&&"User not found"!==e?(window.sessionStorage.setItem("auth",e),window.sessionStorage.setItem("user",l),window.location="/"):N(e)}))},E=function(){return T()||q()};return void 0!=window.sessionStorage.getItem("auth")?Object(r.jsx)("div",{children:"You are already signed in!"}):"login"===n?Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)("div",{className:"body"}),Object(r.jsxs)("div",{className:"center",children:[Object(r.jsx)("h1",{children:"Login"}),Object(r.jsxs)("form",{method:"post",children:[Object(r.jsxs)("div",{className:"text_field",style:""!=m?{borderBottom:"2px solid #ff0000"}:{},children:[Object(r.jsx)("input",{type:"text",required:!0,value:l,onChange:function(e){d(e.target.value)},onBlur:function(){T()},maxLength:"12"}),Object(r.jsx)("span",{}),Object(r.jsx)("label",{children:"Username"})]}),Object(r.jsx)("div",{className:"error",children:m}),Object(r.jsxs)("div",{className:"text_field",style:""!=y?{borderBottom:"2px solid #ff0000"}:{},children:[Object(r.jsx)("input",{type:"password",onKeyPress:function(e){"Enter"==e.key&&A()},required:!0,value:b,onChange:function(e){h(e.target.value)},onBlur:function(){q()},maxLength:"16"}),Object(r.jsx)("span",{}),Object(r.jsx)("label",{children:"Password"})]}),Object(r.jsx)("div",{className:"error",children:y}),Object(r.jsx)("div",{className:"pass",children:"Forgot password?"}),Object(r.jsx)("input",{type:"button",value:"Login",onClick:function(){A()}}),Object(r.jsxs)("div",{className:"signup_link",children:["Don't have an account? ",Object(r.jsx)("div",{className:"register_link",onClick:function(){c("register")},children:"Register"})]})]})]})]}):Object(r.jsx)("div",{className:"body",children:Object(r.jsxs)("div",{className:"center",children:[Object(r.jsx)("h1",{children:"Register"}),Object(r.jsxs)("form",{method:"post",children:[Object(r.jsxs)("div",{className:"text_field",style:""!=m?{borderBottom:"2px solid #ff0000"}:{},children:[Object(r.jsx)("input",{type:"text",required:!0,value:l,onChange:function(e){d(e.target.value)},onBlur:function(){T()},maxLength:"12"}),Object(r.jsx)("span",{}),Object(r.jsx)("label",{children:"Username"})]}),Object(r.jsx)("div",{className:"error",children:m}),Object(r.jsxs)("div",{className:"text_field",style:""!=y?{borderBottom:"2px solid #ff0000"}:{},children:[Object(r.jsx)("input",{type:"password",required:!0,value:b,onChange:function(e){h(e.target.value)},onBlur:function(){q()},maxLength:"16"}),Object(r.jsx)("span",{}),Object(r.jsx)("label",{children:"Password"})]}),Object(r.jsx)("div",{className:"error",children:y}),Object(r.jsxs)("div",{className:"text_field",style:""!=_?{borderBottom:"2px solid #ff0000"}:{},children:[Object(r.jsx)("input",{type:"password",required:!0,onBlur:function(e){e.target.value!=b?F("confirm password has to be the same as password"):F("")}}),Object(r.jsx)("span",{}),Object(r.jsx)("label",{children:"Confirm Password"})]}),Object(r.jsx)("div",{className:"error",children:_}),Object(r.jsx)("div",{className:"pass",children:"Forgot password?"}),Object(r.jsx)("input",{type:"button",value:"Register",onClick:function(){E&&fetch(I+"userAPI/register",{headers:{Accept:"application/json","Content-Type":"application/json"},method:"POST",body:JSON.stringify({name:l,password:b})}).then((function(e){return e.text()})).then((function(e){"Username taken"!==e&&(window.location="/dashboard")}))}}),Object(r.jsxs)("div",{className:"signup_link",children:["Already have an account? ",Object(r.jsx)("div",{className:"register_link",onClick:function(){c("login")},children:"Login"})]})]})]})})},d=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,14)).then((function(t){var n=t.getCLS,s=t.getFID,c=t.getFCP,i=t.getLCP,a=t.getTTFB;n(e),s(e),c(e),i(e),a(e)}))};a.a.render(Object(r.jsx)(c.a.StrictMode,{children:Object(r.jsx)(l,{})}),document.getElementById("root")),d()},9:function(e,t,n){}},[[13,1,2]]]);
//# sourceMappingURL=main.a957a82f.chunk.js.map