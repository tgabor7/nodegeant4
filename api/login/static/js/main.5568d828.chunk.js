(this.webpackJsonplogin=this.webpackJsonplogin||[]).push([[0],{10:function(e,t,n){},13:function(e,t,n){"use strict";n.r(t);var s=n(1),c=n.n(s),a=n(4),i=n.n(a),r=(n(9),n(2)),o=(n(10),n(11),n(0));var l=function(){var e=Object(s.useState)("login"),t=Object(r.a)(e,2),n=t[0],c=t[1],a=Object(s.useState)(""),i=Object(r.a)(a,2),l=i[0],d=i[1],j=Object(s.useState)(""),u=Object(r.a)(j,2),b=u[0],h=u[1],O=Object(s.useState)(""),x=Object(r.a)(O,2),p=(x[0],x[1],Object(s.useState)("")),f=Object(r.a)(p,2),g=f[0],m=f[1],v=Object(s.useState)(""),y=Object(r.a)(v,2),w=y[0],N=y[1],S=Object(s.useState)(""),k=Object(r.a)(S,2),C=(k[0],k[1],Object(s.useState)("")),B=Object(r.a)(C,2),P=(B[0],B[1],Object(s.useState)("")),L=Object(r.a)(P,2),_=L[0],F=L[1],I="http://radsim.inf.elte.hu/",T=function(){return""==l?(m("Enter username"),!1):(m(""),!0)},q=function(){return""==b?(N("Enter password"),!1):b.length<8?(N("Password needs to be at least 8 characters"),!1):(N(""),!0)},A=function(){E()&&fetch(I+"userAPI/login",{headers:{Accept:"application/json","Content-Type":"application/json"},method:"POST",body:JSON.stringify({name:l,password:b})}).then((function(e){return e.text()})).then((function(e){"Failed to login!"!==e&&"User not found"!==e?(window.sessionStorage.setItem("auth",e),window.sessionStorage.setItem("user",l),window.location="/"):N(e)}))},E=function(){return T()||q()};return void 0!=window.sessionStorage.getItem("auth")?Object(o.jsx)("div",{children:"You are already signed in!"}):"login"===n?Object(o.jsxs)(o.Fragment,{children:[Object(o.jsx)("div",{style:{backgroundImage:"url(/background.jpg)"},className:"body",onMouseMove:function(e){e.target.style.transform="translate("+e.clientX/100+"px, "+e.clientY/100+"px)",e.target.style.overflow="hidden"}}),Object(o.jsxs)("div",{className:"center",children:[Object(o.jsx)("h1",{children:"Login"}),Object(o.jsxs)("form",{method:"post",children:[Object(o.jsxs)("div",{className:"text_field",style:""!=g?{borderBottom:"2px solid #ff0000"}:{},children:[Object(o.jsx)("input",{type:"text",required:!0,value:l,onChange:function(e){d(e.target.value)},onBlur:function(){T()},maxLength:"12"}),Object(o.jsx)("span",{}),Object(o.jsx)("label",{children:"Username"})]}),Object(o.jsx)("div",{className:"error",children:g}),Object(o.jsxs)("div",{className:"text_field",style:""!=w?{borderBottom:"2px solid #ff0000"}:{},children:[Object(o.jsx)("input",{type:"password",onKeyPress:function(e){"Enter"==e.key&&A()},required:!0,value:b,onChange:function(e){h(e.target.value)},onBlur:function(){q()},maxLength:"16"}),Object(o.jsx)("span",{}),Object(o.jsx)("label",{children:"Password"})]}),Object(o.jsx)("div",{className:"error",children:w}),Object(o.jsx)("div",{className:"pass",children:"Forgot password?"}),Object(o.jsx)("input",{type:"button",value:"Login",onClick:function(){A()}}),Object(o.jsxs)("div",{className:"signup_link",children:["Don't have an account? ",Object(o.jsx)("div",{className:"register_link",onClick:function(){c("register")},children:"Register"})]})]})]})]}):Object(o.jsx)("div",{className:"body",children:Object(o.jsxs)("div",{className:"center",children:[Object(o.jsx)("h1",{children:"Register"}),Object(o.jsxs)("form",{method:"post",children:[Object(o.jsxs)("div",{className:"text_field",style:""!=g?{borderBottom:"2px solid #ff0000"}:{},children:[Object(o.jsx)("input",{type:"text",required:!0,value:l,onChange:function(e){d(e.target.value)},onBlur:function(){T()},maxLength:"12"}),Object(o.jsx)("span",{}),Object(o.jsx)("label",{children:"Username"})]}),Object(o.jsx)("div",{className:"error",children:g}),Object(o.jsxs)("div",{className:"text_field",style:""!=w?{borderBottom:"2px solid #ff0000"}:{},children:[Object(o.jsx)("input",{type:"password",required:!0,value:b,onChange:function(e){h(e.target.value)},onBlur:function(){q()},maxLength:"16"}),Object(o.jsx)("span",{}),Object(o.jsx)("label",{children:"Password"})]}),Object(o.jsx)("div",{className:"error",children:w}),Object(o.jsxs)("div",{className:"text_field",style:""!=_?{borderBottom:"2px solid #ff0000"}:{},children:[Object(o.jsx)("input",{type:"password",required:!0,onBlur:function(e){e.target.value!=b?F("confirm password has to be the same as password"):F("")}}),Object(o.jsx)("span",{}),Object(o.jsx)("label",{children:"Confirm Password"})]}),Object(o.jsx)("div",{className:"error",children:_}),Object(o.jsx)("div",{className:"pass",children:"Forgot password?"}),Object(o.jsx)("input",{type:"button",value:"Register",onClick:function(){E&&fetch(I+"userAPI/register",{headers:{Accept:"application/json","Content-Type":"application/json"},method:"POST",body:JSON.stringify({name:l,password:b})}).then((function(e){return e.text()})).then((function(e){"Username taken"!==e&&(window.location="/dashboard")}))}}),Object(o.jsxs)("div",{className:"signup_link",children:["Already have an account? ",Object(o.jsx)("div",{className:"register_link",onClick:function(){c("login")},children:"Login"})]})]})]})})},d=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,14)).then((function(t){var n=t.getCLS,s=t.getFID,c=t.getFCP,a=t.getLCP,i=t.getTTFB;n(e),s(e),c(e),a(e),i(e)}))};i.a.render(Object(o.jsx)(c.a.StrictMode,{children:Object(o.jsx)(l,{})}),document.getElementById("root")),d()},9:function(e,t,n){}},[[13,1,2]]]);
//# sourceMappingURL=main.5568d828.chunk.js.map